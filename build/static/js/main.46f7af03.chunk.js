(this.webpackJsonpon_doc=this.webpackJsonpon_doc||[]).push([[0],{308:function(e,a,t){},309:function(e,a,t){},312:function(e,a,t){},315:function(e,a,t){},358:function(e,a){},500:function(e,a,t){},501:function(e,a,t){},504:function(e,a,t){},548:function(e,a,t){},549:function(e,a,t){},550:function(e,a,t){},551:function(e,a,t){},554:function(e,a,t){},555:function(e,a,t){},556:function(e,a,t){},557:function(e,a,t){},560:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(0),i=t.n(n),l=t(48),r=t.n(l),s=(t(308),t(309),t(209),t(55)),o=t(113),d=t(263),u=t(58),j=t(78);o.b.add(u.c,u.l,j.h,d.a,u.m,u.r,u.d,u.e,u.n,u.a,j.i,j.e,j.k,u.q,u.o,j.f,u.h,u.i,u.k,j.g,u.j,j.d,j.c,j.b,u.p,u.f,u.g,j.j,j.a,u.s,u.b);var b=t(127),h=t(82),m=t(13),O=t(12),x=t(208),p=(t(312),t(119)),v=t(301),f=t(571),g=t(576),y=t(54),I=t(87),N=t(588),k=t(566),w=t(264),T=t.n(w),S=t(37),_=t(16),C=(t(315),t(31)),F=t.n(C),z=t(22),q=t.n(z),E=t(34),A=t(35),D=t(586),R=t(582),P=t(581),V=t(580),M=t(575),U=t(579),B=t(299),L=t(266),K=t.n(L),Y=function(e){var a=e.text,t=Object(B.a)(e,["text"]);return Object(c.jsx)("div",Object(m.a)(Object(m.a)({className:"ql-snow"},t),{},{children:Object(c.jsx)("div",{className:"ql-editor",style:{paddingLeft:0},"data-gramm":"false",children:K()(a)})}))},X=Object(A.b)({}),H=Object(E.b)(X,(function(e){return{}}))(Object(s.g)((function(e){e.loading;var a=e.currentUser,t=e.match,i=(e.setItemToBeEdited,e.triggerAction),l=e.triggerActionWithPayload,r=e.title,s=e.config,o=s.dataSourcePath,d=s.addElementViewPath,u=s.deleteRequestPath,j=s.replaceInViewPath,b=s.approveRequestPath,h=s.viewActionPath,x=s.editActionPath,w=s.resultsViewPath,C=s.triggerReload,z=s.triggerWithPayload,E=s.payload,A=s.deleteConfirmText,B=s.actions,L=s.allColumns,K=Object(n.useState)(""),X=Object(O.a)(K,2),H=X[0],Q=X[1],$=Object(n.useState)(""),G=Object(O.a)($,2),J=G[0],W=G[1],Z=Object(n.useState)(null),ee=Object(O.a)(Z,2),ae=(ee[0],ee[1]),te=Object(n.useState)(!1),ce=Object(O.a)(te,2),ne=ce[0],ie=ce[1],le=Object(n.useState)({current:1,pageSize:10}),re=Object(O.a)(le,2),se=re[0],oe=re[1],de=Object(n.useState)(0),ue=Object(O.a)(de,2),je=ue[0],be=ue[1],he=Object(n.useState)([]),me=Object(O.a)(he,2),Oe=me[0],xe=me[1],pe=Object(n.useState)(!1),ve=Object(O.a)(pe,2),fe=ve[0],ge=ve[1],ye=null;Object(n.useEffect)((function(){var e="".concat(o,"&page=").concat(se.current,"&limit=").concat(se.pageSize).concat(H?"&search=".concat(H,"&searchFrom=").concat(J):"");ge(!0),F()({url:e.replace(/[ ]+/g,""),method:"GET"}).then((function(e){Array.isArray(e.data.data)?(xe(e.data.data),be(e.data.total)):console.log(e),ge(!1)})).catch((function(e){console.log(e),ge(!1)}))}),[se,o,H,J]);var Ie=function(){v.b.error("Action cancelled!")},Ne=function(e,a,t){a(),Q(e[0]),W(t)},ke=function(e){console.log(e),e(),Q("")},we=[];return L.forEach((function(e,a){var t;we.push({dataIndex:e.dataIndex,title:e.title,key:e.dataIndex,width:e.width?e.width:90,ellipsis:"detail"===e.dataIndex||"description"===e.dataIndex}),e.isSearchable&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),(t=e.dataIndex,{filterDropdown:function(e){var a=e.setSelectedKeys,n=e.selectedKeys,i=e.confirm,l=e.clearFilters;return Object(c.jsxs)("div",{style:{padding:8},children:[Object(c.jsx)(f.a,{ref:function(e){ye=e},placeholder:"".concat(t," qidirish"),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return Ne(n,i,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(c.jsxs)(g.b,{children:[Object(c.jsx)(y.a,{type:"primary",onClick:function(){return Ne(n,i,t)},icon:Object(c.jsx)(D.a,{}),size:"small",style:{width:90},children:"Qidirish"}),Object(c.jsx)(y.a,{onClick:function(){return ke(l)},size:"small",style:{width:90},children:"Qaytarish"})]})]})},filterIcon:function(e){return Object(c.jsx)(D.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return!!a[t]&&a[t].toString().toLowerCase().includes(e.toString().toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return ye.select()}))},render:function(e){return J===t?Object(c.jsx)(T.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[H],autoEscape:!0,textToHighlight:e?e.toString():null}):e}}))),e.isFilterable&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{filters:e.filters.map((function(e){var a,t;return{text:null!==(a=e.text)&&void 0!==a?a:e,value:null!==(t=e.value)&&void 0!==t?t:e}})),onFilter:function(a,t){return Q(a.toString().toLowerCase()),W(e.dataIndex),Oe}})),e.isBoolean&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex]?1:0})}})),e.isBoolean&&e.isFilterable&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,filters:[{text:1,value:!0},{text:0,value:!1}],onFilter:function(a,t){return!!t[e.dataIndex]===!!a},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex]?1:0})}})),"rich-text"===e.dataType&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)(Y,{text:a[e.dataIndex]})}})),"object"===e.dataType&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:a[e.dataIndex]?e.items.map((function(t,n){return Object(c.jsxs)("div",{children:["".concat(t,": "),a[e.dataIndex][t]]},"sub-dyna-field-".concat(n))})):"Nothing found!"})}})),"array"===e.dataType&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex].map((function(e){return Object(c.jsxs)("span",{style:{backgroundColor:"#4870c7",color:"white",padding:3,marginRight:5,marginBottom:5,borderRadius:3},children:[e," "]})}))})}})),"date"===e.dataType&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{width:150,dataIndex:null,render:function(a){return Object(c.jsx)("span",{children:q()(a[e.dataIndex]).format("MMMM Do YYYY, H:mm:ss")})}})),"array-count"===e.dataType&&(we[a]=Object(m.a)(Object(m.a)({},we[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex].length})}}))})),we.push({title:" ",key:"actions",width:90,fixed:"right",render:function(e){return Object(c.jsxs)("div",{className:"dyna-grid-actions",children:[B.edit?Object(c.jsx)(I.a,{placement:"left",title:"O'zgartirish",children:Object(c.jsx)(S.b,{to:"".concat(x,"/").concat(e.id),children:Object(c.jsx)(R.a,{style:{color:"blue"}})})}):null,B.delete?Object(c.jsx)(I.a,{placement:"bottom",title:"O'chirish",children:Object(c.jsx)(N.a,{title:A||"O'chirilsin?",onConfirm:function(){!function(e){F()({url:"/".concat(u,"/").concat(e.id),method:"delete",data:{creator:e.creator}}).then((function(a){C&&i(C),z&&l(l,E),v.b.success("".concat(e.id," is deleted!"))})).catch((function(e){v.b.error("Failed to delete!"),console.error(e)}))}(e)},onCancel:Ie,okText:"Ha",cancelText:"Yo'q",children:Object(c.jsx)(P.a,{style:{color:"red"}})})}):null,B.approve?Object(c.jsx)(I.a,{placement:"bottom",title:"Tasdiqlash",children:Object(c.jsx)(N.a,{title:"Approve this news?",onConfirm:function(){!function(e){F.a.patch("/".concat(b,"/").concat(e.id),{userId:a.id}).then((function(a){C&&i(C),z&&l(l,E),v.b.success("".concat(e.id," is approved!"))})).catch((function(e){v.b.error("Failed to approve!"),console.error(e)}))}(e)},onCancel:Ie,okText:"Yes",cancelText:"No",children:Object(c.jsx)(_.a,{style:{color:"green"},icon:"check-circle"})})}):null,B.view?Object(c.jsx)(I.a,{placement:"bottom",title:"Ko'rish",children:Object(c.jsx)(S.b,{to:"".concat(j?h.replace("{".concat(j,"}"),e[j]):h,"/").concat(e.id),children:Object(c.jsx)(V.a,{})})}):null,B.chart?Object(c.jsx)(I.a,{placement:"bottomLeft",title:"Natijalar",children:Object(c.jsx)(S.b,{to:"".concat(w,"/").concat(e.id),children:Object(c.jsx)(_.a,{icon:"chart-line",style:{color:"#fb8c00"}})})}):null,B.addElement?Object(c.jsx)(I.a,{placement:"bottomLeft",title:"Qoshimcha  qoshish",children:Object(c.jsx)(S.b,{to:"".concat(t.path,"/").concat(d,"/").concat(e.id),children:Object(c.jsx)(_.a,{style:{color:"#e91e63"},icon:"plus-circle"})})}):null]})}}),Object(c.jsxs)("div",{className:"dyna-grid-main-container ".concat(ne?"akhadjon-dyna-grid-full-view":null),children:[Object(c.jsxs)("div",{onDoubleClick:function(){return ie(!ne)},style:{marginTop:40,marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)(y.a,{onClick:function(){ie(!ne)},type:"primary",icon:ne?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),children:ne?"Kichraytirish":"Kengaytirish"}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{children:r})})]}),Object(c.jsx)(k.a,Object(p.a)({loading:fe,rowKey:"id",onChange:function(e,a,t){console.log("Various parameters",e,a,t),oe(e),ae(a)},bordered:!0,pagination:se,columns:we,dataSource:Oe,scroll:{x:120*L.length}},"pagination",{position:["bottomCenter"],total:je}))]})}))),Q=(x.a.TabPane,function(e){var a=e.doc,t=e.hideTabs,i=function(e){switch(e){case"user-products":return{title:"Maxsulotlaringiz",createTitle:"Maxsulotlarni yuklash",gridSourceUrl:"/api/v1/products",createUrl:"/cabinet/products",gridConfig:{deleteRequestPath:"api/v1/user-products",deleteConfirmText:"Shu productni ochirilsinmi?",actions:{delete:!0},allColumns:[{title:"Katalog kodi",dataIndex:"CatalogCode",isSearchable:!0,width:200},{title:"Klass kodi",dataIndex:"ClassCode",isSearchable:!0,width:200},{title:"Nomi",dataIndex:"CatalogName",isSearchable:!0,width:300}]}};case"notification":return{title:"Notifications",createTitle:"Notification yaratish",createUrl:"/admin/notification/create",gridSourceUrl:"/api/v1/notifications",gridConfig:{deleteRequestPath:"api/v1/notifications",viewActionPath:"/admin/notification/view",editActionPath:"/admin/notification/edit",deleteConfirmText:"Shu notification ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Sarlavha",dataIndex:"title_uz",isSearchable:!0,width:300},{title:"Mazmuni",dataIndex:"body_uz",isSearchable:!0,width:400},{title:"Muhimligi",dataIndex:"importance",isFilterable:!0,width:100,filters:[{value:1,text:"1 - Uncha muxim emas"},{value:2,text:"2 - Muxim emas"},{value:3,text:"3 - Muxim"},{value:4,text:"4 - Muximroq"},{value:5,text:"5 - O'ta muxim"}]},{title:"Holati",dataIndex:"isActive",isFilterable:!0,width:100,filters:[{value:0,text:"Aktiv emas"},{value:1,text:"Aktiv"}]}]}};case"act":return{title:"Aktlar",createTitle:"Akt yaratish",createUrl:"/cabinet/act/create",gridSourceUrl:"/api/v1/acts",gridConfig:{deleteRequestPath:"api/v1/atcs",viewActionPath:"/cabinet/act/view",editActionPath:"/cabinet/act/edit",deleteConfirmText:"Shu akt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Akt \u2116",dataIndex:"actNo",isSearchable:!0},{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"contract":return{title:"Shartnomalar",createTitle:"Shartnoma yaratish",createUrl:"/cabinet/contract/create",gridSourceUrl:"/api/v1/contracts",gridConfig:{deleteRequestPath:"api/v1/contracts",viewActionPath:"/cabinet/contracts/view",editActionPath:"/cabinet/contract/edit",deleteConfirmText:"Shu kontrakt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"empowerment":return{title:"Ishonchnomalar",createTitle:"Ishonchnoma yaratish",createUrl:"/cabinet/empowerment/create",gridSourceUrl:"/api/v1/empowerments",gridConfig:{deleteRequestPath:"api/v1/empowerments",viewActionPath:"/cabinet/empowerment/view",editActionPath:"/cabinet/empowerment/edit",deleteConfirmText:"Shu ishonchnoma ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Ishonchnoma \u2116",dataIndex:"empowermentNo",isSearchable:!0,width:100},{title:"Kontrakt \u2116",dataIndex:"contractNo",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"tty":return{title:"Tovar transport yo'lxati",createTitle:"TTY yaratish",createUrl:"/cabinet/tty/create",gridSourceUrl:"/api/v1/ttys",gridConfig:{deleteRequestPath:"api/v1/ttys",viewActionPath:"/cabinet/tty/view",editActionPath:"/cabinet/tty/edit",deleteConfirmText:"Shu TTY ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"TTY \u2116",dataIndex:"wayBillNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"state",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};default:return{title:"Hisob fakturalar",createTitle:"Faktura yaratish",createUrl:"/cabinet/factura/create",gridSourceUrl:"/api/v1/facturas",gridConfig:{deleteRequestPath:"api/v1/facturas",viewActionPath:"/cabinet/factura/view",editActionPath:"/cabinet/factura/edit",deleteConfirmText:"Shu faktura ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Faktura \u2116",dataIndex:"facturaNo",isSearchable:!0},{title:"Kontrakt \u2116",dataIndex:"contractNo",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}}}}(a),l=i.title,r=i.createTitle,s=i.createUrl,o=i.gridSourceUrl,d=i.gridConfig,u=Object(n.useState)(1),j=Object(O.a)(u,2),b=j[0],h=j[1],x=Object(n.useState)(!1),p=Object(O.a)(x,2);p[0],p[1];return Object(c.jsx)("div",{className:"factura-home-page-container",children:Object(c.jsxs)("div",{className:"factura-home-sub-con",children:[Object(c.jsxs)("div",{className:"factura-home-title",children:[Object(c.jsx)("h2",{children:l}),Object(c.jsx)(S.b,{to:s,children:Object(c.jsx)("span",{children:r})})]}),t?null:Object(c.jsx)("div",{className:"factura-home-list-tabs",children:Object(c.jsxs)("div",{className:"factura-home-list-tab-con",children:[Object(c.jsx)("div",{onClick:function(){return h(1)},className:"status-tab-bar ".concat(1===b?"active-tab":""),children:"Kiruvchi hujjatlar"}),Object(c.jsx)("div",{onClick:function(){return h(2)},className:"status-tab-bar ".concat(2===b?"active-tab":""),children:"Yuborilganlar"}),Object(c.jsx)("div",{onClick:function(){return h(3)},className:"status-tab-bar ".concat(3===b?"active-tab":""),children:"Saqlanganlar"}),Object(c.jsx)("div",{onClick:function(){return h(4)},className:"status-tab-bar ".concat(4===b?"active-tab":""),children:"Barchasi"})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(H,{config:Object(m.a)(Object(m.a)({},d),{},{dataSourcePath:"".concat(o,"?tab=").concat({1:"in",2:"out",3:"saved",4:"all"}[b])})})})]})})}),$=t(45),G=(t(131),t(85)),J=t.n(G),W=t(169),Z=t(170),ee=t(124),ae=t(180),te=t(177),ce=(t(500),function(e){Object(ae.a)(t,e);var a=Object(te.a)(t);function t(e){var c;return Object(W.a)(this,t),(c=a.call(this,e)).handleChange=c.handleChange.bind(Object(ee.a)(c)),c.state={},c}return Object(Z.a)(t,[{key:"handleChange",value:function(e){var a=this.props,t=a.onCommit,c=a.onRevert;if(!e)return c();var n=this.state.e;t(e.target.value,n),console.log(e.target.value,n)}},{key:"render",value:function(){return Object(c.jsxs)("select",{defaultValue:null,onChange:this.handleChange,onSelect:this.handleChange,children:[Object(c.jsx)("option",{value:"04911",children:"04911 - \u0411\u043e\u0448\u049b\u0430 \u0431\u043e\u0441\u043c\u0430 \u043c\u0430\u04b3\u0441\u0443\u043b\u043e\u0442\u043b\u0430\u0440"}),Object(c.jsx)("option",{value:"9990000725",children:"9990000725 - \u0422\u0440\u0443\u0431\u0430 \u0441\u0432\u0430\u0440\u043d\u0430\u044f \u0438\u0437 \u0441\u0442\u0430\u043b\u0438"}),Object(c.jsx)("option",{value:"9990000902",children:"9990000902 - \u041f\u043e\u043b\u0438\u044d\u0442\u0438\u043b\u0435\u043d\u043e\u0432\u0430\u044f \u0442\u0440\u0443\u0431\u0430 \u0434=32 \u043c\u043c"})]})}}]),t}(n.PureComponent)),ne=(t(194),function(e){Object(ae.a)(t,e);var a=Object(te.a)(t);function t(e){var c;return Object(W.a)(this,t),(c=a.call(this,e)).handleChange=c.handleChange.bind(Object(ee.a)(c)),c.state={},c}return Object(Z.a)(t,[{key:"handleChange",value:function(e){var a=this.props,t=a.onCommit,c=(a.onRevert,this.state.e);t(e.target.value,c)}},{key:"render",value:function(){return Object(c.jsx)("select",{defaultValue:1,onChange:this.handleChange,children:ie.map((function(e){return Object(c.jsxs)("option",{value:e.value,children:[" ",e.value," - ",e.label]})}))})}}]),t}(n.PureComponent)),ie=[{value:0,label:"boshqa"},{value:1,label:"\u0448\u0442\u0443\u043a\u0430"},{value:2,label:"\u043f\u0430\u0447\u043a\u0430"},{value:3,label:"\u043c\u0438\u043b\u043b\u0438\u0433\u0440\u0430\u043c\u043c"},{value:4,label:"\u0433\u0440\u0430\u043c\u043c"},{value:5,label:"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c"},{value:6,label:"\u0446\u0435\u043d\u0442\u043d\u0435\u0440"},{value:7,label:" \u0442\u043e\u043d\u043d\u0430"},{value:8,label:" \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:9,label:"\u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:10,label:"\u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:11,label:"\u043c\u0435\u0442\u0440"},{value:12,label:"\u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:13,label:"\u043a\u0432. \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:14,label:"\u043a\u0432. \u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:15,label:"\u043a\u0432. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:16,label:"\u043a\u0432. \u043c\u0435\u0442\u0440"},{value:17,label:"1000 \u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:18,label:"\u043a\u0432. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:19,label:"\u043a\u0443\u0431. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:20,label:"\u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:21,label:"\u043a\u0443\u0431. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:22,label:"\u043c\u0438\u043b\u043b\u0438\u043b\u0438\u0442\u0440"},{value:23,label:"\u043b\u0438\u0442\u0440"},{value:24,label:"\u0434\u0430\u043b"},{value:25,label:"\u0441\u0443\u043c"},{value:26,label:"\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442"},{value:27,label:"\u0441\u0443\u0442\u043a\u0430"},{value:28,label:"\u0441\u043e\u0430\u0442"},{value:29,label:"\u043f\u0430\u0440"},{value:30,label:"\u0444\u043b\u0430\u043a\u043e\u043d"},{value:31,label:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435"},{value:32,label:"\u043f\u043e\u043a\u0430\u0437\u044b"},{value:33,label:"\u043a\u043e\u0440\u043e\u0431\u043a\u0430"},{value:34,label:"\u043c\u043e\u0442\u043e\u0447\u0430\u0441"},{value:35,label:"\u0413\u043a\u0430\u043b"},{value:36,label:"\u043a\u0412\u0442\u0447"},{value:37,label:"\u0440\u0435\u0439\u0441"},{value:38,label:"\u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430"},{value:39,label:"\u043c\u0438\u043d\u0443\u0442"},{value:40,label:"\u043d\u043e\u0440\u043c\u0430/\u0447\u0430\u0441"},{value:41,label:"\u0431\u0430\u043b\u043b\u043e\u043d"},{value:42,label:"\u0434\u0435\u043d\u044c"},{value:43,label:"\u043c\u0435\u0441\u044f\u0446"},{value:44,label:"\u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"},{value:45,label:"\u0441\u0435\u0440\u0438\u044f"},{value:46,label:"\u0431\u0443\u0442\u044b\u043b\u043a\u0430"},{value:47,label:"\u043a\u0435\u0433\u0430"},{value:48,label:"\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f"},{value:49,label:"\u0440\u0443\u043b\u043e\u043d"},{value:50,label:"\u043f\u043e\u0440\u0446\u0438\u044f"},{value:51,label:"\u043f\u043e\u0433\u043e\u043d\u043d\u044b\u0439\xa0\u043c\u0435\u0442\u0440"},{value:52,label:"\u0433\u0430"},{value:53,label:"\u043a\u0412\u0430\u0440\u0447"},{value:54,label:"\u0447\u0435\u043b\u043e\u0432\u0435\u043a/\u0447\u0430\u0441"},{value:55,label:"\u043a\u0412\u0430\u0440"},{value:56,label:"\u043a\u0412\u0442"},{value:57,label:"\u0433\u043e\u0434"},{value:58,label:"\u043b\u0438\u0441\u0442"},{value:59,label:"\u0431\u043b\u043e\u043a"}],le=t(142),re=t(569),se=t(567),oe=t(568),de=(t(501),t(577)),ue=t(584),je=t(583),be=function(e){var a=e.pTin,t=e.tinLabel,n=e.pName,i=e.nameLabel,l=e.form,r=e.tinCol,s=e.nameCol;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:null!==r&&void 0!==r?r:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:a,children:Object(c.jsx)(f.a,{size:"large",onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?v.b.warning("STIR notog'ri kiritildi!"):e.target.value>1e8&&e.target.value<=999999999&&F()({url:"/api/v1/companies/tin/".concat(e.target.value),method:"GET"}).then((function(e){var a=e.data,t=a.name,c=a.fullName,i={};if(Array.isArray(n)){var r=l.getFieldValue("contract_partners");r[n[0]][n[1]]=null!==t&&void 0!==t?t:c,l.setFieldsValue({contract_partners:Object($.a)(r)})}else i[n]=null!==t&&void 0!==t?t:c,l.setFieldsValue(i)})).catch((function(e){console.log(e)}))}})},"".concat(a,"-tin-name")),Object(c.jsx)("span",{className:"custom-input-label-1",children:t})]})}),Object(c.jsx)(h.a,{md:null!==s&&void 0!==s?s:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:n,children:Object(c.jsx)(f.a,{size:"large"})},"".concat(n,"-tin-name")),Object(c.jsx)("span",{className:"custom-input-label-1",children:i})]})})]})})},he=(t(504),function(e){return e.user}),me=Object(A.a)([he],(function(e){return e.currentUser})),Oe=Object(A.a)([he],(function(e){return e.token})),xe=Object(A.a)([he],(function(e){return e.cabinetData})),pe=Object(A.a)([he],(function(e){return e.userCompanies})),ve=Object(A.b)({user:me}),fe=Object(E.b)(ve)((function(e){var a=e.user,t=e.docType,i=e.form,l=a.tin,r=a.name,s=a.fullName,o=a.regCode,d=a.mfo,u=a.account,j=a.address,m=a.directorName,O=a.directorTin,x=a.accountant,p=a.phone;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"\u0421\u0438\u0437\u043d\u0438\u043d\u0433 \u043c\u0430\u044a\u043b\u0443\u043c\u043e\u0442\u043b\u0430\u0440\u0438\u043d\u0433\u0438\u0437"}),"contract"==t?Object(c.jsx)(be,{form:i,nameCol:11,tinCol:11,tinLabel:"Jis.Shaxs STIR",nameLabel:"Jis.Shaxs FIO",pTin:"sellerFizTin",pName:"sellerFizFio"}):null,Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerTin",rules:[{required:!0}],initialValue:l,children:Object(c.jsx)(f.a,{disabled:!0,size:"large",placeholder:"Sotuvchi INN"})},"dyna-form-item-inn-seller"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"INN"})]}),"contract"!==t?Object(c.jsx)("h3",{children:"\u0422\u0430\u0448\u043a\u0438\u043b\u043e\u0442"}):null,Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"sellerName",initialValue:null!==r&&void 0!==r?r:s,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0421\u043e\u0442\u0443\u0432\u0447\u0438 \u043d\u043e\u043c\u0438"})},"seller-name-1-sellerName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0421\u043e\u0442\u0443\u0432\u0447\u0438 \u043d\u043e\u043c\u0438"})]}),"act"!==t?Object(c.jsxs)(n.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerVatRegCode",initialValue:o,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u049a\u049a\u0421 \u0442\u045e\u043b\u043e\u0432\u0447\u0438\u0441\u0438\u043d\u0438\u043d\u0433 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account-vatreg"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u049a\u0421 \u0442\u045e\u043b\u043e\u0432\u0447\u0438\u0441\u0438\u043d\u0438\u043d\u0433 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u049b\u0430\u043c\u0438"})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerAccount",initialValue:u,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u04b2\u0438\u0441\u043e\u0431 \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u04b2\u0438\u0441\u043e\u0431 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerMobilePhone",initialValue:p,children:Object(c.jsx)(f.a,{size:"large",placeholder:"Mobile phone"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Mobile phone"})]}):Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerMfo",initialValue:d,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041c\u0424\u041e"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0424\u041e"})]})})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerAddress",initialValue:j,children:Object(c.jsx)(f.a,{rules:[{required:!0}],size:"large",placeholder:"\u041c\u0430\u043d\u0437\u0438\u043b"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0430\u043d\u0437\u0438\u043b"})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerDirector",initialValue:m,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerDirectorTin",initialValue:O,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 INN"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 INN"})]}):Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"sellerAccountant",initialValue:x,children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0411\u043e\u0448 \u0445\u0438\u0441\u043e\u0431\u0447\u0438"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0411\u043e\u0448 \u0445\u0438\u0441\u043e\u0431\u0447\u0438"})]})})]})]}):null]})})),ge=[{readOnly:!0,value:"",width:50},{readOnly:!0,value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*"},{readOnly:!0,value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",dataEditor:ne},{readOnly:!0,value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438"},{readOnly:!0,value:"\u041d\u0430\u0440\u04b3*"},Object(p.a)({readOnly:!0,value:"\u042e\u043a\u043d\u0438\u043d\u0433 \u0443\u043c\u0443\u043c\u0438\u0439 \u049b\u0438\u0439\u043c\u0430\u0442\u0438"},"readOnly",!0),{readOnly:!0,value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*"},{readOnly:!0,value:"\u042e\u043a\u043a\u0430 \u0434\u043e\u0438\u0440 \u0445\u0443\u0436\u0436\u0430\u0442\u043b\u0430\u0440"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430\u043d\u0438 \u0430\u043d\u0438\u049b\u043b\u0430\u0448 \u0443\u0441\u0443\u043b\u0438"},{readOnly:!0,value:"\u042e\u043a \u0441\u0438\u043d\u0444\u0438"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u0431\u0440\u0443\u0442\u0442\u043e)"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u043d\u0435\u0442\u0442\u043e)"}],ye=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u042f\u0433\u043e\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d \u043c\u0438\u043b\u043b\u0438\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 \u0431\u045e\u0439\u0438\u0447\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0438*",readOnly:!0,width:150},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434\u0438",readOnly:!0,width:100},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"\u0410\u043a\u0446\u0438\u0437 \u0441\u043e\u043b\u0438\u0493\u0438 \u0441\u0442\u0430\u0432\u043a\u0430\u0441\u0438 (%)",readOnly:!0,width:100},{value:"\u0410\u043a\u0446\u0438\u0437, \u041c\u0438\u049b\u0434\u043e\u0440",readOnly:!0,width:100},{value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*",readOnly:!0,width:100},{value:"\u049b\u049b\u0441, %",readOnly:!0,width:100},{value:"\u049b\u049b\u0441, \u041c\u0438\u049b\u0434\u043e\u0440*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Ie=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Ne=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u042f\u0433\u043e\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d \u043c\u0438\u043b\u043b\u0438\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 \u0431\u045e\u0439\u0438\u0447\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0438*",readOnly:!0,width:150},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434\u0438",readOnly:!0,width:100},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],ke=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100}],we=function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"factura";switch(t){case"empowerment":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:ne},{value:e.count}]}))).unshift(ke);break;case"act":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:ne},{value:e.count},{value:e.price},{value:parseFloat(e.count)*parseFloat(e.price),readOnly:!0,width:150}]}))).unshift(Ie);break;case"contract":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:ce},{value:e.barCode},{value:e.measureId,dataEditor:ne},{value:e.count},{value:e.price},{value:e.deliverySum},{value:e.count*e.price+parseFloat(e.deliverySum),readOnly:!0}]}))).unshift(Ne);break;case"tty":(a=e.map((function(e,a){return[{readOnly:!0,value:a+1,width:50},{value:e.name},{value:e.measureId,dataEditor:ne},{value:e.count},{value:e.price},{value:e.count*e.price,readOnly:!0},{value:e.deliveryCost},{value:e.docs},{value:e.weightMeasureMethod},{value:e.itemClass},{value:e.weightBrut},{value:e.weightNet}]}))).unshift(ge);break;default:(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:ce},{value:e.barCode},{value:e.measureId,dataEditor:ne},{value:e.count},{value:e.baseSumma},{value:e.exciseRate},{value:e.exciseSum,readOnly:!0},{value:e.deliverySum},{value:e.vatRate},{value:e.vatRate*e.baseSumma,readOnly:!0},{value:e.summa,readOnly:!0}]}))).unshift(ye)}return a},Te=t(104),Se=t.n(Te),_e=function(e,a){return'\u0411\u0438\u0437 \u049b\u0443\u0439\u0438\u0434\u0430 \u0438\u043c\u0437\u043e \u0447\u0435\u043a\u0443\u0432\u0447\u0438\u043b\u0430\u0440, "'.concat(null!==e&&void 0!==e?e:"___________",'" \u0431\u0438\u0440 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d,\u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u041f\u0443\u0434\u0440\u0430\u0442\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438 \u0432\u0430 "').concat(null!==a&&void 0!==a?a:"__________",'" \u0431\u043e\u0448\u049b\u0430 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d, \u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438, \u0438\u0448 \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438\u043d\u0438\u043d\u0433 \u0442\u0430\u043b\u0430\u0431\u043b\u0430\u0440\u0438\u0433\u0430 \u043c\u0443\u0432\u043e\u0444\u0438\u049b \u0442\u045e\u043b\u0438\u049b \u0431\u0430\u0436\u0430\u0440\u0438\u043b\u0433\u0430\u043d\u043b\u0438\u0433\u0438 \u0442\u045e\u0493\u0440\u0438\u0441\u0438\u0434\u0430 \u0430\u043a\u0442 \u0442\u0443\u0437\u0434\u0438\u043a.')},Ce=Object(A.b)({token:Oe,user:me}),Fe=Object(E.b)(Ce)((function(e){var a=e.token,t=e.match,i=e.user,l=re.a.useForm(),r=Object(O.a)(l,1)[0],s=t.params.actId,o=Object(n.useState)({actText:_e(i.name)}),d=Object(O.a)(o,2),u=d[0],j=d[1],x=Object(n.useState)(!1),p=Object(O.a)(x,2),g=p[0],I=p[1];Object(n.useEffect)((function(){s&&F()({url:"/api/v1/acts/".concat(s),method:"GET"}).then((function(e){var a=e.data;a.contractDate=q()(a.contractDate),a.created_at=q()(a.created_at),a.actDate=q()(a.actDate),a.updated_at=q()(a.updated_at),console.log(a),j(e.data),r.resetFields(),E(we(e.data.act_products,"act"))})).catch((function(e){console.log(e)}))}),[]);var N=Object(n.useState)(!1),k=Object(O.a)(N,2),w=k[0],T=k[1],S=Object(n.useState)([Ie,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0}]]),C=Object(O.a)(S,2),z=C[0],E=C[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(re.a,{initialValues:u,form:r,name:"factura",onFinish:function(e){I(!0),console.log(e),s?F()({url:"/api/v1/acts/".concat(s),method:"PATCH",data:{act:e,products:z}}).then((function(e){I(!1),e.data.ok?v.b.success("Akt yangilandi!"):v.b.error("Akt yangilashda xatolik!"),console.log(e)})).catch((function(e){I(!1),v.b.error("Akt yangilashda xatolik!"),console.log(e)})):F()({url:"/api/v1/acts",method:"post",data:{act:e,products:z}}).then((function(e){I(!1),e.data.ok?v.b.success("Akt yaratildi!"):v.b.error("Akt yaratishda xatolik!"),console.log(e)})).catch((function(e){I(!1),v.b.error("Akt yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Akt yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"actNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Akt raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Akt raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"actDate",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Akt sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Akt sanasi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(se.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(fe,{form:r,docType:"act"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(qe,{form:r,docType:"act"})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Akt mazmuni"}),Object(c.jsx)(re.a.Item,{name:"actText",children:Object(c.jsx)(Se.a,{size:"large",rows:4})})]}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(w?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(oe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=ce,e[4].dataEditor=ne})),E([z[0]].concat(Object($.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(y.a,{type:"primary",icon:w?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),onClick:function(){return T(!w)},children:w?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(J.a,{data:z,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;z[t][c]=Object(m.a)(Object(m.a)({},z[t][c]),{},{value:n}),z[t][5]=Object(m.a)(Object(m.a)({},z[t][5]),{},{value:z[t][3].value&&z[t][4].value?z[t][3].value*z[t][4].value:0})})),E(Object($.a)(z))}})})}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:z.length},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object($.a)(z),[e]);E(a)},children:"Qo'shish"}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;z.length>1&&(e=z.length-1,console.log(e),z.splice(e,1),E(Object($.a)(z)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsx)(b.a,{justify:"space-between",children:Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"notes",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})})})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{loading:g,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{icon:Object(c.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(re.a.Item,{name:"actId",children:Object(c.jsx)(f.a,{type:"hidden"})},"act-id")]})})})),ze=le.a.Option,qe=function(e){var a=e.form,t=e.docType,i=e.remove,l=e.fieldList,r=Object(n.useState)(!1),s=Object(O.a)(r,2),o=s[0],d=s[1],u=Object(n.useState)([]),j=Object(O.a)(u,2),x=j[0],p=j[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442 \u043c\u0430\u044a\u043b\u0443\u043c\u043e\u0442\u043b\u0430\u0440\u0438"}),"contract"===t?Object(c.jsx)(be,{form:a,pTin:l?[l.name,"buyerPhysicalTin"]:"buyerPhysicalTin",pName:l?[l.name,"buyerPhysicalFio"]:"buyerPhysicalFio",tinLabel:"Jis. Shaxs STIR",nameLabel:"Jis. Shaxs FIO",tinCol:11,nameCol:11}):null,Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:"factura"!==t?24:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerTin"]:"buyerTin",rules:[{required:!0}],children:Object(c.jsx)(f.a,{onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?v.b.warning("STIR notog'ri kiritildi!"):e.target.value>1e8&&e.target.value<=999999999?F()({url:"/api/v1/companies/tin/".concat(e.target.value),method:"GET",data:{tin:e.target.value}}).then((function(e){var c=e.data,n=c.tin,i=c.accountant,r=c.account,s=c.address,o=c.phone,d=c.name,u=c.fullName,j={buyerTin:n,buyerAccountant:i,buyerAccount:r,buyerAddress:s,buyerMobilePhone:o,buyerName:null!==d&&void 0!==d?d:u,buyerMfo:c.mfo,buyerDirector:c.directorName,buyerDirectorTin:c.directorTin,buyerVatRegCode:c.regCode};if("act"===t&&a.setFieldsValue({actText:_e(a.getFieldValue("sellerName"),null!==d&&void 0!==d?d:u)}),l){var b,h=a.getFieldValue("contract_partners");h[l.name]=Object(m.a)(Object(m.a)({},h[l.name]),j),p(null!==(b=e.data.branches)&&void 0!==b?b:[]),a.setFieldsValue({contract_partners:Object($.a)(h)})}else a.setFieldsValue(j)})).catch((function(e){console.log(e)})):a.setFieldsValue({buyerAccountant:null,buyerAccount:null,buyerAddress:null,buyerMobilePhone:null,buyerName:null,buyerMfo:null,buyerDirector:null,buyerVatRegCode:null})},size:"large",placeholder:"Oluvchi INN"})},l?"dyna-form-item-inn-buyer-".concat(l.key):"dyna-form-item-inn-buyer"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"INN"})]})}),Object(c.jsxs)(h.a,{md:"factura"!==t?0:11,children:[Object(c.jsx)("h4",{children:"Bir tomolaman fakturami?"}),Object(c.jsx)(de.a,{onChange:function(e){d(e)},checkedChildren:Object(c.jsx)(ue.a,{}),unCheckedChildren:Object(c.jsx)(je.a,{})})]})]}),o?Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Turi"}),Object(c.jsxs)(re.a.Item,{name:l?[l.name,"singleSidedType"]:"singleSidedType",children:[Object(c.jsx)(re.a.Item,{children:Object(c.jsxs)(le.a,{bordered:!1,size:"large",children:[Object(c.jsx)(ze,{value:1,children:"\u041d\u0430 \u0444\u0438\u0437. \u043b\u0438\u0446\u043e"}),Object(c.jsx)(ze,{value:2,children:" \u041d\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442"}),Object(c.jsx)(ze,{value:3,children:"\u041d\u0430 \u0438\u043c\u043f\u043e\u0440\u0442"}),Object(c.jsx)(ze,{value:4,children:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u0430\u044f \u0441 \u0433\u043e\u0441. \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"}),Object(c.jsx)(ze,{value:5,children:"\u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"})]})}),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Kontragent turi"})]},"sigle-sided-factura-type-1")]}):null,o?null:Object(c.jsxs)("div",{children:["contract"==t?null:Object(c.jsx)("h3",{children:"\u04b2\u0430\u043c\u043a\u043e\u0440\u0438\u043d\u0433\u0438\u0437\u043d\u0438\u043d\u0433 \u041a\u043e\u0440\u0445\u043e\u043d\u0430\u0441\u0438"}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerName"]:"buyerName",children:Object(c.jsx)(f.a,{onChange:function(e){a.setFieldsValue({actText:_e(a.getFieldValue("sellerName"),e.target.value)})},size:"large",placeholder:"H\u043e\u043c\u0438"})},"buyer-name-1-buyerName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"H\u043e\u043c\u0438"})]}),"act"!==t?Object(c.jsxs)(n.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerVatRegCode"]:"buyerVatRegCode",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u049a\u049a\u0421 \u0442\u045e\u043b\u043e\u0432\u0447\u0438\u0441\u0438\u043d\u0438\u043d\u0433 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account-vatreg"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u049a\u0421 \u0442\u045e\u043b\u043e\u0432\u0447\u0438\u0441\u0438\u043d\u0438\u043d\u0433 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0440\u0430\u049b\u0430\u043c\u0438"})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerAccount"]:"buyerAccount",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u04b2\u0438\u0441\u043e\u0431 \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u04b2\u0438\u0441\u043e\u0431 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerMobilePhone"]:"buyerMobilePhone",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Mobile phone"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Mobile phone"})]}):Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerMfo"]:"buyerMfo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041c\u0424\u041e"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0424\u041e"})]})})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerAddress"]:"buyerAddress",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041c\u0430\u043d\u0437\u0438\u043b"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0430\u043d\u0437\u0438\u043b"})]}),"contract"===t?Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerBranch"]:"buyerBranch",children:Object(c.jsx)(le.a,{bordered:!1,size:"large",defaultActiveFirstOption:!0,placeholder:"",children:x.map((function(e){return Object(c.jsxs)(ze,{value:e.tin,children:[e.tin," - ",e.name]})}))})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Filiali"})]})}):null,Object(c.jsxs)(b.a,{justify:"space-between",align:"stretch",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerDirector"]:"buyerDirector",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?i&&l?Object(c.jsx)(y.a,{className:"factra-action-btns",style:{width:"100%"},danger:!0,size:"large",onClick:function(){return i(l.name)},children:"Olib tashlash"}):null:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerAccountant"]:"buyerAccountant",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0411\u043e\u0448 \u0445\u0438\u0441\u043e\u0431\u0447\u0438"})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0411\u043e\u0448 \u0445\u0438\u0441\u043e\u0431\u0447\u0438"})]})}),"contract"===t?Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(re.a.Item,{name:l?[l.name,"buyerDirectorTin"]:"buyerDirectorTin",children:Object(c.jsx)(f.a,{type:"hidden",size:"large",placeholder:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 INN"})},"seler-account-buyer-dir-tin")}):null]})]}):null]})]})},Ee=le.a.Option,Ae=Object(A.b)({token:Oe}),De=Object(E.b)(Ae)((function(e){var a=e.token,t=e.match,i=re.a.useForm(),l=Object(O.a)(i,1)[0],r=t.params.facturaId,s=Object(n.useState)({facturaType:0}),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(),x=Object(O.a)(j,2),p=x[0],g=x[1],I=Object(n.useState)(!1),N=Object(O.a)(I,2),k=N[0],w=N[1];Object(n.useEffect)((function(){r&&F()({url:"/api/v1/facturas/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=q()(a.contractDate),a.created_at=q()(a.created_at),a.facturaDate=q()(a.facturaDate),a.empowermentDateOfIssue=q()(a.empowermentDateOfIssue),a.oldFacturaDate=q()(a.oldFacturaDate),a.updated_at=q()(a.updated_at),console.log(a),u(e.data),K(we(e.data.factura_products)),l.resetFields()})).catch((function(e){console.log(e)}))}),[]);var T=0,S=1,C=2,z=3,E=4,A=Object(n.useState)(!1),D=Object(O.a)(A,2),R=D[0],P=D[1],V=Object(n.useState)([ye,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}]]),B=Object(O.a)(V,2),L=B[0],K=B[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(re.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){w(!0),console.log(e),r?F()({url:"/api/v1/facturas/".concat(r),method:"PATCH",data:{factura:e,products:L}}).then((function(e){e.data.ok?v.b.success("Faktura o'zgartirildi!"):v.b.error("Faktura o'zgartirishda xatolik!"),console.log(e),w(!1)})).catch((function(e){v.b.error("Faktura o'zgartirishda xatolik!"),console.log(e),w(!1)})):F()({url:"/api/v1/facturas",method:"post",data:{factura:e,products:L}}).then((function(e){e.data.ok?v.b.success("Faktura yaratili!"):v.b.error("Faktura yaratishda xatolik!"),console.log(e),w(!1)})).catch((function(e){console.log(e),v.b.error("Faktura yaratishda xatolik!"),w(!1)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"\u04b2\u0443\u0436\u0436\u0430\u0442 \u0442\u0443\u0440\u0438"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"facturaType",children:Object(c.jsxs)(le.a,{onChange:g,bordered:!1,size:"large",placeholder:"Faktura turi",children:[Object(c.jsx)(Ee,{value:T,children:"Standard"}),Object(c.jsx)(Ee,{value:S,children:"Qo'shimcha"}),Object(c.jsx)(Ee,{value:C,children:"Harajatni qoplash"}),Object(c.jsx)(Ee,{value:z,children:"To'lovsiz"}),Object(c.jsx)(Ee,{value:E,children:"Tuzatuvchi"})]})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Faktura turi"})]})}),Object(c.jsx)(h.a,{md:p===S||p===E?11:0,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"oldFacturaId",children:Object(c.jsx)(f.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura ID"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Eski faktura ID"})]})})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"facturaNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Faktura raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Faktura raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"facturaDate",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Faktura sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Faktura sanasi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(se.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(fe,{form:l})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(qe,{form:l,docType:"factura"})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(R?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(oe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=ce,e[4].dataEditor=ne})),K([L[0]].concat(Object($.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(y.a,{type:"primary",icon:R?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),onClick:function(){return P(!R)},children:R?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(J.a,{data:L,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;L[t][c]=Object(m.a)(Object(m.a)({},L[t][c]),{},{value:n});var i=parseFloat(L[t][5].value)*parseFloat(L[t][6].value),l=parseFloat(i*L[t][7].value/100);L[t][8]={value:parseFloat(l),readOnly:!0};var r=parseFloat(i*parseFloat(L[t][10].value)/100);L[t][11]={value:r,readOnly:!0},L[t][12]={value:i?parseFloat(i+l+r+parseFloat(L[t][9].value,2),2):0,readOnly:!0}})),K(Object($.a)(L))}})})}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:L.length},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],a=[].concat(Object($.a)(L),[e]);K(a)},children:"Qo'shish"}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;L.length>1&&(e=L.length-1,console.log(e),console.log(L),L.splice(e,1),console.log(L),K(Object($.a)(L)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:5,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"empowermentNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0418\u0448\u043e\u043d\u0447\u043d\u043e\u043c\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})},"empowerment-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0418\u0448\u043e\u043d\u0447\u043d\u043e\u043c\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(c.jsx)(h.a,{md:5,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"empowermentDateOfIssue",children:Object(c.jsx)(se.a,{size:"large",placeholder:"\u0418\u0448\u043e\u043d\u0447\u043d\u043e\u043c\u0430 \u0441\u0430\u043d\u0430\u0441\u0438"})},"seler-account-empowerment-dateof-issue"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0418\u0448\u043e\u043d\u0447\u043d\u043e\u043c\u0430 \u0441\u0430\u043d\u0430\u0441\u0438"})]})}),Object(c.jsx)(h.a,{md:12,children:Object(c.jsx)(be,{pName:"agentFio",pTin:"agentTin",nameLabel:"\u041c\u0430\u0441\u044a\u0443\u043b \u0448\u0430\u0445\u0441\u043d\u0438\u043d\u0433 \u0424.\u0418.\u0428.\u0438",tinLabel:"\u0421\u0422\u0418\u0420",tinCol:11,nameCol:11,form:l})})]}),Object(c.jsx)(b.a,{justify:"space-between",children:Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"notes",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})})})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{loading:k,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{icon:Object(c.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(re.a.Item,{name:"facturaId",children:Object(c.jsx)(f.a,{type:"hidden"})},"hidden-factura-id"),Object(c.jsx)(re.a.Item,{name:"facturaProductId",children:Object(c.jsx)(f.a,{type:"hidden"})},"hidden-factura-product-id")]})})})),Re="https://murmuring-inlet-47691.herokuapp.com",Pe={1:{color:"#00FF00",text:"Uncha muxim emas"},2:{color:"#7FFF00",text:"Muxim emas"},3:{color:"#FFAF00",text:"Muxim"},4:{color:"#FF6900",text:"Muximroq"},5:{color:"#FF0000",text:"O'ta muxim"}},Ve=Object(A.b)({user:me}),Me=Object(E.b)(Ve)((function(e){var a=e.match,t=e.user,n=a.params.facturaId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(Re,"/api/v1/facturas/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Ue=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),component:Q}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:De}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:facturaId"),component:Me}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:facturaId"),component:De})]})},Be=t(570),Le=t(300),Ke=t(572),Ye=(t(548),{SUCCESS_LOGIN:"SUCCESS_LOGIN",LOG_OUT:"LOG_OUT",SET_USER_ONLY:"SET_USER_ONLY",SET_CABINET_DATA:"SET_CABINET_DATA",SET_USER_COMPANIES:"SET_USER_COMPANIES"}),Xe=function(){return{type:Ye.LOG_OUT}},He=Object(E.b)(null,(function(e){return{setData:function(a){return e(function(e){return{type:Ye.SET_CABINET_DATA,payload:e}}(a))}}}))(Object(s.g)((function(e){var a=e.location,t=e.admin,i=e.setData,l=Object(n.useState)({}),r=Object(O.a)(l,2),s=r[0],o=r[1],d=Object(n.useState)([]),u=Object(O.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(!1),m=Object(O.a)(h,2),x=m[0],p=m[1],v=Object(n.useState)({factura_awaiting:0,contract_awaiting:0,act_awaiting:0,emp_awating:0,tty_awaiting:0}),f=Object(O.a)(v,2),g=f[0],y=f[1];Object(n.useEffect)((function(){o({cabinet:"/cabinet"===a.pathname,factura:a.pathname.includes("/factura"),contract:a.pathname.includes("/contract"),empowerment:a.pathname.includes("/empowerment"),act:a.pathname.includes("/act"),tty:a.pathname.includes("/tty"),freeDoc:a.pathname.includes("/free-template"),notification:a.pathname.includes("/notification")})}),[a.pathname]);var I=function(){p(!1)};return Object(n.useEffect)((function(){F()({method:"GET",url:"/api/v1/cabinet"}).then((function(e){var a=e.data.notifications;i(e.data),b(a),Array.isArray(a)&&a.length&&p(!0),y(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"cabiner-right-sidebar-cmain-container",children:[Object(c.jsx)(Be.a,{bodyStyle:{width:"70wv"},title:"Notifications",visible:x,onOk:I,onCancel:I,cancelButtonProps:{style:{display:"none"}},children:j.map((function(e,a){return Object(c.jsxs)("div",{style:{marginBottom:30},children:[Object(c.jsxs)("h3",{children:[a+1,". ",e.title_uz]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(Le.a,{style:{marginRight:10},color:Pe[e.importance].color,children:Pe[e.importance].text}),q()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(c.jsx)("div",{children:e.body_uz}),Object(c.jsx)("hr",{})]})}))}),Object(c.jsx)("div",{className:"cabiner-right-sidebar-sub-container",children:Object(c.jsxs)("div",{className:"cabinet-documents-action-containers-bloks",children:[Object(c.jsx)(S.b,{to:"/cabinet",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.cabinet?"active":""),children:[Object(c.jsx)(_.a,{icon:"home"})," Bosh sahifa"]})}),Object(c.jsx)(S.b,{to:"/cabinet/factura",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.factura?"active":""),children:[Object(c.jsx)(_.a,{icon:"file-invoice",className:"action-icon"})," Faktura",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:g.factura_awaiting})]})}),Object(c.jsx)(S.b,{to:"/cabinet/contract",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.contract?"active":""),children:[Object(c.jsx)(_.a,{icon:"file-contract",className:"action-icon"})," Shartnoma",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:g.contract_awaiting})]})}),Object(c.jsx)(S.b,{to:"/cabinet/act",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.act?"active":""),children:[Object(c.jsx)(_.a,{icon:["far","file-alt"],className:"action-icon"})," Akt",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:g.act_awaiting})]})}),Object(c.jsx)(S.b,{to:"/cabinet/empowerment",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.empowerment?"active":""),children:[Object(c.jsx)(_.a,{icon:"file-signature",className:"action-icon"}),"Ishonchnoma",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:g.emp_awating})]})}),Object(c.jsx)(S.b,{to:"/cabinet/tty",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.tty?"active":""),children:[Object(c.jsx)(_.a,{icon:["far","file-archive"],className:"action-icon"})," TTY",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:g.tty_awaiting})]})}),t?Object(c.jsx)(S.b,{to:"/admin/notification",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(s.notification?"active":""),children:[Object(c.jsx)(_.a,{icon:["far","bell"],className:"action-icon"})," Notification",Object(c.jsx)(Ke.a,{style:{marginLeft:10},count:3})]})}):null]})})]})}))),Qe=(t(549),t(574)),$e=function(e){var a=e.data,t=a.title,n=a.icon,i=a.color,l=a.count;return Object(c.jsxs)(Qe.a,{className:"admin-card-container",children:[Object(c.jsx)("div",{className:"admin-card-icon-field admin-card-".concat(i),children:Object(c.jsx)(_.a,{icon:n,className:"admin-card-icon"})}),Object(c.jsx)("div",{className:"admin-card-title",children:t}),Object(c.jsx)("div",{className:"admin-card-content",children:l})]})},Ge=(t(550),Object(A.b)({cabinetData:xe})),Je=Object(E.b)(Ge)((function(e){var a=e.cabinetData,t=Object(n.useState)(0),i=Object(O.a)(t,2),l=i[0],r=i[1],s=null!==a&&void 0!==a?a:{},o=[{title:"Kiruvchi",count:s.income,icon:"cloud-download-alt",color:"purple",footer:"Faktura yaratish",create_url:"/cabinet/documents/waiting"},{title:"Chiquvchi",count:s.outcome,icon:"cloud-upload-alt",color:"green",footer:"Shartnoma yaratish",create_url:"/cabinet/documents/signed"},{title:"Rad etilgan",count:s.rejected,icon:"ban",color:"pink",footer:"Akt yaratish",create_url:"/cabinet/documents/rejected"},{title:"Saqlangan",count:s.saved,icon:["far","bookmark"],color:"orange",footer:"Ishonchnoma yaratish",create_url:"/cabinet/documents/saved"}],d={dataSourcePath:"/api/v1/cabinet/".concat(l,"?hi"),addActionPath:"actions/add",viewActionPath:"/cabinet/{docType}/view",replaceInViewPath:"docType",deleteConfirmText:"Shu faktura ochirilsinmi?",actions:{edit:3===l,delete:3===l,view:!0},allColumns:[{title:"Hujjat \u2116",dataIndex:"docNo",isSearchable:!0},{title:"Hujjat turi",dataIndex:"docType",isFilterable:!0,filters:["factura","act","contract","empowerment","tty"]},{title:"Kontrakt \u2116",dataIndex:"contractNo",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,width:70,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]};return Object(c.jsx)("div",{className:"cabinet-home-main-container",children:Object(c.jsxs)("div",{className:"cabinet-home-sub-container",children:[Object(c.jsx)(b.a,{gutter:[16,16],children:o.map((function(e,a){return Object(c.jsx)(h.a,{onClick:function(){return r(a)},md:6,children:Object(c.jsx)($e,{data:e})})}))}),Object(c.jsx)(H,{title:{0:"Kiruvchi hujjatlar",1:"Chiquvchi hujjatlar",2:"Rad etilgan hujjatlar",3:"Saqlangan hujjatlar"}[l],config:d})]})})})),We=Object(A.b)({token:Oe}),Ze=Object(E.b)(We)((function(e){var a=e.token,t=e.match,i=re.a.useForm(),l=Object(O.a)(i,1)[0],r=t.params.empowermentId,s=Object(n.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1];Object(n.useEffect)((function(){r&&F()({url:"/api/v1/empowerments/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=q()(a.contractDate),a.created_at=q()(a.created_at),a.empowermentDateOfExpire=q()(a.empowermentDateOfExpire),a.empowermentDateOfIssue=q()(a.empowermentDateOfIssue),a.agentPassportDateOfIssue=q()(a.agentPassportDateOfIssue),a.updated_at=q()(a.updated_at),u(a),l.resetFields(),z(we(e.data.products,"empowerment"))})).catch((function(e){console.log(e)}))}),[]);var I=Object(n.useState)(!1),N=Object(O.a)(I,2),k=N[0],w=N[1],T=Object(n.useState)([ke,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:ne},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:ne},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:ne},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:ne},{value:""}]]),S=Object(O.a)(T,2),C=S[0],z=S[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(re.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){g(!0),console.log(e),r?F()({url:"/api/v1/empowerments/".concat(r),method:"PATCH",data:{emp:e,products:C}}).then((function(e){console.log(e),g(!1),e.data.ok?v.b.success("Ishonchnoma ozgartirildi!"):v.b.error("Ishonchnoma o'zgartirishda xatolik!")})).catch((function(e){g(!1),v.b.error("Ishonchnoma o'zgartirishda xatolik!"),console.log(e)})):F()({url:"/api/v1/empowerments",method:"post",data:{emp:e,products:C}}).then((function(e){g(!1),e.data.ok?v.b.success("Ishonchnma yaratildi!"):v.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)})).catch((function(e){g(!1),v.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Ishonchnoma"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"empowermentNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Inshonchnoma raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Inshonchnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"empowermentDateOfIssue",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Berilgan sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Berilgan sanasi"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"empowermentDateOfExpire",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(se.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(fe,{docType:"empowerment"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(qe,{form:l,docType:"empowerment"})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(oe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=ne})),z([C[0]].concat(Object($.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(y.a,{type:"primary",icon:k?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),onClick:function(){return w(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(J.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;C[t][c]=Object(m.a)(Object(m.a)({},C[t][c]),{},{value:n})})),z(Object($.a)(C))}})})}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:ne},{value:""}],a=[].concat(Object($.a)(C),[e]);z(a)},children:"Qo'shish"}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,console.log(e),console.log(C),C.splice(e,1),console.log(C),z(Object($.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentTin",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0421\u0422\u0418\u0420",onChange:function(e){var a=e.target.value;isNaN(a)?v.b.warning("STIR notog'ri kiritildi!"):a>1e8&&a<999999999&&F()({method:"GET",url:"/api/v1/users/tin/"+a}).then((function(e){var a=e.data,t=a.name,c=a.fullName,n=a.passIssuedAt,i=a.passOrg,r=a.passNum;console.log(q()("2020-00-00 00:00:00")._isValid),l.setFieldsValue({agentFio:null!==c&&void 0!==c?c:t,agentPassportDateOfIssue:q()(n)._isValid?q()(n):null,agentPassportIssuedBy:i,agentPassportNumber:r})}))}})},"seler-account-tyin-inn"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0421\u0422\u0418\u0420"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentFio",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u0424\u0418\u0428"})},"agentFio-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0424\u0418\u0428"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentJobTittle",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041c\u0430\u043d\u0441\u0430\u0431"})},"seler-account-empowerment-dateof-issue-agentJobTittle"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0430\u043d\u0441\u0430\u0431"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentPassportNumber",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account-agent-fioe"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentPassportIssuedBy",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"agentPassportDateOfIssue",children:Object(c.jsx)(se.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{loading:p,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{icon:Object(c.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(re.a.Item,{name:"empowermentId",children:Object(c.jsx)(f.a,{type:"hidden"})},"empowermemt-id"),Object(c.jsx)(re.a.Item,{name:"empowermentProductId",children:Object(c.jsx)(f.a,{type:"hidden"})},"empowermemt-product-id")]})})})),ea=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(Q,{doc:"empowerment"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Ze}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:empowermentId"),component:Ze}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:empId"),component:Ze})]})},aa=Object(A.b)({user:me}),ta=Object(E.b)(aa)((function(e){var a=e.match,t=e.user,n=a.params.actId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(Re,"/api/v1/acts/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),ca=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(Q,{doc:"act"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Fe}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:actId"),component:Fe}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:actId"),component:ta})]})},na=t(565),ia=t(578),la=Object(A.b)({token:Oe}),ra=Object(E.b)(la)((function(e){var a=e.token,t=e.match,i=re.a.useForm(),l=Object(O.a)(i,1)[0],r=t.params.contractId,s=Object(n.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1];Object(n.useEffect)((function(){r&&F()({url:"/api/v1/contracts/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=q()(a.contractDate),a.created_at=q()(a.created_at),a.contractExpireDate=q()(a.contractExpireDate),a.updated_at=q()(a.updated_at),a.parts=a.contract_parts,a.contract_partners=a.contract_partners.map((function(e){var a=e.account,t=e.address,c=e.branchCode,n=e.branchName,i=e.director,l=e.directorTin,r=e.fizFio,s=e.fizTin,o=e.mobilePhone,d=e.name,u=e.oked,j=e.tin;e.workPhone,e.physicalTin,e.physicalName;return{buyerAccount:a,buyerAddress:t,buyerBranch:c,buyerBranchName:n,buyerDirector:i,buyerDirectorTin:l,buyerPhysicalFio:r,buyerPhysicalTin:s,buyerMobilePhone:o,buyerName:d,oked:u,buyerTin:j}})),console.log(a),u(a),z(we(e.data.contract_products,"contract")),l.resetFields()})).catch((function(e){console.log(e)}))}),[]);var I=Object(n.useState)(!1),N=Object(O.a)(I,2),k=N[0],w=N[1],T=Object(n.useState)([Ne,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0}]]),S=Object(O.a)(T,2),C=S[0],z=S[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(re.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){console.log(e),g(!0);var a=e.parts.map((function(e,a){return Object(m.a)(Object(m.a)({},e),{},{ordNo:a+1})})),t=e.contract_partners;delete e.parts,delete e.contract_partners,r?F()({url:"/api/v1/contracts/".concat(r),method:"PATCH",data:{contract:e,products:C,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?v.b.success("Shartnoma yangilandi!"):v.b.error("Shartnoma yangilashda xatolik!"),g(!1)})).catch((function(e){v.b.error("Shartnoma yangilashda xatolik!"),console.log(e),g(!1)})):F()({url:"/api/v1/contracts",method:"post",data:{contract:e,products:C,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?v.b.success("Yangi shartnoma yaratildi!"):v.b.error("Shartnoma yaratish xatolik!"),g(!1)})).catch((function(e){console.log(e),v.b.error("Shartnoma yaratish xatolik!"),g(!1)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Shartnoma"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractName",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Nomi"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Nomi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"contractDate",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Tuzilgan sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tuzilgan sanasi"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"contractExpireDate",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractPlace",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma joyi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma joyi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(fe,{docType:"contract",form:l})}),Object(c.jsx)(re.a.List,{name:"contract_partners",children:function(e,a){var t=a.add,n=a.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsx)(h.a,{sm:11,children:Object(c.jsx)(qe,{fieldList:e,remove:n,docType:"contract",form:l},e.key)})})),Object(c.jsx)(re.a.Item,{children:Object(c.jsx)(y.a,{size:"large",className:"factra-action-btns",style:{width:"100%"},type:"dashed",onClick:function(){return t()},icon:Object(c.jsx)(ia.a,{}),children:"Kontragent qo'shish"})})]})}})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(oe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if("done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=ne})),z([C[0]].concat(Object($.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_contract_products.xlsx",download:!0,children:Object(c.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(y.a,{type:"primary",icon:k?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),onClick:function(){return w(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(J.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;C[t][c]=Object(m.a)(Object(m.a)({},C[t][c]),{},{value:n}),C[t][8].value=C[t][5].value&&C[t][6].value?parseFloat(C[t][5].value)*parseFloat(C[t][6].value)+parseFloat(C[t][7].value?C[t][7].value:0):0})),z(Object($.a)(C))}})})}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:ce},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object($.a)(C),[e]);z(a)},children:"Qo'shish"}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,C.splice(e,1),z(Object($.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Shartnoma shartlari"}),Object(c.jsx)(re.a.List,{name:"parts",children:function(e,a){var t=a.add,n=a.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsxs)(b.a,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(c.jsx)(h.a,{sm:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,Object(m.a)(Object(m.a)({},e),{},{name:[e.name,"title"],fieldKey:[e.fieldKey,"title"],rules:[{required:!0}],children:Object(c.jsx)(f.a,{className:"border-right-square",size:"large",placeholder:"Shart sarlavhasi",addonAfter:Object(c.jsx)(_.a,{icon:["far","times-circle"],onClick:function(){return n(e.name)}})})})),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shart sarlavhasi"})]})}),Object(c.jsx)(h.a,{sm:24,children:Object(c.jsx)(re.a.Item,Object(m.a)(Object(m.a)({},e),{},{name:[e.name,"body"],fieldKey:[e.fieldKey,"body"],rules:[{required:!0}],children:Object(c.jsx)(Se.a,{rows:4,placeholder:"Sharnoma matni",size:"large"})}))}),Object(c.jsx)(na.a,{})]},e.key)})),Object(c.jsx)(re.a.Item,{children:Object(c.jsx)(y.a,{size:"large",type:"dashed",onClick:function(){return t()},block:!0,icon:Object(c.jsx)(ia.a,{}),children:"Maydon qo'shish"})})]})}})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{primary:!0,htmlType:"submit",loading:p,className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{icon:Object(c.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(re.a.Item,{name:"contractId",children:Object(c.jsx)(f.a,{type:"hidden"})},"contractId-1")]})})})),sa=Object(A.b)({user:me}),oa=Object(E.b)(sa)((function(e){var a=e.match,t=e.user,n=a.params.contractId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(Re,"/api/v1/contracts/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),da=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(Q,{doc:"contract"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:ra}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:contractId"),component:ra}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:contractId"),component:oa})]})},ua=t(176),ja=Object(A.b)({token:Oe,user:me}),ba=Object(E.b)(ja)((function(e){var a=e.match,t=e.token,i=(e.user,re.a.useForm()),l=Object(O.a)(i,1)[0],r=a.params.ttyId,s=Object(n.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1],I=Object(n.useState)(!1),N=Object(O.a)(I,2),k=N[0],w=N[1],T=Object(n.useState)([ge,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}]]),S=Object(O.a)(T,2),C=S[0],z=S[1];Object(n.useEffect)((function(){r&&F()({url:"/api/v1/ttys/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=q()(a.contractDate),a.created_at=q()(a.created_at),a.wayBillDate=q()(a.wayBillDate),a.tripTicketDate=q()(a.tripTicketDate),a.updated_at=q()(a.updated_at),console.log(a),u(e.data),l.resetFields(),z(we(e.data.products,"tty"))})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(re.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){g(!0),console.log(e),r?F()({url:"/api/v1/ttys/".concat(r),method:"PATCH",data:{tty:e,products:C}}).then((function(e){g(!1),v.b.success("TTY yangilandi!"),console.log(e)})).catch((function(e){g(!1),v.b.error("TTY yangilashda xatolik!"),console.log(e)})):F()({url:"/api/v1/ttys",method:"post",data:{tty:e,products:C}}).then((function(e){g(!1),v.b.success("TTY yaratildi!"),console.log(e)})).catch((function(e){g(!1),v.b.error("TTY yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"TTY yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"wayBillNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"TTY raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"TTY raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"wayBillDate",rules:[{required:!0}],children:Object(c.jsx)(se.a,{size:"large",placeholder:"TTY sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"TTY sanasi"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsx)(re.a.Item,{name:"deliveryType",initialValue:1,children:Object(c.jsx)(ua.a.Group,{style:{width:"100%"},options:[{label:"Omborxonadan omborxonaga",value:1},{label:"Sotuvchidan xaridorgacha",value:2}],optionType:"button"})},"deliveryType")})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(se.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"tripTicketNo",children:Object(c.jsx)(f.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0-TripTicketNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"tripTicketDate",children:Object(c.jsx)(se.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date-TripTicketDate"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi sanasi"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"truckRegNo",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"Avtomobil davlat raqami"})},"truckRegNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil davlat raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"truckModel",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"Avtomobil turi"})},"truckModel"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil turi"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsx)(re.a.Item,{name:"trailerType",initialValue:1,children:Object(c.jsx)(ua.a.Group,{style:{width:"100%"},options:[{label:"Tirkama",value:1},{label:"Yarim tirkama",value:2}],optionType:"button"})},"trailerType")}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"trailerRegNo",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"Tirkama davlat raqami"})},"TrailerRegNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tirkama davlat raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"trailerModel",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"Tirkama turi"})},"TrailerRegNoType"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tirkama turi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"driverFio",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"Haydovchi FIO"})},"DriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Haydovchi FIO"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(fe,{form:l,docType:"act"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(qe,{form:l,docType:"act"})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(be,{form:l,pName:"carrierName",pTin:"carrierTin",nameLabel:"Tashuvchi FIO",tinLabel:"Tashunchi STIR"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(be,{form:l,pName:"customerName",pTin:"customerTin",nameLabel:"Buyurtmachi FIO",tinLabel:"Buyurtmachi STIR"})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"pointOfLoading",children:Object(c.jsx)(f.a,{size:"large"})},"PointOfLoading"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yuklash manzili"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"pointOfUnloading",children:Object(c.jsx)(f.a,{size:"large"})},"pointOfUnloading"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tushirish mazili"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"pointOfRedirectName",children:Object(c.jsx)(f.a,{size:"large"})},"pointOfRedirectName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil nomi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"pointOfRedirectAddress",children:Object(c.jsx)(f.a,{size:"large"})},"pointOfRedirectAddress"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil manzili"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"giverFio",children:Object(c.jsx)(f.a,{size:"large"})},"giverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Topshirdi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"takerFio",children:Object(c.jsx)(f.a,{size:"large"})},"takerFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Qabul qildi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"giverDriverFio",children:Object(c.jsx)(f.a,{size:"large"})},"giverDriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Topshiruvchi haydovchi FIO"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"takerDriverFio",children:Object(c.jsx)(f.a,{size:"large"})},"takerDriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Qabulqiluvchi haydovchi FIO"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"specialNotes",children:Object(c.jsx)(f.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"deliveryDistance",children:Object(c.jsx)(f.a,{size:"large"})},"deliveryDistance"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tashish orligi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"deliveryDistanceInCity",children:Object(c.jsx)(f.a,{size:"large"})},"deliveryDistanceInCity"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tashish orqliq (Shaharda)"})]})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(oe.a,{headers:{Authorization:"Bearer "+t},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=ce,e[4].dataEditor=ne})),z([C[0]].concat(Object($.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(y.a,{type:"primary",icon:k?Object(c.jsx)(M.a,{}):Object(c.jsx)(U.a,{}),onClick:function(){return w(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(J.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t,c,n=e.row,i=e.col,l=e.value;C[n][i]=Object(m.a)(Object(m.a)({},C[n][i]),{},{value:l});var r=parseFloat(null!==(t=C[n][3].value)&&void 0!==t?t:0)*parseFloat(null!==(c=C[n][4].value)&&void 0!==c?c:0);C[n][5]=Object(m.a)(Object(m.a)({},C[n][5]),{},{value:null!==r&&void 0!==r?r:0})})),z(Object($.a)(C))}})})}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:ne},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],a=[].concat(Object($.a)(C),[e]);z(a)},children:"Qo'shish"}),Object(c.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,C.splice(e,1),z(Object($.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{loading:p,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(y.a,{icon:Object(c.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})})]})})})),ha=Object(A.b)({user:me}),ma=Object(E.b)(ha)((function(e){var a=e.match,t=e.user,n=a.params.ttyId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(Re,"/api/v1/ttys/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Oa=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(Q,{doc:"tty"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:ba}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:ttyId"),component:ba}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:ttyId"),component:ma})]})},xa=(t(551),t(587)),pa=function(){var e=Object(n.useState)([]),a=Object(O.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(!1),r=Object(O.a)(l,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){o(!0),F()({url:"api/v1/notifications",method:"GET"}).then((function(e){i(e.data),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]),Object(c.jsxs)("div",{className:"factura-data-sheet-container",style:{margin:15},children:[Object(c.jsx)("h3",{children:"Notifications"}),Object(c.jsx)(xa.b,{loading:s,dataSource:t,pagination:!0,renderItem:function(e){return Object(c.jsx)(xa.b.Item,{children:Object(c.jsxs)("div",{style:{marginBottom:30},children:[Object(c.jsx)("h3",{children:e.title_uz}),Object(c.jsxs)("div",{children:[Object(c.jsx)(Le.a,{style:{marginRight:10},color:Pe[e.importance].color,children:Pe[e.importance].text}),q()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(c.jsx)("div",{children:e.body_uz})]})})}})]})},va=Object(A.b)({user:me}),fa=Object(E.b)(va,(function(e){return{setUserOnly:function(a){return e(function(e){return{type:Ye.SET_USER_ONLY,payload:e}}(a))}}}))((function(e){var a=e.user,t=e.setUserOnly,i=re.a.useForm(),l=Object(O.a)(i,1)[0],r=Object(n.useState)(!1),s=Object(O.a)(r,2),o=s[0],d=s[1];return Object(c.jsx)(re.a,{initialValues:a,onFinish:function(e){console.log(e),d(!0),F()({method:"patch",data:e,url:"api/v1/companies/".concat(a.id)}).then((function(e){d(!1),t(e.data),v.b.success("Succesfully updated!")})).catch((function(e){d(!1),console.log(e)}))},form:l,children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"tin",children:Object(c.jsx)(f.a,{rules:[{required:!0}],size:"large",disabled:!0})},"dyna-form-facutura-no-old-tin"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"STIR"})]})}),[{name:"name",label:"Nomi"},{name:"address",label:"Manzil"},{name:"oked",label:"OKED"},{name:"directorName",label:"Direktor"},{name:"accountant",label:"Hisobchi"},{name:"phone",label:"Telephone"},{name:"account",label:"Hisob raqam"},{name:"mfo",label:"MFO"},{name:"regCode",label:"QQS tolovchi royxatdan otish kodi"}].map((function(e){return Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:e.name,children:Object(c.jsx)(f.a,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-".concat(e.name)),Object(c.jsx)("span",{className:"custom-input-label-1",children:e.label})]})})})),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(y.a,{htmlType:"submit",loading:o,className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})),ga=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(Q,{hideTabs:!0,doc:"user-products"})})},ya=function(){var e=Object(n.useState)(!1),a=Object(O.a)(e,2),t=a[0];a[1];return Object(c.jsx)("div",{children:Object(c.jsx)(re.a,{onFinish:function(e){console.log(e)},children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"password",children:Object(c.jsx)(f.a.Password,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tin"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yangi parol"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"password-confirm",children:Object(c.jsx)(f.a.Password,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tin"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Prolni tasdiqlang"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(y.a,{htmlType:"submit",loading:t,className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})},Ia=x.a.TabPane,Na=function(){return Object(c.jsx)("div",{className:"factura-data-sheet-container",style:{margin:15},children:Object(c.jsxs)(x.a,{onChange:function(e){console.log(e)},type:"card",children:[Object(c.jsx)(Ia,{tab:"Kompaniya ma'lumotlari",children:Object(c.jsx)(fa,{})},"1"),Object(c.jsx)(Ia,{tab:"Parol o'zgartirish",children:Object(c.jsx)(ya,{})},"2"),Object(c.jsx)(Ia,{tab:"Maxsulotlarim",children:Object(c.jsx)(ga,{})},"3")]})})},ka=Object(s.g)((function(e){var a=e.match;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{md:5,lg:4,children:Object(c.jsx)(He,{})}),Object(c.jsxs)(h.a,{md:19,lg:20,children:[Object(c.jsx)(s.b,{exact:!0,path:a.path,component:Je}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/factura"),component:Ue}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/empowerment"),component:ea}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/act"),component:ca}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/contract"),component:da}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/tty"),component:Oa}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/notifications"),component:pa}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/profile"),component:Na})]})]})})})),wa=(t(552),t(553),t(288)),Ta=t(585),Sa=(t(554),t(115)),_a=t(179),Ca=t(573),Fa=function(e){e.locale,e.changeLocale,Object(Ca.a)().i18n;var a=Object(c.jsxs)(Sa.a,{children:[Object(c.jsxs)(Sa.a.Item,{onClick:function(){},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/uz.png"})," O'zb"]}),Object(c.jsxs)(Sa.a.Item,{onClick:function(){},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/ru.png"})," Pyc"]}),Object(c.jsxs)(Sa.a.Item,{onClick:function(){},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/en.png"})," Eng"]})]});return Object(c.jsx)("span",{className:"trigger text-float-right",children:Object(c.jsx)(_a.a,{overlay:a,children:Object(c.jsx)("img",{style:{width:25,borderRadius:"50%",marginRight:30},alt:"languange",src:"/images/uz.png"})})})},za=(t(555),function(e){var a=e.active;return Object(c.jsx)("div",{className:"side-bar-icons-main-container ".concat(a?"inactive":"active"),children:Object(c.jsxs)("div",{className:"sidebar-iconsconyainer",children:[Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{placement:"left",color:"#0075ff",title:"Bosh sahifa",children:Object(c.jsx)(S.b,{to:"/home",children:Object(c.jsx)(_.a,{icon:"home"})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{placement:"left",color:"#0075ff",title:"Notifications",children:Object(c.jsx)(S.b,{to:"/cabinet/notifications",children:Object(c.jsx)(_.a,{icon:["far","bell"]})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(I.a,{title:"Kabinet",color:"#0075ff",placement:"left",children:Object(c.jsx)(S.b,{to:"/cabinet/profile",children:Object(c.jsx)(_.a,{icon:"user-cog"})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(S.b,{to:"/home/faq",children:Object(c.jsx)(_.a,{icon:"question-circle"})})})]})})}),qa=Object(A.b)({user:me}),Ea=Object(E.b)(qa,(function(e){return{logOut:function(){return e(Xe())}}}))(Object(s.g)((function(e){var a=e.user,t=e.logOut;e.location;window.onscroll=function(){return s(!1)};var i=Object(n.useState)(!1),l=Object(O.a)(i,2),r=l[0],s=l[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"header-main-component-container-main",children:[Object(c.jsx)("div",{style:{textAlign:"right",padding:"5px 40px",backgroundColor:"rgba(0,0,0,0.1)"},children:"Call center: +998 71 200 11 22"}),Object(c.jsx)("div",{className:"header-main-component-container",children:Object(c.jsxs)("div",{className:"header-main-conatainer",children:[Object(c.jsx)("span",{children:Object(c.jsxs)(S.b,{to:"/",children:[Object(c.jsx)("img",{className:"logo-on-doc-img",src:"/assests/logo.png",alt:"logo On Doc"})," ",Object(c.jsxs)("span",{style:{fontSize:27,color:"black",fontWeight:"bold"},children:["Online",Object(c.jsx)("span",{style:{color:"rgb(0,174,255)"},children:"Factura"})]})]})}),Object(c.jsxs)("div",{className:"heasder-actions-con",children:[a?Object(c.jsxs)("div",{className:"header-action",style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)(_.a,{className:"header-action-icon",icon:"wallet"}),"  ",Object(c.jsx)("strong",{style:{marginLeft:10},children:" 40500.00"})]}):null,Object(c.jsx)(Fa,{}),a?Object(c.jsxs)("div",{className:"header-action",children:[Object(c.jsx)("strong",{children:"STIR:"}),"  ",a.tin]}):null,a?Object(c.jsx)("div",{className:"header-action",children:Object(c.jsx)(I.a,{title:"Tizimdan chiqish",children:Object(c.jsx)("div",{style:{cursor:"pointer"},onClick:t,children:Object(c.jsx)(_.a,{icon:"sign-in-alt",className:"header-action-icon"})})})}):Object(c.jsx)(I.a,{title:"Tizimga kirish",children:Object(c.jsx)(S.b,{to:"/home/login",children:Object(c.jsx)(_.a,{icon:"sign-in-alt",className:"header-action-icon"})})}),Object(c.jsx)(Ta.a,{className:"burger-main",toggled:r,toggle:s})]})]})})]}),Object(c.jsx)(za,{active:r})]})}))),Aa=function(e){return Object(wa.a)(e),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})})};String.prototype.splitKeep=function(e,a){var t=this,c=[];if(""!=e){for(var n=[],i=(t[e instanceof RegExp?"replace":"replaceAll"](e,(function(e,a,t){return n.push({value:e,index:a}),function(e){for(var a="0"==e[0]?"1":"0",t="",c=0;c<e.length;c++)t+=a;return t}(e)})),0),l=0;l<n.length;l++){var r=n[l],s=1==a?r.index:r.index+r.value.length;if(s!=i){var o=t.substring(i,s);c.push(o),i=s}}if(i<t.length){o=t.substring(i,t.length);c.push(o)}}else c.add(t);return c};var Da={URL:("https:"===window.location.protocol.toLowerCase()?"wss://127.0.0.1:64443":"ws://127.0.0.1:64646")+"/service/cryptapi",callFunction:function(e,a,t){if(window.WebSocket){var c;try{c=new WebSocket(this.URL)}catch(n){t(n)}c.onerror=function(e){t&&t(e)},c.onmessage=function(e){var t=JSON.parse(e.data);c.close(),a(e,t)},c.onopen=function(){c.send(JSON.stringify(e))}}else t&&t()},version:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(c){a(c)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var c=JSON.parse(a.data);t.close(),e(a,c)},t.onopen=function(){t.send(JSON.stringify({name:"version"}))}}else a&&a()},apidoc:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(c){a(c)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var c=JSON.parse(a.data);t.close(),e(a,c)},t.onopen=function(){t.send(JSON.stringify({name:"apidoc"}))}}else a&&a()},apikey:function(e,a,t){if(window.WebSocket){var c;try{c=new WebSocket(this.URL)}catch(n){t(n)}c.onerror=function(e){t&&t(e)},c.onmessage=function(e){var t=JSON.parse(e.data);c.close(),a(e,t)},c.onopen=function(){var a={name:"apikey",arguments:e};c.send(JSON.stringify(a))}}else t&&t()}},Ra={NEW_API:!1,API_KEYS:["cabinet.onlinefactura.uz","F09A2CBE8EA25A5C065AF78D32F517B1DCF12E997575556CBD90B405A90420E6EB538FCCFFCBAA22C5D191CAB3803965621B023E8642F77F35DDA072FBA17914"],checkVersion:function(e,a){Da.version((function(t,c){if(!0===c.success)if(c.major&&c.minor){var n=100*parseInt(c.major)+parseInt(c.minor);Ra.NEW_API=n>=336,e(c.major,c.minor)}else a(null,"E-IMZO Version is undefined");else a(null,c.reason)}),(function(e){a(e,null)}))},installApiKeys:function(e,a){Da.apikey(Ra.API_KEYS,(function(t,c){c.success?e():a(null,c.reason)}),(function(e){a(e,null)}))},listAllUserKeys:function(e,a,t,c){var n=[],i=[];Ra.NEW_API?Ra._findCertKeys2(e,a,n,i,(function(l){Ra._findPfxs2(e,a,n,i,(function(r){Ra._findTokens2(e,a,n,i,(function(e){if(0===n.length&&i.length>0)c(i[0].e,i[0].r);else{var a=null;1===n.length&&(l?a=l:r?a=r:e&&(a=e)),t(n,a)}}))}))})):Ra._findCertKeys(e,a,n,i,(function(l){Ra._findPfxs(e,a,n,i,(function(e){if(0===n.length&&i.length>0)c(i[0].e,i[0].r);else{var a=null;1===n.length&&(l?a=l:e&&(a=e)),t(n,a)}}))}))},loadKey:function(e,a,t,c){if(e){var n=e;"certkey"===n.type?Da.callFunction({plugin:"certkey",name:"load_key",arguments:[n.disk,n.path,n.name,n.serialNumber]},(function(e,c){if(c.success){var n=c.keyId;a(n)}else t(null,c.reason)}),(function(e){t(e,null)})):"pfx"===n.type?Da.callFunction({plugin:"pfx",name:"load_key",arguments:[n.disk,n.path,n.name,n.alias]},(function(e,n){if(n.success){var i=n.keyId;c?Da.callFunction({name:"verify_password",plugin:"pfx",arguments:[i]},(function(e,c){c.success?a(i):t(null,c.reason)}),(function(e){t(e,null)})):a(i)}else t(null,n.reason)}),(function(e){t(e,null)})):"ftjc"===n.type&&Da.callFunction({plugin:"ftjc",name:"load_key",arguments:[n.cardUID]},(function(e,n){if(n.success){var i=n.keyId;c?Da.callFunction({plugin:"ftjc",name:"verify_pin",arguments:[i,"1"]},(function(e,c){c.success?a(i):t(null,c.reason)}),(function(e){t(e,null)})):a(i)}else t(null,n.reason)}),(function(e){t(e,null)}))}},changeKeyPassword:function(e,a,t){if(e){var c=e;"pfx"===c.type?Da.callFunction({plugin:"pfx",name:"load_key",arguments:[c.disk,c.path,c.name,c.alias]},(function(e,c){if(c.success){var n=c.keyId;Da.callFunction({name:"change_password",plugin:"pfx",arguments:[n]},(function(e,c){c.success?a():t(null,c.reason)}),(function(e){t(e,null)}))}else t(null,c.reason)}),(function(e){t(e,null)})):"ftjc"===c.type&&Da.callFunction({plugin:"ftjc",name:"load_key",arguments:[c.cardUID]},(function(e,c){if(c.success){var n=c.keyId;Da.callFunction({name:"change_pin",plugin:"ftjc",arguments:[n,"1"]},(function(e,c){c.success?a():t(null,c.reason)}),(function(e){t(e,null)}))}else t(null,c.reason)}),(function(e){t(e,null)}))}},createPkcs7:function(e,a,t,c,n){Da.callFunction({plugin:"pkcs7",name:"create_pkcs7",arguments:[btoa(a),e,"no"]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){Da.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;c(t)}else n(null,a.reason)}),(function(e){n(e,null)}))}),n)}else c(i)}else n(null,a.reason)}),(function(e){n(e,null)}))},appendPkcs7Attached:function(e,a,t,c,n){Da.callFunction({plugin:"pkcs7",name:"append_pkcs7_attached",arguments:[a,e]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){Da.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;c(t)}else n(null,a.reason)}),(function(e){n(e,null)}))}),n)}else c(i)}else n(null,a.reason)}),(function(e){n(e,null)}))},_getX500Val:function(e,a){var t=e.splitKeep(/,[A-Z]+=/g,!0);for(var c in t){var n=t[c].search((c>0?",":"")+a+"=");if(-1!==n)return t[c].slice(n+a.length+1+(c>0?1:0))}return""},_findCertKeyCertificates:function(e,a,t,c,n,i,l,r){parseInt(i)+1>n.length?r(l):Da.callFunction({plugin:"certkey",name:"list_certificates",arguments:[n[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j={disk:u.disk,path:u.path,name:u.name,serialNumber:u.serialNumber,subjectName:u.subjectName,validFrom:new Date(u.validFrom),validTo:new Date(u.validTo),issuerName:u.issuerName,publicKeyAlgName:u.publicKeyAlgName,CN:Ra._getX500Val(u.subjectName,"CN"),TIN:Ra._getX500Val(u.subjectName,"INITIALS"),O:Ra._getX500Val(u.subjectName,"O"),T:Ra._getX500Val(u.subjectName,"T"),type:"certkey"};if(j.TIN){var b=e(j,d);0===l.length&&l.push(b);var h=a(b,j);t.push(h)}}else c.push({r:o.reason});Ra._findCertKeyCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}),(function(s){c.push({e:s}),Ra._findCertKeyCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}))},_findCertKeys:function(e,a,t,c,n){var i=[];Da.callFunction({plugin:"certkey",name:"list_disks"},(function(l,r){if(r.success){for(var s in r.disks)if(i.push(r.disks[s]),parseInt(s)+1>=r.disks.length){Ra._findCertKeyCertificates(e,a,t,c,i,0,[],(function(e){n(e[0])}))}}else c.push({r:r.reason})}),(function(e){c.push({e:e}),n()}))},_findPfxCertificates:function(e,a,t,c,n,i,l,r){parseInt(i)+1>n.length?r(l):Da.callFunction({plugin:"pfx",name:"list_certificates",arguments:[n[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j=u.alias.toUpperCase();j=(j=j.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var b={disk:u.disk,path:u.path,name:u.name,alias:u.alias,serialNumber:Ra._getX500Val(j,"SERIALNUMBER"),validFrom:new Date(Ra._getX500Val(j,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(Ra._getX500Val(j,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:Ra._getX500Val(j,"CN"),TIN:Ra._getX500Val(j,"INN")?Ra._getX500Val(j,"INN"):Ra._getX500Val(j,"UID"),UID:Ra._getX500Val(j,"UID"),O:Ra._getX500Val(j,"O"),T:Ra._getX500Val(j,"T"),type:"pfx"};if(b.TIN){var h=e(b,d);0===l.length&&l.push(h);var m=a(h,b);t.push(m)}}else c.push({r:o.reason});Ra._findPfxCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}),(function(s){c.push({e:s}),Ra._findPfxCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}))},_findPfxs:function(e,a,t,c,n){var i=[];Da.callFunction({plugin:"pfx",name:"list_disks"},(function(l,r){if(r.success){var s=r.disks;for(var o in s)if(i.push(r.disks[o]),parseInt(o)+1>=r.disks.length){Ra._findPfxCertificates(e,a,t,c,i,0,[],(function(e){n(e[0])}))}}else c.push({r:r.reason})}),(function(e){c.push({e:e}),n()}))},_findCertKeys2:function(e,a,t,c,n){var i;Da.callFunction({plugin:"certkey",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d={disk:o.disk,path:o.path,name:o.name,serialNumber:o.serialNumber,subjectName:o.subjectName,validFrom:new Date(o.validFrom),validTo:new Date(o.validTo),issuerName:o.issuerName,publicKeyAlgName:o.publicKeyAlgName,CN:Ra._getX500Val(o.subjectName,"CN"),TIN:Ra._getX500Val(o.subjectName,"INITIALS"),O:Ra._getX500Val(o.subjectName,"O"),T:Ra._getX500Val(o.subjectName,"T"),type:"certkey"};if(d.TIN){var u=e(d,s);i||(i=u);var j=a(u,d);t.push(j)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))},_findPfxs2:function(e,a,t,c,n){var i;Da.callFunction({plugin:"pfx",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d=o.alias.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={disk:o.disk,path:o.path,name:o.name,alias:o.alias,serialNumber:Ra._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(Ra._getX500Val(d,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(Ra._getX500Val(d,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:Ra._getX500Val(d,"CN"),TIN:Ra._getX500Val(d,"INN")?Ra._getX500Val(d,"INN"):Ra._getX500Val(d,"UID"),UID:Ra._getX500Val(d,"UID"),O:Ra._getX500Val(d,"O"),T:Ra._getX500Val(d,"T"),type:"pfx"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))},_findTokens2:function(e,a,t,c,n){var i;Da.callFunction({plugin:"ftjc",name:"list_all_keys",arguments:[""]},(function(l,r){if(r.success)for(var s in r.tokens){var o=r.tokens[s],d=o.info.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={cardUID:o.cardUID,statusInfo:o.statusInfo,ownerName:o.ownerName,info:o.info,serialNumber:Ra._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(Ra._getX500Val(d,"VALIDFROM")),validTo:new Date(Ra._getX500Val(d,"VALIDTO")),CN:Ra._getX500Val(d,"CN"),TIN:Ra._getX500Val(d,"INN")?Ra._getX500Val(d,"INN"):Ra._getX500Val(d,"UID"),UID:Ra._getX500Val(d,"UID"),O:Ra._getX500Val(d,"O"),T:Ra._getX500Val(d,"T"),type:"ftjc"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))}},Pa=(t(556),le.a.Option,Object(E.b)(null,(function(e){return{setCurrentUser:function(a){return e(function(e){return{type:Ye.SUCCESS_LOGIN,payload:e}}(a))},setUserComps:function(a){return e(function(e){return{type:Ye.SET_USER_COMPANIES,payload:e}}(a))}}}))(Object(s.g)((function(e){var a=e.setCurrentUser,t=e.history,i=e.setUserComps,l=Object(n.useState)([]),r=Object(O.a)(l,2),s=r[0],o=r[1],d=Object(n.useState)(0),u=Object(O.a)(d,2),j=u[0],m=u[1];Object(n.useEffect)((function(){Ra.listAllUserKeys((function(e,a){return"itm-"+e.serialNumber+"-"+a}),(function(e,a){s.push({value:e,text:a}),o(Object($.a)(s)),console.log(a),console.log(s)}),(function(e,a){console.log(e,a)}),(function(e,a){console.log(a),v.b.error("E-Imzo xatosi. Sizda E-Imzo programmasi yoki E-Imzo browseri mavjud emas!")}))}),[]);var x=Object(n.useState)(!1),p=Object(O.a)(x,2),g=p[0],I=p[1],N=Object(n.useState)(!1),k=Object(O.a)(N,2),w=k[0],T=(k[1],{required:"Bu maydon majburiy!"});return Object(c.jsx)("div",{className:"login-main-container",children:Object(c.jsx)(b.a,{justify:"space-around",children:Object(c.jsx)(h.a,{md:10,children:0===j?Object(c.jsxs)("div",{className:"login-form-containrer",children:[Object(c.jsxs)(re.a,{name:"e-key",onFinish:function(e){console.log(e),Ra.loadKey(e.key.text,(function(e){console.log(e),Ra.createPkcs7(e,"some_auth_text",(function(e){console.log(e)}),(function(e,a){console.log("e:",e),console.log("r:",a)}))}),(function(e,a){console.log("Load key e:",e),console.log("Load key r:",a)})),Ra.createPkcs7(e.key,"random_key_to_authorize",null,(function(e){console.log(e)}),(function(e,a){console.log(e),console.log(a)}))},scrollToFirstError:!0,validateMessages:T,children:[Object(c.jsx)("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #999",borderRadius:11,marginBottom:10,padding:10},children:Object(c.jsx)(re.a.Item,{name:"key",children:Object(c.jsx)(ua.a.Group,{size:"large",children:s.map((function(e){return Object(c.jsx)(ua.a,{value:e,children:Object(c.jsxs)("div",{className:"client-availbale-key",children:[Object(c.jsxs)("div",{children:["FIO: ",e.text.CN," "]}),Object(c.jsxs)("div",{children:["STIR: ",e.text.TIN]}),Object(c.jsxs)("div",{children:["Tashkilot: ",e.text.O]}),Object(c.jsxs)("div",{children:["Amal qilish muddati:",q()(e.text.validTo).format("MMMM Do YYYY, H:mm:ss")]})]})},e.value)}))})})}),Object(c.jsx)(re.a.Item,{children:Object(c.jsx)(y.a,{loading:w,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(c.jsx)(_.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:"Kirish"})})]}),Object(c.jsx)("div",{onClick:function(){return m(1)},style:{textAlign:"center",cursor:"pointer"},children:"STIR va parol orqali kirish"})]}):Object(c.jsxs)("div",{className:"login-form-containrer",children:[Object(c.jsx)("h3",{children:"STIR va parol bilan kirish"}),Object(c.jsxs)(re.a,{name:"tin-pass",onFinish:function(e){I(!0),console.log(e),F()({url:"/api/v1/login-with-password",data:e,method:"POST"}).then((function(e){a(e.data),I(!1),i([{name:"Tech Stack ma'sulyati cheklangan jamiyati",tin:307607131,id:1},{name:"Updated User",tin:518059386,id:2}]),t.push("/home/choosecompany")})).catch((function(e){console.log(e),I(!1),v.b.error("Kabinetga kirishda xatolik!")}))},scrollToFirstError:!0,validateMessages:T,children:[Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"tin",rules:[{required:!0}],children:Object(c.jsx)(f.a,{size:"large",placeholder:"STIR"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"STIR"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{name:"password",rules:[{required:!0}],children:Object(c.jsx)(f.a.Password,{size:"large",placeholder:"Parol"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Parol"})]}),Object(c.jsx)(re.a.Item,{children:Object(c.jsx)(y.a,{loading:g,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(c.jsx)(_.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:"Kirish"})})]}),Object(c.jsx)("div",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){return m(0)},children:"E-imzo bilan kirish"})]})})})})})))),Va=(t(557),Object(A.b)({companies:pe})),Ma=Object(E.b)(Va)(Object(s.g)((function(e){var a=e.history,t=e.companies;return Object(c.jsx)("div",{className:"choose-company-main-container",children:Object(c.jsxs)("div",{className:"choose-company-sub-container",children:[Object(c.jsx)(y.a,{onClick:function(){a.goBack()},type:"primary",icon:Object(c.jsx)(_.a,{style:{marginRight:10},icon:"arrow-circle-left"}),children:"Back"}),Object(c.jsx)("h2",{style:{textAlign:"center"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435"}),Object(c.jsx)("div",{className:"company-card-con",children:t.map((function(e){return Object(c.jsxs)("div",{onClick:function(){return a.push("/cabinet")},className:"company-card",children:[Object(c.jsx)("div",{className:"company-name",children:e.name}),Object(c.jsxs)("div",{className:"company-text",children:[Object(c.jsx)("span",{className:"company-tin",style:{margin:0,padding:0},children:e.tin}),Object(c.jsx)("div",{children:"STIR"})]})]})}))})]})})}))),Ua=Object(A.b)({user:me}),Ba=Object(E.b)(Ua)((function(e){var a=e.match,t=e.user;return console.log(t),Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),component:Aa}),Object(c.jsx)(s.b,{exact:"choosecompany",path:"".concat(a.path,"/choosecompany"),component:Ma}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/login"),render:function(){return t?Object(c.jsx)(s.a,{to:"/cabinet"}):Object(c.jsx)(Pa,{})}})]})})),La=le.a.Option,Ka=function(e){var a=e.match,t=re.a.useForm(),i=Object(O.a)(t,1)[0],l=Object(n.useState)(!1),r=Object(O.a)(l,2),s=r[0],o=r[1],d=a.params.notificationId;Object(n.useEffect)((function(){d&&F()({url:"api/v1/notifications/"+d,method:"get"}).then((function(e){i.setFieldsValue(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{style:{marginTop:20},children:Object(c.jsx)(re.a,{form:i,onFinish:function(e){o(!0),F()({method:d?"patch":"post",data:e,url:d?"/api/v1/notifications/"+d:"/api/v1/notifications"}).then((function(e){e.data.ok?v.b.success("Notification saqlandi!"):v.b.error("Notification saqlashda xatolik!"),o(!1)})).catch((function(e){console.log(e),v.b.error("Notification saqalashda xatolik!"),o(!1)}))},scrollToFirstError:!0,children:Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Notification yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsxs)(h.a,{md:11,children:[Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"title_uz",children:Object(c.jsx)(f.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (uz)"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"title_ru",children:Object(c.jsx)(f.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (ru)"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"title_en",children:Object(c.jsx)(f.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (en)"})]}),Object(c.jsxs)(re.a.Item,{children:[Object(c.jsx)(re.a.Item,{rules:[{required:!0}],name:"importance",children:Object(c.jsxs)(le.a,{bordered:!1,size:"large",name:"importance",defaultActiveFirstOption:!0,children:[Object(c.jsx)(La,{value:1,children:"1 - Uncha muxim emas"}),Object(c.jsx)(La,{value:2,children:"2 - Muxim emas"}),Object(c.jsx)(La,{value:3,children:"3 - Muxim"}),Object(c.jsx)(La,{value:4,children:"4 - Muximroq"}),Object(c.jsx)(La,{value:5,children:"5 - O'ta muxim"})]})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification muximligi"})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(re.a.Item,{label:"Holati",name:"isActive",valuePropName:"checked",rules:[{required:!0}],children:Object(c.jsx)(de.a,{})})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(re.a.Item,{children:Object(c.jsx)(y.a,{loading:s,style:{width:"100%"},size:"large",htmlType:"submit",className:"factra-action-btns save-btn",children:"Saqlash"})})})]})]}),Object(c.jsxs)(h.a,{md:12,children:[Object(c.jsx)(re.a.Item,{name:"body_uz",rules:[{required:!0}],children:Object(c.jsx)(Se.a,{placeholder:"Body uz",rows:4,size:"large"})}),Object(c.jsx)(re.a.Item,{name:"body_ru",rules:[{required:!0}],children:Object(c.jsx)(Se.a,{rows:4,placeholder:"Body ru",size:"large"})}),Object(c.jsx)(re.a.Item,{name:"body_en",rules:[{required:!0}],children:Object(c.jsx)(Se.a,{placeholder:"Body en",rows:4,size:"large"})})]})]})]})})})},Ya=Object(s.g)((function(e){var a=e.match;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{md:5,lg:4,children:Object(c.jsx)(He,{admin:!0})}),Object(c.jsxs)(h.a,{md:19,lg:20,children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification"),render:function(){return Object(c.jsx)(Q,{doc:"notification",hideTabs:!0})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/create"),component:Ka}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/edit/:notificationId"),component:Ka})]})]})})})),Xa=Object(A.b)({user:me,token:Oe}),Ha=Object(E.b)(Xa,(function(e){return{signOut:function(){return e(Xe())}}}))((function(e){var a=e.user,t=e.token,n=e.signOut;return q.a.locale("uz-latn"),F.a.defaults.baseURL=Re,F.a.interceptors.response.use((function(e){return console.log(e),401===e.status&&n(),e}),(function(e){return Promise.reject(e)})),F.a.defaults.headers.common.Authorization="Bearer "+t,Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(Ea,{}),Object(c.jsxs)(s.d,{children:[Object(c.jsx)(s.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(s.a,{to:"/home"})}}),Object(c.jsx)(s.b,{path:"/home",component:Ba}),Object(c.jsx)(s.b,{path:"/cabinet",render:function(){return a?Object(c.jsx)(ka,{}):Object(c.jsx)(s.a,{to:"/home/login"})}}),Object(c.jsx)(s.b,{path:"/admin",render:function(){return 1===a.role_id?Object(c.jsx)(Ya,{}):Object(c.jsx)(s.a,{to:"/home"})}})]})]})})),Qa=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,589)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,i=a.getLCP,l=a.getTTFB;t(e),c(e),n(e),i(e),l(e)}))},$a=t(70),Ga=t(289),Ja=t.n(Ga),Wa=t(174),Za=t(290),et={currentUser:null,token:null,cabinetData:null,userCompanies:[]},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ye.SET_USER_COMPANIES:return Object(m.a)(Object(m.a)({},e),{},{userCompanies:a.payload});case Ye.SET_CABINET_DATA:return Object(m.a)(Object(m.a)({},e),{},{cabinetData:a.payload});case Ye.SET_USER_ONLY:return Object(m.a)(Object(m.a)({},e),{},{currentUser:a.payload});case Ye.SUCCESS_LOGIN:return Object(m.a)(Object(m.a)({},e),{},{userType:a.payload.user?"user":"company",currentUser:a.payload.user?a.payload.user:a.payload.company,token:a.payload.token});case Ye.LOG_OUT:return Object(m.a)(Object(m.a)({},e),{},{currentUser:null,token:null});default:return e}},tt={key:"root",storage:t.n(Za).a,whitelist:["user"]},ct=Object($a.c)({user:at}),nt=Object(Wa.a)(tt,ct),it=t(296),lt=t(207),rt=t.n(lt),st=t(298),ot=rt.a.mark(dt);function dt(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(st.a)([]);case 2:case"end":return e.stop()}}),ot)}var ut=Object(it.a)(),jt=[ut];jt.push(Ja.a);var bt=Object($a.e)(nt,$a.a.apply(void 0,jt));ut.run(dt);var ht=Object(Wa.b)(bt),mt=t(291);r.a.render(Object(c.jsx)(E.a,{store:bt,children:Object(c.jsx)(S.a,{children:Object(c.jsx)(mt.a,{persistor:ht,children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(Ha,{})})})})}),document.getElementById("root")),Qa()}},[[560,1,2]]]);
//# sourceMappingURL=main.46f7af03.chunk.js.map