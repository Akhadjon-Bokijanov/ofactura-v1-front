(this.webpackJsonpon_doc=this.webpackJsonpon_doc||[]).push([[0],{332:function(e,a,t){},333:function(e,a,t){},336:function(e,a,t){},339:function(e,a,t){},382:function(e,a){},520:function(e,a,t){},525:function(e,a,t){},528:function(e,a,t){},572:function(e,a,t){},584:function(e,a,t){},585:function(e,a,t){},586:function(e,a,t){},589:function(e,a,t){},590:function(e,a,t){},591:function(e,a,t){},592:function(e,a,t){},595:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t(0),i=t.n(c),l=t(44),r=t.n(l),s=(t(332),t(333),t(222),t(56)),o=t(118),d=t(281),u=t(58),j=t(81);o.b.add(u.c,u.l,j.h,d.a,u.m,u.s,u.d,u.e,u.n,u.a,j.i,j.e,j.k,u.q,u.o,j.f,u.h,u.i,u.k,j.g,u.j,j.d,j.c,j.b,u.p,u.f,u.g,j.j,j.a,u.t,u.b,u.r);var b=t(135),h=t(85),m=t(12),O=t(11),x=t(221),p=(t(336),t(161)),f=t(325),v=t(605),g=t(610),y=t(55),I=t(91),N=t(611),k=t(600),S=t(282),w=t.n(S),T=t(37),_=t(19),C=(t(339),t(18)),F=t.n(C),E=t(28),z=t.n(E),A=t(26),q=t(23),D=t(614),R=t(615),P=t(616),V=t(617),M=t(618),B=t(619),U=t(324),K=t(284),L=t.n(K),Y=function(e){var a=e.text,t=Object(U.a)(e,["text"]);return Object(n.jsx)("div",Object(m.a)(Object(m.a)({className:"ql-snow"},t),{},{children:Object(n.jsx)("div",{className:"ql-editor",style:{paddingLeft:0},"data-gramm":"false",children:L()(a)})}))},X=function(e){return e.user},Q=Object(q.a)([X],(function(e){return e.currentUser})),H=Object(q.a)([X],(function(e){return e.token})),J=Object(q.a)([X],(function(e){return e.cabinetData})),G=Object(q.a)([X],(function(e){return e.loadedKeyId})),W=Object(q.a)([X],(function(e){return e.userCompanies})),$=Object(q.a)([X],(function(e){return e.keyUser})),Z=(Object(q.a)([X],(function(e){return e.isAferta})),Object(q.a)([X],(function(e){return e.isRouming})),Object(q.a)([X],(function(e){return e.products}))),ee=Object(q.b)({currentUser:Q}),ae=Object(A.b)(ee,(function(e){return{}}))(Object(s.g)((function(e){var a=e.reload,t=(e.loading,e.currentUser),i=e.match,l=(e.setItemToBeEdited,e.triggerAction),r=e.triggerActionWithPayload,s=e.title,o=e.config,d=o.dataSourcePath,u=o.addElementViewPath,j=o.deleteRequestPath,b=o.replaceInViewPath,h=o.approveRequestPath,x=o.viewActionPath,S=o.editActionPath,C=o.resultsViewPath,E=o.triggerReload,A=o.triggerWithPayload,q=o.payload,U=o.deleteConfirmText,K=o.actions,L=o.allColumns,X=Object(c.useState)(""),Q=Object(O.a)(X,2),H=Q[0],J=Q[1],G=Object(c.useState)(""),W=Object(O.a)(G,2),$=W[0],Z=W[1],ee=Object(c.useState)(null),ae=Object(O.a)(ee,2),te=(ae[0],ae[1]),ne=Object(c.useState)(!1),ce=Object(O.a)(ne,2),ie=ce[0],le=ce[1],re=Object(c.useState)({current:1,pageSize:10}),se=Object(O.a)(re,2),oe=se[0],de=se[1],ue=Object(c.useState)(0),je=Object(O.a)(ue,2),be=je[0],he=je[1],me=Object(c.useState)([]),Oe=Object(O.a)(me,2),xe=Oe[0],pe=Oe[1],fe=Object(c.useState)(!1),ve=Object(O.a)(fe,2),ge=ve[0],ye=ve[1],Ie=Object(c.useState)(null!==a&&void 0!==a?a:1),Ne=Object(O.a)(Ie,2),ke=Ne[0],Se=Ne[1],we=null;Object(c.useEffect)((function(){var e="".concat(d,"&page=").concat(oe.current,"&limit=").concat(oe.pageSize).concat(H?"&search=".concat(H,"&searchFrom=").concat($):"");ye(!0),F()({url:e.replace(/[ ]+/g,""),method:"GET"}).then((function(e){Array.isArray(e.data.data)?(pe(e.data.data),he(e.data.total)):console.log(e),ye(!1)})).catch((function(e){console.log(e),ye(!1)}))}),[oe,d,H,$,ke]);var Te=function(){f.b.error("Action cancelled!")},_e=function(e,a,t){a(),J(e[0]),Z(t)},Ce=function(e){console.log(e),e(),J("")},Fe=[];return L.forEach((function(e,a){var t;Fe.push({dataIndex:e.dataIndex,title:e.title,key:e.dataIndex,width:e.width?e.width:90,ellipsis:"detail"===e.dataIndex||"description"===e.dataIndex}),e.isSearchable&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),(t=e.dataIndex,{filterDropdown:function(e){var a=e.setSelectedKeys,c=e.selectedKeys,i=e.confirm,l=e.clearFilters;return Object(n.jsxs)("div",{style:{padding:8},children:[Object(n.jsx)(v.a,{ref:function(e){we=e},placeholder:"".concat(t," qidirish"),value:c[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return _e(c,i,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(n.jsxs)(g.b,{children:[Object(n.jsx)(y.a,{type:"primary",onClick:function(){return _e(c,i,t)},icon:Object(n.jsx)(D.a,{}),size:"small",style:{width:90},children:"Qidirish"}),Object(n.jsx)(y.a,{onClick:function(){return Ce(l)},size:"small",style:{width:90},children:"Qaytarish"})]})]})},filterIcon:function(e){return Object(n.jsx)(D.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return!!a[t]&&a[t].toString().toLowerCase().includes(e.toString().toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return we.select()}))},render:function(e){return $===t?Object(n.jsx)(w.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[H],autoEscape:!0,textToHighlight:e?e.toString():null}):e}}))),e.isFilterable&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{filters:e.filters.map((function(e){var a,t;return{text:null!==(a=e.text)&&void 0!==a?a:e,value:null!==(t=e.value)&&void 0!==t?t:e}})),onFilter:function(a,t){return J(a.toString().toLowerCase()),Z(e.dataIndex),xe}})),e.isBoolean&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(n.jsx)("div",{children:a[e.dataIndex]?1:0})}})),e.isBoolean&&e.isFilterable&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,filters:[{text:1,value:!0},{text:0,value:!1}],onFilter:function(a,t){return!!t[e.dataIndex]===!!a},render:function(a){return Object(n.jsx)("div",{children:a[e.dataIndex]?1:0})}})),"rich-text"===e.dataType&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(n.jsx)(Y,{text:a[e.dataIndex]})}})),"object"===e.dataType&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(n.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:a[e.dataIndex]?e.items.map((function(t,c){return Object(n.jsxs)("div",{children:["".concat(t,": "),a[e.dataIndex][t]]},"sub-dyna-field-".concat(c))})):"Nothing found!"})}})),"array"===e.dataType&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(n.jsx)("div",{children:a[e.dataIndex].map((function(e){return Object(n.jsxs)("span",{style:{backgroundColor:"#4870c7",color:"white",padding:3,marginRight:5,marginBottom:5,borderRadius:3},children:[e," "]})}))})}})),"date"===e.dataType&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{width:150,dataIndex:null,render:function(a){return Object(n.jsx)("span",{children:z()(a[e.dataIndex]).format("MMMM Do YYYY, H:mm:ss")})}})),"array-count"===e.dataType&&(Fe[a]=Object(m.a)(Object(m.a)({},Fe[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(n.jsx)("div",{children:a[e.dataIndex].length})}}))})),Fe.push({title:" ",key:"actions",width:90,fixed:"right",render:function(e){return Object(n.jsxs)("div",{className:"dyna-grid-actions",children:[K.edit?Object(n.jsx)(I.a,{placement:"left",title:"O'zgartirish",children:Object(n.jsx)(T.b,{to:"".concat(S,"/").concat(e.id),children:Object(n.jsx)(R.a,{style:{color:"blue"}})})}):null,K.delete?Object(n.jsx)(I.a,{placement:"bottom",title:"O'chirish",children:Object(n.jsx)(N.a,{title:U||"O'chirilsin?",onConfirm:function(){!function(e){var a;ye(!0),F()({url:"/".concat(j,"?id=").concat(e.id,"&tin=").concat(null!==(a=t.tin)&&void 0!==a?a:t.username),method:"delete"}).then((function(a){Se(ke+1),ye(!1),E&&l(E),A&&r(r,q),f.b.success("".concat(e.id," is deleted!"))})).catch((function(e){ye(!1),f.b.error("Failed to delete!"),console.error(e)}))}(e)},onCancel:Te,okText:"Ha",cancelText:"Yo'q",children:Object(n.jsx)(P.a,{style:{color:"red"}})})}):null,K.approve?Object(n.jsx)(I.a,{placement:"bottom",title:"Tasdiqlash",children:Object(n.jsx)(N.a,{title:"Approve this news?",onConfirm:function(){!function(e){F.a.patch("/".concat(h,"/").concat(e.id),{userId:t.id}).then((function(a){E&&l(E),A&&r(r,q),f.b.success("".concat(e.id," is approved!"))})).catch((function(e){f.b.error("Failed to approve!"),console.error(e)}))}(e)},onCancel:Te,okText:"Yes",cancelText:"No",children:Object(n.jsx)(_.a,{style:{color:"green"},icon:"check-circle"})})}):null,K.view?Object(n.jsx)(I.a,{placement:"bottom",title:"Ko'rish",children:Object(n.jsx)(T.b,{to:"".concat(b?x.replace("{".concat(b,"}"),e[b]):x,"/").concat(e.id),children:Object(n.jsx)(V.a,{})})}):null,K.chart?Object(n.jsx)(I.a,{placement:"bottomLeft",title:"Natijalar",children:Object(n.jsx)(T.b,{to:"".concat(C,"/").concat(e.id),children:Object(n.jsx)(_.a,{icon:"chart-line",style:{color:"#fb8c00"}})})}):null,K.addElement?Object(n.jsx)(I.a,{placement:"bottomLeft",title:"Qoshimcha  qoshish",children:Object(n.jsx)(T.b,{to:"".concat(i.path,"/").concat(u,"/").concat(e.id),children:Object(n.jsx)(_.a,{style:{color:"#e91e63"},icon:"plus-circle"})})}):null]})}}),Object(n.jsxs)("div",{className:"dyna-grid-main-container ".concat(ie?"akhadjon-dyna-grid-full-view":null),children:[Object(n.jsxs)("div",{onDoubleClick:function(){return le(!ie)},style:{marginTop:40,marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsx)(y.a,{onClick:function(){le(!ie)},type:"primary",icon:ie?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),children:ie?"Kichraytirish":"Kengaytirish"}),Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:s})})]}),Object(n.jsx)(k.a,Object(p.a)({loading:ge,rowKey:"id",onChange:function(e,a,t){console.log("Various parameters",e,a,t),de(e),te(a)},bordered:!0,pagination:oe,columns:Fe,dataSource:xe,scroll:{x:120*L.length}},"pagination",{position:["bottomCenter"],total:be}))]})}))),te=t(121),ne=t(151),ce=t(297),ie=t(299);te.a.use(ce.a).use(ie.a).use(ne.e).init({fallbackLng:"uz-Cyrl",debug:!0,whitelist:["uz","en","ru","uz-Cyrl"],interpolation:{escapeValue:!1}});var le=te.a,re=t(609),se=(x.a.TabPane,function(e){var a=e.doc,t=e.hideTabs,i=e.addParams,l=e.customButton,r=Object(re.a)().t,s=function(e){var a=le.t.bind(le);switch(e){case"user-products":return{title:a("Maxsulotlarim"),createTitle:a("Maxsulotlarni yuklash"),gridSourceUrl:"/classifications/index",createUrl:"/cabinet/products",gridConfig:{deleteRequestPath:"classifications/delete",deleteConfirmText:a("Shu productni ochirilsinmi?"),actions:{delete:!0},allColumns:[{title:a("Katalog kodi"),dataIndex:"groupCode",isSearchable:!0,width:200},{title:a("Klass kodi"),dataIndex:"classCode",isSearchable:!0,width:200},{title:a("Nomi"),dataIndex:"className",isSearchable:!0,width:300}]}};case"notification":return{title:"Notifications",createTitle:"Notification yaratish",createUrl:"/admin/notification/create",gridSourceUrl:"/api/v1/notifications",gridConfig:{deleteRequestPath:"api/v1/notifications",viewActionPath:"/admin/notification/view",editActionPath:"/admin/notification/edit",deleteConfirmText:"Shu notification ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Sarlavha",dataIndex:"title_uz",isSearchable:!0,width:300},{title:"Mazmuni",dataIndex:"body_uz",isSearchable:!0,width:400},{title:"Muhimligi",dataIndex:"importance",isFilterable:!0,width:100,filters:[{value:1,text:"1 - Uncha muxim emas"},{value:2,text:"2 - Muxim emas"},{value:3,text:"3 - Muxim"},{value:4,text:"4 - Muximroq"},{value:5,text:"5 - O'ta muxim"}]},{title:"Holati",dataIndex:"isActive",isFilterable:!0,width:100,filters:[{value:0,text:"Aktiv emas"},{value:1,text:"Aktiv"}]}]}};case"act":return{title:"Aktlar",createTitle:"Akt yaratish",createUrl:"/cabinet/act/create",gridSourceUrl:"/api/v1/acts",gridConfig:{deleteRequestPath:"api/v1/atcs",viewActionPath:"/cabinet/act/view",editActionPath:"/cabinet/act/edit",deleteConfirmText:"Shu akt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Akt \u2116",dataIndex:"actNo",isSearchable:!0},{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"contract":return{title:"Shartnomalar",createTitle:"Shartnoma yaratish",createUrl:"/cabinet/contract/create",gridSourceUrl:"/api/v1/contracts",gridConfig:{deleteRequestPath:"api/v1/contracts",viewActionPath:"/cabinet/contracts/view",editActionPath:"/cabinet/contract/edit",deleteConfirmText:"Shu kontrakt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"empowerment":return{title:"Ishonchnomalar",createTitle:"Ishonchnoma yaratish",createUrl:"/cabinet/empowerment/create",gridSourceUrl:"/api/v1/empowerments",gridConfig:{deleteRequestPath:"api/v1/empowerments",viewActionPath:"/cabinet/empowerment/view",editActionPath:"/cabinet/empowerment/edit",deleteConfirmText:"Shu ishonchnoma ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Ishonchnoma \u2116",dataIndex:"empowermentNo",isSearchable:!0,width:100},{title:"Kontrakt \u2116",dataIndex:"contractNo",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"tty":return{title:"Tovar transport yo'lxati",createTitle:"TTY yaratish",createUrl:"/cabinet/tty/create",gridSourceUrl:"/api/v1/ttys",gridConfig:{deleteRequestPath:"api/v1/ttys",viewActionPath:"/cabinet/tty/view",editActionPath:"/cabinet/tty/edit",deleteConfirmText:"Shu TTY ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"TTY \u2116",dataIndex:"wayBillNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"state",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};default:return{title:a("Hisob fakturalar"),createTitle:a("Faktura yaratish"),createUrl:"/cabinet/factura/create",gridSourceUrl:"/api/v1/facturas",gridConfig:{deleteRequestPath:"api/v1/facturas",viewActionPath:"/cabinet/factura/view",editActionPath:"/cabinet/factura/edit",deleteConfirmText:a("Shu faktura ochirilsinmi?"),actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:a("Faktura \u2116"),dataIndex:"facturaNo",isSearchable:!0},{title:a("Kontrakt \u2116"),dataIndex:"contractNo",isSearchable:!0},{title:a("Kontragent"),dataIndex:"buyerName",isSearchable:!0,width:150},{title:a("Kontragent")+" "+a("STIR"),dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:a("Holati"),dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:a("Yaratilgan sana"),dataIndex:"created_at",dataType:"date"}]}}}}(a),o=s.title,d=s.createTitle,u=s.createUrl,j=s.gridSourceUrl,b=s.gridConfig,h=Object(c.useState)(1),x=Object(O.a)(h,2),p=x[0],f=x[1],v=Object(c.useState)(!1),g=Object(O.a)(v,2);g[0],g[1];return Object(n.jsx)("div",{className:"factura-home-page-container",children:Object(n.jsxs)("div",{className:"factura-home-sub-con",children:[Object(n.jsxs)("div",{className:"factura-home-title",children:[Object(n.jsx)("h2",{children:o}),l||Object(n.jsx)(T.b,{to:u,children:Object(n.jsx)("span",{children:d})})]}),t?null:Object(n.jsx)("div",{className:"factura-home-list-tabs",children:Object(n.jsxs)("div",{className:"factura-home-list-tab-con",children:[Object(n.jsx)("div",{onClick:function(){return f(1)},className:"status-tab-bar ".concat(1===p?"active-tab":""),children:r("Kiruvchi")}),Object(n.jsx)("div",{onClick:function(){return f(2)},className:"status-tab-bar ".concat(2===p?"active-tab":""),children:r("Chiquvchi")}),Object(n.jsx)("div",{onClick:function(){return f(3)},className:"status-tab-bar ".concat(3===p?"active-tab":""),children:r("Saqlangan")}),Object(n.jsx)("div",{onClick:function(){return f(4)},className:"status-tab-bar ".concat(4===p?"active-tab":""),children:r("Barchasi")})]})}),Object(n.jsx)("div",{children:Object(n.jsx)(ae,{config:Object(m.a)(Object(m.a)({},b),{},{dataSourcePath:"".concat(j,"?tab=").concat({1:"in",2:"out",3:"saved",4:"all"}[p],"&").concat(i?i.map((function(e){return"".concat(e.name,"=").concat(e.value)})):"")})})})]})})}),oe=(t(139),t(149)),de=t(602),ue=t(599),je=(t(520),t(46)),be=t(612),he=t(620),me=t(621),Oe=function(e){var a=e.pTin,t=e.tinLabel,c=e.pName,i=e.nameLabel,l=e.form,r=e.tinCol,s=e.nameCol;return Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:null!==r&&void 0!==r?r:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:a,children:Object(n.jsx)(v.a,{size:"large",onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?f.b.warning("STIR notog'ri kiritildi!"):e.target.value>1e8&&e.target.value<=999999999&&F()({url:"info/contragent-by-tin?tin=".concat(e.target.value),method:"GET"}).then((function(e){console.log(e);var a=e.data,t=a.name,n=a.fullName,i={};if(Array.isArray(c)){var r=l.getFieldValue("contract_partners");r[c[0]][c[1]]=null!==t&&void 0!==t?t:n,l.setFieldsValue({contract_partners:Object(je.a)(r)})}else i[c]=null!==t&&void 0!==t?t:n,l.setFieldsValue(i)})).catch((function(e){console.log(e)}))}})},"".concat(a,"-tin-name")),Object(n.jsx)("span",{className:"custom-input-label-1",children:t})]})}),Object(n.jsx)(h.a,{md:null!==s&&void 0!==s?s:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:c,children:Object(n.jsx)(v.a,{size:"large"})},"".concat(c,"-tin-name")),Object(n.jsx)("span",{className:"custom-input-label-1",children:i})]})})]})})},xe=t(89),pe=t.n(xe),fe=t(102),ve=t(182),ge=t(117),ye=t(192),Ie=t(189),Ne=t(185),ke=t(126),Se=(t(525),Ne.a.Option,function(e){Object(ye.a)(t,e);var a=Object(Ie.a)(t);function t(e){var n;return Object(fe.a)(this,t),(n=a.call(this,e)).optionstag=n.props.userProducts.map((function(e){return{label:e.className,value:{CatalogCode:e.classCode,CatalogName:e.className}}})),n.handleChange=n.handleChange.bind(Object(ge.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(ge.a)(n)),n.state={},n}return Object(ve.a)(t,[{key:"handleChange",value:function(e){console.log(e);var a=this.props,t=a.onCommit,n=a.onRevert;e||n();this.state.e;t(e.value),console.log("COMMITTED",e.value)}},{key:"handleKeyDown",value:function(e){e.which===ke.ENTER_KEY||e.which===ke.TAB_KEY?(e.persist(),this.setState({e:e})):this.setState({e:null})}},{key:"render",value:function(){return Object(n.jsx)(Ne.a,{size:"small",showSearch:!0,autoFocus:!0,dropdownClassName:"class-codes-drop-down-list",style:{width:"100%"},dropdownMatchSelectWidth:!1,open:!0,value:this.state.selected,onChange:this.handleChange,onInputKeyDown:this.handleKeyDown,options:this.optionstag})}}]),t}(c.PureComponent)),we=Object(q.b)({userProducts:Z}),Te=Object(A.b)(we)(Se),_e=function(e){Object(ye.a)(t,e);var a=Object(Ie.a)(t);function t(e){var n;return Object(fe.a)(this,t),(n=a.call(this,e)).handleChange=n.handleChange.bind(Object(ge.a)(n)),n.state={},n}return Object(ve.a)(t,[{key:"handleChange",value:function(e){var a=this.props,t=a.onCommit;a.onRevert;console.log(e);var n=this.state.e;t(e.target.value,n)}},{key:"render",value:function(){return Object(n.jsx)("select",{onChange:this.handleChange,children:Ce.map((function(e){return Object(n.jsxs)("option",{value:e.value,children:[" ",e.value," - ",e.label]})}))})}}]),t}(c.PureComponent),Ce=[{value:0,label:"boshqa"},{value:1,label:"\u0448\u0442\u0443\u043a\u0430"},{value:2,label:"\u043f\u0430\u0447\u043a\u0430"},{value:3,label:"\u043c\u0438\u043b\u043b\u0438\u0433\u0440\u0430\u043c\u043c"},{value:4,label:"\u0433\u0440\u0430\u043c\u043c"},{value:5,label:"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c"},{value:6,label:"\u0446\u0435\u043d\u0442\u043d\u0435\u0440"},{value:7,label:" \u0442\u043e\u043d\u043d\u0430"},{value:8,label:" \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:9,label:"\u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:10,label:"\u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:11,label:"\u043c\u0435\u0442\u0440"},{value:12,label:"\u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:13,label:"\u043a\u0432. \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:14,label:"\u043a\u0432. \u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:15,label:"\u043a\u0432. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:16,label:"\u043a\u0432. \u043c\u0435\u0442\u0440"},{value:17,label:"1000 \u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:18,label:"\u043a\u0432. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:19,label:"\u043a\u0443\u0431. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:20,label:"\u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:21,label:"\u043a\u0443\u0431. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:22,label:"\u043c\u0438\u043b\u043b\u0438\u043b\u0438\u0442\u0440"},{value:23,label:"\u043b\u0438\u0442\u0440"},{value:24,label:"\u0434\u0430\u043b"},{value:25,label:"\u0441\u0443\u043c"},{value:26,label:"\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442"},{value:27,label:"\u0441\u0443\u0442\u043a\u0430"},{value:28,label:"\u0441\u043e\u0430\u0442"},{value:29,label:"\u043f\u0430\u0440"},{value:30,label:"\u0444\u043b\u0430\u043a\u043e\u043d"},{value:31,label:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435"},{value:32,label:"\u043f\u043e\u043a\u0430\u0437\u044b"},{value:33,label:"\u043a\u043e\u0440\u043e\u0431\u043a\u0430"},{value:34,label:"\u043c\u043e\u0442\u043e\u0447\u0430\u0441"},{value:35,label:"\u0413\u043a\u0430\u043b"},{value:36,label:"\u043a\u0412\u0442\u0447"},{value:37,label:"\u0440\u0435\u0439\u0441"},{value:38,label:"\u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430"},{value:39,label:"\u043c\u0438\u043d\u0443\u0442"},{value:40,label:"\u043d\u043e\u0440\u043c\u0430/\u0447\u0430\u0441"},{value:41,label:"\u0431\u0430\u043b\u043b\u043e\u043d"},{value:42,label:"\u0434\u0435\u043d\u044c"},{value:43,label:"\u043c\u0435\u0441\u044f\u0446"},{value:44,label:"\u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"},{value:45,label:"\u0441\u0435\u0440\u0438\u044f"},{value:46,label:"\u0431\u0443\u0442\u044b\u043b\u043a\u0430"},{value:47,label:"\u043a\u0435\u0433\u0430"},{value:48,label:"\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f"},{value:49,label:"\u0440\u0443\u043b\u043e\u043d"},{value:50,label:"\u043f\u043e\u0440\u0446\u0438\u044f"},{value:51,label:"\u043f\u043e\u0433\u043e\u043d\u043d\u044b\u0439\xa0\u043c\u0435\u0442\u0440"},{value:52,label:"\u0433\u0430"},{value:53,label:"\u043a\u0412\u0430\u0440\u0447"},{value:54,label:"\u0447\u0435\u043b\u043e\u0432\u0435\u043a/\u0447\u0430\u0441"},{value:55,label:"\u043a\u0412\u0430\u0440"},{value:56,label:"\u043a\u0412\u0442"},{value:57,label:"\u0433\u043e\u0434"},{value:58,label:"\u043b\u0438\u0441\u0442"},{value:59,label:"\u0431\u043b\u043e\u043a"}],Fe=t(601),Ee=(t(528),Object(q.b)({user:Q})),ze=Object(A.b)(Ee)((function(e){var a=e.user,t=e.docType,i=e.form,l=Object(re.a)().t,r=a.tin,s=a.name,o=a.fullName,d=a.regCode,u=a.mfo,j=a.bank_account,m=a.address,O=a.director_fio,x=a.director_tin,p=a.accountant,f=a.phone;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:l("Sizning ma'lumotlaringiz")}),"contract"==t?Object(n.jsx)(Oe,{form:i,nameCol:11,tinCol:11,tinLabel:l("Jis.Shaxs STIR"),nameLabel:l("Jis.Shaxs FIO"),pTin:"sellerFizTin",pName:"sellerFizFio"}):null,Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerTin",rules:[{required:!0}],initialValue:r,children:Object(n.jsx)(v.a,{disabled:!0,size:"large",placeholder:l("STIR")})},"dyna-form-item-inn-seller"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("STIR")})]}),"contract"!==t?Object(n.jsx)("h3",{children:l("Tashkilot")}):null,Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"sellerName",initialValue:null!==s&&void 0!==s?s:o,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Sotuvchi nomi")})},"seller-name-1-sellerName"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Sotuvchi nomi")})]}),"act"!==t?Object(n.jsxs)(c.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerVatRegCode",initialValue:d,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("QQS tolovchi registratsiya raqami")})},"seler-account-vatreg"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("QQS tolovchi registratsiya raqami")})]}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerAccount",initialValue:j,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Hisob raqami")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Hisob raqami")})]})}),Object(n.jsx)(h.a,{md:11,children:"contract"===t?Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerMobilePhone",initialValue:f,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Telfon raqam")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Telfon raqam")})]}):Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerMfo",initialValue:u,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("MFO")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("MFO")})]})})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerAddress",initialValue:m,children:Object(n.jsx)(v.a,{rules:[{required:!0}],size:"large",placeholder:l("Manzil")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Manzil")})]}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerDirector",initialValue:O,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Direktor")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Direktor")})]})}),Object(n.jsx)(h.a,{md:11,children:"contract"===t?Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerDirectorTin",initialValue:x,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Direktor")+" "+l("STIR")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Direktor")+" "+l("STIR")})]}):Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"sellerAccountant",initialValue:p,children:Object(n.jsx)(v.a,{size:"large",placeholder:l("Bosh hisobchi")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:l("Bosh hisobchi")})]})})]})]}):null]})})),Ae=le.t.bind(le),qe=[{readOnly:!0,value:"",width:50},{readOnly:!0,value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*"},{readOnly:!0,value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",dataEditor:_e},{readOnly:!0,value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438"},{readOnly:!0,value:"\u041d\u0430\u0440\u04b3*"},{readOnly:!0,value:"\u042e\u043a\u043d\u0438\u043d\u0433 \u0443\u043c\u0443\u043c\u0438\u0439 \u049b\u0438\u0439\u043c\u0430\u0442\u0438"},{readOnly:!0,value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*"},{readOnly:!0,value:"\u042e\u043a\u043a\u0430 \u0434\u043e\u0438\u0440 \u0445\u0443\u0436\u0436\u0430\u0442\u043b\u0430\u0440"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430\u043d\u0438 \u0430\u043d\u0438\u049b\u043b\u0430\u0448 \u0443\u0441\u0443\u043b\u0438"},{readOnly:!0,value:"\u042e\u043a \u0441\u0438\u043d\u0444\u0438"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u0431\u0440\u0443\u0442\u0442\u043e)"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u043d\u0435\u0442\u0442\u043e)"}],De=[{readOnly:!0,value:"",width:50},{value:Ae("Tovar/xizmat nomi"),readOnly:!0,width:200},{value:Ae("Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi"),readOnly:!0,width:150},{value:Ae("Tovar/xizmat shtrix kodi"),readOnly:!0,width:100},{value:Ae("O'lchov birligi"),readOnly:!0,width:100},{value:Ae("Miqdori"),readOnly:!0,width:100},{value:Ae("Narxi"),readOnly:!0,width:100},{value:Ae("Aksiz soliq (%)"),readOnly:!0,width:100},{value:Ae("Aksiz soliq, miqdori"),readOnly:!0,width:100},{value:Ae("Yetkazib berish narxi"),readOnly:!0,width:100},{value:Ae("QQS (%)"),readOnly:!0,width:100},{value:Ae("QQS, miqdori"),readOnly:!0,width:100},{value:Ae("Umumiy summa"),readOnly:!0,width:150}],Re=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Pe=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u042f\u0433\u043e\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d \u043c\u0438\u043b\u043b\u0438\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 \u0431\u045e\u0439\u0438\u0447\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0438*",readOnly:!0,width:150},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434\u0438",readOnly:!0,width:100},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Ve=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100}],Me=function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"factura";switch(t){case"empowerment":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:_e},{value:e.count}]}))).unshift(Ve);break;case"act":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:_e},{value:e.count},{value:e.price},{value:parseFloat(e.count)*parseFloat(e.price),readOnly:!0,width:150}]}))).unshift(Re);break;case"contract":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:Te},{value:e.barCode},{value:e.measureId,dataEditor:_e},{value:e.count},{value:e.price},{value:e.deliverySum},{value:e.count*e.price+parseFloat(e.deliverySum),readOnly:!0}]}))).unshift(Pe);break;case"tty":(a=e.map((function(e,a){return[{readOnly:!0,value:a+1,width:50},{value:e.name},{value:e.measureId,dataEditor:_e},{value:e.count},{value:e.price},{value:e.count*e.price,readOnly:!0},{value:e.deliveryCost},{value:e.docs},{value:e.weightMeasureMethod},{value:e.itemClass},{value:e.weightBrut},{value:e.weightNet}]}))).unshift(qe);break;default:(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:Te},{value:e.barCode},{value:e.measureId,dataEditor:_e},{value:e.count},{value:e.baseSumma},{value:e.exciseRate},{value:e.exciseSum,readOnly:!0},{value:e.deliverySum},{value:e.vatRate},{value:e.vatRate*e.baseSumma,readOnly:!0},{value:e.summa,readOnly:!0}]}))).unshift(De)}return a},Be=t(108),Ue=t.n(Be),Ke=function(e,a){return'\u0411\u0438\u0437 \u049b\u0443\u0439\u0438\u0434\u0430 \u0438\u043c\u0437\u043e \u0447\u0435\u043a\u0443\u0432\u0447\u0438\u043b\u0430\u0440, "'.concat(null!==e&&void 0!==e?e:"___________",'" \u0431\u0438\u0440 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d,\u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u041f\u0443\u0434\u0440\u0430\u0442\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438 \u0432\u0430 "').concat(null!==a&&void 0!==a?a:"__________",'" \u0431\u043e\u0448\u049b\u0430 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d, \u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438, \u0438\u0448 \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438\u043d\u0438\u043d\u0433 \u0442\u0430\u043b\u0430\u0431\u043b\u0430\u0440\u0438\u0433\u0430 \u043c\u0443\u0432\u043e\u0444\u0438\u049b \u0442\u045e\u043b\u0438\u049b \u0431\u0430\u0436\u0430\u0440\u0438\u043b\u0433\u0430\u043d\u043b\u0438\u0433\u0438 \u0442\u045e\u0493\u0440\u0438\u0441\u0438\u0434\u0430 \u0430\u043a\u0442 \u0442\u0443\u0437\u0434\u0438\u043a.')},Le=Object(q.b)({token:H,user:Q}),Ye=Object(A.b)(Le)((function(e){var a=e.token,t=e.match,i=e.user,l=de.a.useForm(),r=Object(O.a)(l,1)[0],s=t.params.actId,o=Object(c.useState)({actText:Ke(i.name)}),d=Object(O.a)(o,2),u=d[0],j=d[1],x=Object(c.useState)(!1),p=Object(O.a)(x,2),g=p[0],I=p[1];Object(c.useEffect)((function(){s&&F()({url:"/api/v1/acts/".concat(s),method:"GET"}).then((function(e){var a=e.data;a.contractDate=z()(a.contractDate),a.created_at=z()(a.created_at),a.actDate=z()(a.actDate),a.updated_at=z()(a.updated_at),console.log(a),j(e.data),r.resetFields(),A(Me(e.data.act_products,"act"))})).catch((function(e){console.log(e)}))}),[]);var N=Object(c.useState)(!1),k=Object(O.a)(N,2),S=k[0],w=k[1],T=Object(c.useState)([Re,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0}]]),C=Object(O.a)(T,2),E=C[0],A=C[1];return Object(n.jsx)("div",{style:{padding:15},children:Object(n.jsxs)(de.a,{initialValues:u,form:r,name:"factura",onFinish:function(e){I(!0),console.log(e),s?F()({url:"/api/v1/acts/".concat(s),method:"PATCH",data:{act:e,products:E}}).then((function(e){I(!1),e.data.ok?f.b.success("Akt yangilandi!"):f.b.error("Akt yangilashda xatolik!"),console.log(e)})).catch((function(e){I(!1),f.b.error("Akt yangilashda xatolik!"),console.log(e)})):F()({url:"/api/v1/acts",method:"post",data:{act:e,products:E}}).then((function(e){I(!1),e.data.ok?f.b.success("Akt yaratildi!"):f.b.error("Akt yaratishda xatolik!"),console.log(e)})).catch((function(e){I(!1),f.b.error("Akt yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Akt yaratish"}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"actNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Akt raqami"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Akt raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"actDate",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Akt sanasi"})},"dyna-form-item-inn-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Akt sanasi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(ze,{form:r,docType:"act"})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Qe,{form:r,docType:"act"})})]})}),Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Akt mazmuni"}),Object(n.jsx)(de.a.Item,{name:"actText",children:Object(n.jsx)(Ue.a,{size:"large",rows:4})})]}),Object(n.jsxs)("div",{className:"factura-data-sheet-container ".concat(S?"grid-full-view":null),children:[Object(n.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=_e})),A([E[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(n.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(n.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(n.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(n.jsx)(y.a,{type:"primary",icon:S?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),onClick:function(){return w(!S)},children:S?"Kichraytirish":"Kengaytirish"})]}),Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(pe.a,{data:E,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,n){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,n=e.col,c=e.value;E[t][n]=Object(m.a)(Object(m.a)({},E[t][n]),{},{value:c}),E[t][5]=Object(m.a)(Object(m.a)({},E[t][5]),{},{value:E[t][3].value&&E[t][4].value?E[t][3].value*E[t][4].value:0})})),A(Object(je.a)(E))}})})}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:E.length},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(E),[e]);A(a)},children:"Qo'shish"}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;E.length>1&&(e=E.length-1,console.log(e),E.splice(e,1),A(Object(je.a)(E)))},children:"Oxirgi qatorni o'chirish"})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsx)(b.a,{justify:"space-between",children:Object(n.jsx)(h.a,{md:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"notes",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})})})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{loading:g,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{icon:Object(n.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(n.jsx)(de.a.Item,{name:"actId",children:Object(n.jsx)(v.a,{type:"hidden"})},"act-id")]})})})),Xe=oe.a.Option,Qe=function(e){var a=e.form,t=e.docType,i=e.remove,l=e.fieldList,r=Object(re.a)().t,s=Object(c.useState)(!1),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)([]),x=Object(O.a)(j,2),p=x[0],g=x[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:r("Kontragent ma'lumotlari")}),"contract"===t?Object(n.jsx)(Oe,{form:a,pTin:l?[l.name,"buyerPhysicalTin"]:"buyerPhysicalTin",pName:l?[l.name,"buyerPhysicalFio"]:"buyerPhysicalFio",tinLabel:r("Jis. Shaxs STIR"),nameLabel:r("Jis. Shaxs FIO"),tinCol:11,nameCol:11}):null,Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:"factura"!==t?24:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerTin"]:"buyerTin",rules:[{required:!0}],children:Object(n.jsx)(v.a,{onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?f.b.warning(r("STIR notog'ri kiritildi!")):e.target.value>1e8&&e.target.value<=999999999?F()({url:"info/contragent-by-tin?tin=".concat(e.target.value),method:"GET"}).then((function(e){var n=e.data,c=n.tin,i=n.accountant,r=n.account,s=n.address,o=n.phone,d=n.name,u=n.fullName,j={buyerTin:c,buyerAccountant:i,buyerAccount:r,buyerAddress:s,buyerMobilePhone:o,buyerName:null!==d&&void 0!==d?d:u,buyerMfo:n.mfo,buyerDirector:n.director,buyerDirectorTin:n.directorTin,buyerVatRegCode:n.regCode};if("act"===t&&a.setFieldsValue({actText:Ke(a.getFieldValue("SellerName"),null!==d&&void 0!==d?d:u)}),l){var b,h=a.getFieldValue("contract_partners");h[l.name]=Object(m.a)(Object(m.a)({},h[l.name]),j),g(null!==(b=e.data.branches)&&void 0!==b?b:[]),a.setFieldsValue({contract_partners:Object(je.a)(h)})}else a.setFieldsValue(j)})).catch((function(e){console.log(e)})):a.setFieldsValue({buyerAccountant:null,buyerAccount:null,buyerAddress:null,buyerMobilePhone:null,buyerName:null,buyerMfo:null,buyerDirector:null,buyerVatRegCode:null})},size:"large",placeholder:r("STIR")})},l?"dyna-form-item-inn-Buyer-".concat(l.key):"dyna-form-item-inn-Buyer"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("STIR")})]})}),Object(n.jsxs)(h.a,{md:"factura"!==t?0:11,children:[Object(n.jsx)("h4",{children:r("Bir tomonlama fakturami?")}),Object(n.jsx)(be.a,{onChange:function(e){u(e)},checkedChildren:Object(n.jsx)(he.a,{}),unCheckedChildren:Object(n.jsx)(me.a,{})})]})]}),d?Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:r("Turi")}),Object(n.jsxs)(de.a.Item,{name:l?[l.name,"singleSidedType"]:"singleSidedType",children:[Object(n.jsx)(de.a.Item,{children:Object(n.jsxs)(oe.a,{bordered:!1,size:"large",children:[Object(n.jsx)(Xe,{value:1,children:"\u041d\u0430 \u0444\u0438\u0437. \u043b\u0438\u0446\u043e"}),Object(n.jsx)(Xe,{value:2,children:"\u041d\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442"}),Object(n.jsx)(Xe,{value:3,children:"\u041d\u0430 \u0438\u043c\u043f\u043e\u0440\u0442"}),Object(n.jsx)(Xe,{value:4,children:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u0430\u044f \u0441 \u0433\u043e\u0441. \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"}),Object(n.jsx)(Xe,{value:5,children:"\u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"})]})}),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Kontragent turi")})]},"sigle-sided-factura-type-1")]}):null,d?null:Object(n.jsxs)("div",{children:["contract"==t?null:Object(n.jsx)("h3",{children:r("Hamkor korxonasi")}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerName"]:"buyerName",children:Object(n.jsx)(v.a,{onChange:function(e){a.setFieldsValue({actText:Ke(a.getFieldValue("SellerName"),e.target.value)})},size:"large",placeholder:r("Nomi")})},"buyer-name-1-BuyerName"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Nomi")})]}),"act"!==t?Object(n.jsxs)(c.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerVatRegCode"]:"buyerVatRegCode",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("QQS tolovchi registratsiya raqami")})},"seler-account-vatreg"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("QQS tolovchi registratsiya raqami")})]}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerAccount"]:"buyerAccount",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Hisob raqami")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Hisob raqami")})]})}),Object(n.jsx)(h.a,{md:11,children:"contract"===t?Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerMobilePhone"]:"buyerMobilePhone",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Telfon raqam")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Telfon raqam")})]}):Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerMfo"]:"buyerMfo",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("MFO")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("MFO")})]})})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerAddress"]:"buyerAddress",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Manzil")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Manzil")})]}),"contract"===t?Object(n.jsx)(h.a,{md:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerBranch"]:"buyerBranch",children:Object(n.jsx)(oe.a,{bordered:!1,size:"large",defaultActiveFirstOption:!0,placeholder:"",children:p.map((function(e){return Object(n.jsxs)(Xe,{value:e.tin,children:[e.tin," - ",e.name]})}))})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Filiali")})]})}):null,Object(n.jsxs)(b.a,{justify:"space-between",align:"stretch",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerDirector"]:"buyerDirector",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Direktor")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Direktor")})]})}),Object(n.jsx)(h.a,{md:11,children:"contract"===t?i&&l?Object(n.jsx)(y.a,{className:"factra-action-btns",style:{width:"100%"},danger:!0,size:"large",onClick:function(){return i(l.name)},children:"Olib tashlash"}):null:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerAccountant"]:"buyerAccountant",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Bosh hisobchi")})},"seler-account"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Bosh hisobchi")})]})}),"contract"===t?Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(de.a.Item,{name:l?[l.name,"buyerDirectorTin"]:"buyerDirectorTin",children:Object(n.jsx)(v.a,{type:"hidden",size:"large",placeholder:r("Direktor")+" "+r("STIR")})},"seler-account-Buyer-dir-tin")}):null]})]}):null]})]})},He={SUCCESS_LOGIN:"SUCCESS_LOGIN",LOG_OUT:"LOG_OUT",SET_USER_ONLY:"SET_USER_ONLY",SET_CABINET_DATA:"SET_CABINET_DATA",SET_USER_COMPANIES:"SET_USER_COMPANIES",SET_USER_LOCALE:"SET_USER_LOCALE",SET_LOADED_KEY_ID:"SET_LOADED_KEY_ID",SET_KEY_USER:"SET_KEY_USER",SET_IS_AFERTA:"SET_IS_AFERTA",SET_IS_ROUMING:"SET_IS_ROUMING",SET_USER_PRODUCTS:"SET_USER_PRODUCTS"},Je=function(){return{type:He.LOG_OUT}},Ge=function(e){return{type:He.SET_USER_ONLY,payload:e}},We=function(e){var a=e.value;return Object(n.jsx)("span",{children:a.CatalogName})},$e=Object(q.b)({user:Q}),Ze=Object(A.b)($e,(function(e){return{loadProducts:function(a){return e(function(e){return{type:He.SET_USER_PRODUCTS,payload:e}}(a))}}}))((function(e){var a=e.token,t=e.loadProducts,i=e.user,l=e.getProducts;Object(c.useEffect)((function(){var e;F()({url:"classifications/index?tin=".concat(null!==(e=i.tin)&&void 0!==e?e:i.username),method:"get"}).then((function(e){t(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var r=Object(re.a)().t,s=Object(c.useState)(!1),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)([[{readOnly:!0,value:"",width:50},{value:r("Tovar/xizmat nomi"),readOnly:!0,width:200},{value:r("Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi"),readOnly:!0,width:150},{value:r("Tovar/xizmat shtrix kodi"),readOnly:!0,width:100},{value:r("O'lchov birligi"),readOnly:!0,width:100},{value:r("Miqdori"),readOnly:!0,width:100},{value:r("Narxi"),readOnly:!0,width:100},{value:r("Aksiz soliq (%)"),readOnly:!0,width:100},{value:r("Aksiz soliq, miqdori"),readOnly:!0,width:100},{value:r("Yetkazib berish narxi"),readOnly:!0,width:100},{value:r("QQS (%)"),readOnly:!0,width:100},{value:r("QQS, miqdori"),readOnly:!0,width:100},{value:r("Umumiy summa"),readOnly:!0,width:150}]].concat(Object(je.a)([1,2,3,4].map((function(e){return[{readOnly:!0,value:e},{value:""},{value:"",dataEditor:Te,valueViewer:We},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}]}))))),b=Object(O.a)(j,2),h=b[0],x=b[1];return Object(n.jsxs)("div",{className:"factura-data-sheet-container ".concat(d?"grid-full-view":null),children:[Object(n.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if("done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=_e})),console.log(a)}},children:Object(n.jsx)(y.a,{style:{marginRight:10},children:r("Exceldan yuklash")})}),Object(n.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(n.jsx)(y.a,{children:r("Shablonni yuklash")})})]}),Object(n.jsx)(y.a,{type:"primary",icon:d?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),onClick:function(){return u(!d)},children:r(d?"Kichraytirish":"Kengaytirish")})]}),Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(pe.a,{data:h,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,n){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,n=e.col,c=e.value;h[t][n]=Object(m.a)(Object(m.a)({},h[t][n]),{},{value:c});var i=parseFloat(h[t][5].value)*parseFloat(h[t][6].value),l=parseFloat(i*h[t][7].value/100);h[t][8]={value:isNaN(l)?0:parseFloat(l),readOnly:!0};var r=parseFloat(i*parseFloat(h[t][10].value)/100);h[t][11]={value:isNaN(r)?0:r,readOnly:!0};var s=isNaN(i)?0:i;isNaN(l)?s=s:s+=l,isNaN(r)?s+=0:s+=r,isNaN(h[t][9].value)?s+=0:s+=+h[t][9].value,h[t][12]={value:s,readOnly:!0}})),x(Object(je.a)(h)),h.shift(),l(h)}})})}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:h.length},{value:""},{value:"",dataEditor:Te,valueViewer:We},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(h),[e]);x(a)},children:r("Qo'shish")}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;h.length>1&&(e=h.length-1,console.log(e),h.splice(e,1),x(Object(je.a)(h)))},children:r("Oxirgi qatorni o'chirish")})]})})),ea=function e(){Object(fe.a)(this,e),this.OrdNo=1,this.CommittentName=null,this.CommittentTin="",this.CommittentVatRegCode="",this.CatalogCode="",this.CatalogName="",this.Barcode="",this.Name="",this.Serial="",this.MeasureId="",this.BaseSumma="",this.ProfitRate="",this.Count="",this.Summa="",this.DeliverySum="",this.ExciseRate="",this.ExciseSum="",this.VatRate="0",this.VatSum="0",this.DeliverySumWithVat="",this.WithoutVat=!0,this.Marks={ProductType:null,KIZ:[],NomUpak:[],IdentTransUpak:[]}},aa=["OrdNo","Name",["CatalogCode","CatalogName"],"Barcode","MeasureId","Count","BaseSumma","ExciseRate","ExciseSum","DeliverySum","VatRate","VatSum","DeliverySumWithVat"],ta=function e(){Object(fe.a)(this,e),this.Version=1,this.FacturaType=null,this.SingleSidedType=null,this.HasMarking=!0,this.AgreeToFine=!1,this.FacturaId="",this.FacturaDoc={FacturaNo:null,FacturaDate:null},this.OldFacturaDoc={OldFacturaId:null,OldFacturaNo:null,OldFacturaDate:null},this.ContractDoc={ContractNo:null,ContractDate:null},this.FacturaEmpowermentDoc={AgentFacturaId:null,EmpowermentNo:null,EmpowermentDateOfIssue:null,AgentFio:null,AgentTin:null,AgentPinfl:null},this.ItemReleasedDoc={ItemReleasedTin:null,ItemReleasedFio:null,ItemReleasedPinfl:null},this.SellerTin=null,this.BuyerTin=null,this.Seller={Name:null,Account:null,BankId:null,Address:null,Mobile:null,WorkPhone:null,Oked:null,DistrictId:null,Director:null,Accountant:null,VatRegCode:null,BranchCode:null,BranchName:null},this.Buyer={Name:null,Account:"",BankId:"",Address:null,Mobile:null,WorkPhone:null,Oked:"",DistrictId:null,Director:null,Accountant:"",VatRegCode:"",BranchCode:"",BranchName:""},this.ForeignCompany={CountryId:null,Name:null,Address:null,Bank:null,Account:null},this.ProductList=null},na=function(e,a,t){var n=e.agentFio,c=e.agentTin,i=e.buyerAccount,l=e.buyerAccountant,r=e.buyerAddress,s=e.buyerDirector,o=e.buyerMfo,d=e.buyerName,u=e.buyerTin,j=e.buyerVatRegCode,b=e.contractDate,h=e.contractNo,m=e.empowermentDateOfIssue,O=e.empowermentNo,x=e.facturaDate,p=e.facturaNo,f=e.facturaType,v=e.oldFacturaId,g=e.oldFacturaNo,y=e.oldFacturaDate,I=e.sellerAccount,N=e.sellerAccountant,k=e.sellerAddress,S=e.sellerDirector,w=e.sellerMfo,T=e.sellerName,_=e.sellerTin,C=e.sellerVatRegCode,F=e.singleSidedType,E={Name:d,Account:i,BankId:o,Address:r,Mobile:"",WorkPhone:"",Oked:"",DistrictId:"",Director:s,Accountant:l,VatRegCode:j,BranchCode:"",BranchName:""},z={Name:T,Account:I,BankId:w,Address:k,Mobile:"",WorkPhone:"",Oked:"",DistrictId:"",Director:S,Accountant:N,VatRegCode:C,BranchCode:"",BranchName:""},A=new ta;return A.OldFacturaDoc={OldFacturaDate:y,OldFacturaId:v,OldFacturaNo:g},A.SingleSidedType=F,A.FacturaProductId=t,A.FacturaId=t,A.FacturaType=f,A.FacturaDoc={FacturaDate:x,FacturaNo:p},A.Seller=z,A.Buyer=E,A.BuyerTin=u,A.SellerTin=_,A.ContractDoc={ContractDate:b,ContractNo:h},A.FacturaEmpowermentDoc={EmpowermentDateOfIssue:m,EmpowermentNo:O,AgentFio:n,AgentTin:c},A.ProductList=a,console.log(a),A};String.prototype.splitKeep=function(e,a){var t=this,n=[];if(""!=e){for(var c=[],i=(t[e instanceof RegExp?"replace":"replaceAll"](e,(function(e,a,t){return c.push({value:e,index:a}),function(e){for(var a="0"==e[0]?"1":"0",t="",n=0;n<e.length;n++)t+=a;return t}(e)})),0),l=0;l<c.length;l++){var r=c[l],s=1==a?r.index:r.index+r.value.length;if(s!=i){var o=t.substring(i,s);n.push(o),i=s}}if(i<t.length){o=t.substring(i,t.length);n.push(o)}}else n.add(t);return n};var ca={URL:("https:"===window.location.protocol.toLowerCase()?"wss://127.0.0.1:64443":"ws://127.0.0.1:64646")+"/service/cryptapi",callFunction:function(e,a,t){if(window.WebSocket){var n;try{n=new WebSocket(this.URL)}catch(c){t(c)}n.onerror=function(e){t&&t(e)},n.onmessage=function(e){var t=JSON.parse(e.data);n.close(),a(e,t)},n.onopen=function(){n.send(JSON.stringify(e))}}else t&&t()},version:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(n){a(n)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var n=JSON.parse(a.data);t.close(),e(a,n)},t.onopen=function(){t.send(JSON.stringify({name:"version"}))}}else a&&a()},apidoc:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(n){a(n)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var n=JSON.parse(a.data);t.close(),e(a,n)},t.onopen=function(){t.send(JSON.stringify({name:"apidoc"}))}}else a&&a()},apikey:function(e,a,t){if(window.WebSocket){var n;try{n=new WebSocket(this.URL)}catch(c){t(c)}n.onerror=function(e){t&&t(e)},n.onmessage=function(e){var t=JSON.parse(e.data);n.close(),a(e,t)},n.onopen=function(){var a={name:"apikey",arguments:e};n.send(JSON.stringify(a))}}else t&&t()}},ia={NEW_API:!1,API_KEYS:["cabinet.onlinefactura.uz","F09A2CBE8EA25A5C065AF78D32F517B1DCF12E997575556CBD90B405A90420E6EB538FCCFFCBAA22C5D191CAB3803965621B023E8642F77F35DDA072FBA17914"],checkVersion:function(e,a){ca.version((function(t,n){if(!0===n.success)if(n.major&&n.minor){var c=100*parseInt(n.major)+parseInt(n.minor);ia.NEW_API=c>=336,e(n.major,n.minor)}else a(null,"E-IMZO Version is undefined");else a(null,n.reason)}),(function(e){a(e,null)}))},installApiKeys:function(e,a){ca.apikey(ia.API_KEYS,(function(t,n){n.success?e():a(null,n.reason)}),(function(e){a(e,null)}))},listAllUserKeys:function(e,a,t,n){var c=[],i=[];ia.NEW_API?ia._findCertKeys2(e,a,c,i,(function(l){ia._findPfxs2(e,a,c,i,(function(r){ia._findTokens2(e,a,c,i,(function(e){if(0===c.length&&i.length>0)n(i[0].e,i[0].r);else{var a=null;1===c.length&&(l?a=l:r?a=r:e&&(a=e)),t(c,a)}}))}))})):ia._findCertKeys(e,a,c,i,(function(l){ia._findPfxs(e,a,c,i,(function(e){if(0===c.length&&i.length>0)n(i[0].e,i[0].r);else{var a=null;1===c.length&&(l?a=l:e&&(a=e)),t(c,a)}}))}))},loadKey:function(e,a,t,n){if(e){var c=e;"certkey"===c.type?ca.callFunction({plugin:"certkey",name:"load_key",arguments:[c.disk,c.path,c.name,c.serialNumber]},(function(e,n){if(n.success){var c=n.keyId;a(c)}else t(null,n.reason)}),(function(e){t(e,null)})):"pfx"===c.type?ca.callFunction({plugin:"pfx",name:"load_key",arguments:[c.disk,c.path,c.name,c.alias]},(function(e,c){if(c.success){var i=c.keyId;n?ca.callFunction({name:"verify_password",plugin:"pfx",arguments:[i]},(function(e,n){n.success?a(i):t(null,n.reason)}),(function(e){t(e,null)})):a(i)}else t(null,c.reason)}),(function(e){t(e,null)})):"ftjc"===c.type&&ca.callFunction({plugin:"ftjc",name:"load_key",arguments:[c.cardUID]},(function(e,c){if(c.success){var i=c.keyId;n?ca.callFunction({plugin:"ftjc",name:"verify_pin",arguments:[i,"1"]},(function(e,n){n.success?a(i):t(null,n.reason)}),(function(e){t(e,null)})):a(i)}else t(null,c.reason)}),(function(e){t(e,null)}))}},changeKeyPassword:function(e,a,t){if(e){var n=e;"pfx"===n.type?ca.callFunction({plugin:"pfx",name:"load_key",arguments:[n.disk,n.path,n.name,n.alias]},(function(e,n){if(n.success){var c=n.keyId;ca.callFunction({name:"change_password",plugin:"pfx",arguments:[c]},(function(e,n){n.success?a():t(null,n.reason)}),(function(e){t(e,null)}))}else t(null,n.reason)}),(function(e){t(e,null)})):"ftjc"===n.type&&ca.callFunction({plugin:"ftjc",name:"load_key",arguments:[n.cardUID]},(function(e,n){if(n.success){var c=n.keyId;ca.callFunction({name:"change_pin",plugin:"ftjc",arguments:[c,"1"]},(function(e,n){n.success?a():t(null,n.reason)}),(function(e){t(e,null)}))}else t(null,n.reason)}),(function(e){t(e,null)}))}},createPkcs7:function(e,a,t,n,c){ca.callFunction({plugin:"pkcs7",name:"create_pkcs7",arguments:[btoa(unescape(encodeURIComponent(a))),e,"no"]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){ca.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;n(t)}else c(null,a.reason)}),(function(e){c(e,null)}))}),c)}else n(i)}else c(null,a.reason)}),(function(e){c(e,null)}))},appendPkcs7Attached:function(e,a,t,n,c){ca.callFunction({plugin:"pkcs7",name:"append_pkcs7_attached",arguments:[a,e]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){ca.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;n(t)}else c(null,a.reason)}),(function(e){c(e,null)}))}),c)}else n(i)}else c(null,a.reason)}),(function(e){c(e,null)}))},_getX500Val:function(e,a){var t=e.splitKeep(/,[A-Z]+=/g,!0);for(var n in t){var c=t[n].search((n>0?",":"")+a+"=");if(-1!==c)return t[n].slice(c+a.length+1+(n>0?1:0))}return""},_findCertKeyCertificates:function(e,a,t,n,c,i,l,r){parseInt(i)+1>c.length?r(l):ca.callFunction({plugin:"certkey",name:"list_certificates",arguments:[c[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j={disk:u.disk,path:u.path,name:u.name,serialNumber:u.serialNumber,subjectName:u.subjectName,validFrom:new Date(u.validFrom),validTo:new Date(u.validTo),issuerName:u.issuerName,publicKeyAlgName:u.publicKeyAlgName,CN:ia._getX500Val(u.subjectName,"CN"),TIN:ia._getX500Val(u.subjectName,"INITIALS"),O:ia._getX500Val(u.subjectName,"O"),T:ia._getX500Val(u.subjectName,"T"),type:"certkey"};if(j.TIN){var b=e(j,d);0===l.length&&l.push(b);var h=a(b,j);t.push(h)}}else n.push({r:o.reason});ia._findCertKeyCertificates(e,a,t,n,c,parseInt(i)+1,l,r)}),(function(s){n.push({e:s}),ia._findCertKeyCertificates(e,a,t,n,c,parseInt(i)+1,l,r)}))},_findCertKeys:function(e,a,t,n,c){var i=[];ca.callFunction({plugin:"certkey",name:"list_disks"},(function(l,r){if(r.success){for(var s in r.disks)if(i.push(r.disks[s]),parseInt(s)+1>=r.disks.length){ia._findCertKeyCertificates(e,a,t,n,i,0,[],(function(e){c(e[0])}))}}else n.push({r:r.reason})}),(function(e){n.push({e:e}),c()}))},_findPfxCertificates:function(e,a,t,n,c,i,l,r){parseInt(i)+1>c.length?r(l):ca.callFunction({plugin:"pfx",name:"list_certificates",arguments:[c[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j=u.alias.toUpperCase();j=(j=j.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var b={disk:u.disk,path:u.path,name:u.name,alias:u.alias,serialNumber:ia._getX500Val(j,"SERIALNUMBER"),validFrom:new Date(ia._getX500Val(j,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(ia._getX500Val(j,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:ia._getX500Val(j,"CN"),TIN:ia._getX500Val(j,"INN")?ia._getX500Val(j,"INN"):ia._getX500Val(j,"UID"),UID:ia._getX500Val(j,"UID"),O:ia._getX500Val(j,"O"),T:ia._getX500Val(j,"T"),type:"pfx"};if(b.TIN){var h=e(b,d);0===l.length&&l.push(h);var m=a(h,b);t.push(m)}}else n.push({r:o.reason});ia._findPfxCertificates(e,a,t,n,c,parseInt(i)+1,l,r)}),(function(s){n.push({e:s}),ia._findPfxCertificates(e,a,t,n,c,parseInt(i)+1,l,r)}))},_findPfxs:function(e,a,t,n,c){var i=[];ca.callFunction({plugin:"pfx",name:"list_disks"},(function(l,r){if(r.success){var s=r.disks;for(var o in s)if(i.push(r.disks[o]),parseInt(o)+1>=r.disks.length){ia._findPfxCertificates(e,a,t,n,i,0,[],(function(e){c(e[0])}))}}else n.push({r:r.reason})}),(function(e){n.push({e:e}),c()}))},_findCertKeys2:function(e,a,t,n,c){var i;ca.callFunction({plugin:"certkey",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d={disk:o.disk,path:o.path,name:o.name,serialNumber:o.serialNumber,subjectName:o.subjectName,validFrom:new Date(o.validFrom),validTo:new Date(o.validTo),issuerName:o.issuerName,publicKeyAlgName:o.publicKeyAlgName,CN:ia._getX500Val(o.subjectName,"CN"),TIN:ia._getX500Val(o.subjectName,"INITIALS"),O:ia._getX500Val(o.subjectName,"O"),T:ia._getX500Val(o.subjectName,"T"),type:"certkey"};if(d.TIN){var u=e(d,s);i||(i=u);var j=a(u,d);t.push(j)}}else n.push({r:r.reason});c(i)}),(function(e){n.push({e:e}),c(i)}))},_findPfxs2:function(e,a,t,n,c){var i;ca.callFunction({plugin:"pfx",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d=o.alias.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={disk:o.disk,path:o.path,name:o.name,alias:o.alias,serialNumber:ia._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(ia._getX500Val(d,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(ia._getX500Val(d,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:ia._getX500Val(d,"CN"),TIN:ia._getX500Val(d,"INN")?ia._getX500Val(d,"INN"):ia._getX500Val(d,"UID"),UID:ia._getX500Val(d,"UID"),O:ia._getX500Val(d,"O"),T:ia._getX500Val(d,"T"),type:"pfx"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else n.push({r:r.reason});c(i)}),(function(e){n.push({e:e}),c(i)}))},_findTokens2:function(e,a,t,n,c){var i;ca.callFunction({plugin:"ftjc",name:"list_all_keys",arguments:[""]},(function(l,r){if(r.success)for(var s in r.tokens){var o=r.tokens[s],d=o.info.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={cardUID:o.cardUID,statusInfo:o.statusInfo,ownerName:o.ownerName,info:o.info,serialNumber:ia._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(ia._getX500Val(d,"VALIDFROM")),validTo:new Date(ia._getX500Val(d,"VALIDTO")),CN:ia._getX500Val(d,"CN"),TIN:ia._getX500Val(d,"INN")?ia._getX500Val(d,"INN"):ia._getX500Val(d,"UID"),UID:ia._getX500Val(d,"UID"),O:ia._getX500Val(d,"O"),T:ia._getX500Val(d,"T"),type:"ftjc"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else n.push({r:r.reason});c(i)}),(function(e){n.push({e:e}),c(i)}))}},la=oe.a.Option,ra=Object(q.b)({token:H,user:Q,loadedKey:G}),sa=Object(A.b)(ra)((function(e){var a=e.match,t=e.user,i=e.loadedKey,l=Object(re.a)(),r=l.t,s=(l.i18n,de.a.useForm()),o=Object(O.a)(s,1)[0],d=a.params.facturaId,u=Object(c.useState)(),j=Object(O.a)(u,2),m=j[0],x=j[1],p=Object(c.useState)({facturaType:0}),g=Object(O.a)(p,2),I=g[0],N=g[1],k=Object(c.useState)(),S=Object(O.a)(k,2),w=S[0],T=S[1],C=Object(c.useState)(!1),E=Object(O.a)(C,2),A=E[0],q=E[1],D=Object(c.useState)(),R=Object(O.a)(D,2),P=R[0],V=R[1];Object(c.useEffect)((function(){d?(x(d),F()({url:"/api/v1/facturas/".concat(d),method:"GET"}).then((function(e){var a=e.data;a.contractDate=z()(a.contractDate),a.created_at=z()(a.created_at),a.facturaDate=z()(a.facturaDate),a.empowermentDateOfIssue=z()(a.empowermentDateOfIssue),a.oldFacturaDate=z()(a.oldFacturaDate),a.updated_at=z()(a.updated_at),console.log(a),N(e.data),o.resetFields()})).catch((function(e){console.log(e)}))):F()({url:"info/get-guid",method:"get"}).then((function(e){e.data.success&&x(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var M={required:r("Bu maydon majburiy!"),types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},B=0,U=1,K=2,L=3,Y=4;return Object(n.jsx)("div",{style:{padding:15},children:Object(n.jsxs)(de.a,{initialValues:I,form:o,name:"factura",onFinish:function(e){q(!0),console.log(JSON.stringify(na(e,P,m))),d?F()({url:"/api/v1/facturas/".concat(d),method:"PATCH",data:{factura:e}}).then((function(e){e.data.ok?f.b.success(r("Faktura o'zgartirildi!")):f.b.error(r("Faktura o'zgartirishda xatolik!")),console.log(e),q(!1)})).catch((function(e){f.b.error(r("Faktura o'zgartirishda xatolik!")),console.log(e),q(!1)})):F()({url:"facturas/create",method:"post",data:na(e,P,m)}).then((function(e){e.data.ok?f.b.success(r("Faktura yaratili!")):f.b.error(r("Faktura yaratishda xatolik!")),console.log(e),q(!1)})).catch((function(e){console.log(e),f.b.error(r("Faktura yaratishda xatolik!")),q(!1)}))},scrollToFirstError:!0,validateMessages:M,children:[Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:r("Hujjat turi")}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"facturaType",children:Object(n.jsxs)(oe.a,{onChange:T,bordered:!1,size:"large",placeholder:"Faktura turi",children:[Object(n.jsx)(la,{value:B,children:r("Standard")}),Object(n.jsx)(la,{value:U,children:r("Qo'shimcha")}),Object(n.jsx)(la,{value:K,children:r("Harajatni qoplash")}),Object(n.jsx)(la,{value:L,children:r("To'lovsiz")}),Object(n.jsx)(la,{value:Y,children:r("Tuzatuvchi")})]})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Faktura turi")})]})}),Object(n.jsx)(h.a,{md:w===U||w===Y?11:0,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"oldFacturaId",children:Object(n.jsx)(v.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura ID"})},"dyna-form-facutura-no-old"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Eski faktura ID")})]})}),Object(n.jsx)(h.a,{md:w===U||w===Y?11:0,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"oldFacturaNo",children:Object(n.jsx)(v.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura No"})},"dyna-form-facutura-no-old"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Eski faktura No")})]})}),Object(n.jsx)(h.a,{md:w===U||w===Y?11:0,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"oldFacturaDate",children:Object(n.jsx)(ue.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura Sanasi"})},"dyna-form-facutura-no-old"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Eski faktura Sanasi")})]})})]}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"facturaNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Faktura raqami")})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Faktura raqami")})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"facturaDate",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:r("Faktura sanasi")})},"dyna-form-item-inn-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Faktura sanasi")})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Shartnoma raqami")})},"dyna-form-item-contract-n0"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Shartnoma raqami")})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(n.jsx)(ue.a,{size:"large",placeholder:r("Shartnoma sanasi")})},"dyna-form-item-contract-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Shartnoma sanasi")})]})})]})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(ze,{form:o})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Qe,{form:o,docType:"factura"})})]})}),Object(n.jsx)(Ze,{getProducts:function(e){var a;V(function(e,a,t){var n=[],c=!1,i=!1;Array.isArray(e)&&e.forEach((function(e){var a=new ea;aa.forEach((function(t,n){Array.isArray(t)?t.forEach((function(t){a[t]=e[n].value[t]})):a[t]=e[n].value})),a.VatRate>0&&(c=!0),a.ExciseRate>0&&(i=!0),n.push(a)}));return{FacturaId:t,Tin:a,HasCommittent:!1,HasVat:c,HasMedical:!1,HasExcise:i,Products:n}}(e,null!==(a=t.tin)&&void 0!==a?a:t.username,m))},form:o}),Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:5,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"empowermentNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Ishonchnoma raqami")})},"empowerment-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Ishonchnoma raqami")})]})}),Object(n.jsx)(h.a,{md:5,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"empowermentDateOfIssue",children:Object(n.jsx)(ue.a,{size:"large",placeholder:r("Ishonchnoma sanasi")})},"seler-account-empowerment-dateof-issue"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Ishonchnoma sanasi")})]})}),Object(n.jsx)(h.a,{md:12,children:Object(n.jsx)(Oe,{pName:"agentFio",pTin:"agentTin",nameLabel:r("Ma'sul shaxs FIO"),tinLabel:r("STIR"),tinCol:11,nameCol:11,form:o})})]}),Object(n.jsx)(b.a,{justify:"space-between",children:Object(n.jsx)(h.a,{md:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"notes",children:Object(n.jsx)(v.a,{size:"large",placeholder:r("Qo'shimcha ma'lumotlar")})},"selenote-field"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Qo'shimcha ma'lumotlar")})]})})})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{loading:A,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:r("Saqlash")})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",onClick:function(){q(!0);var e=o.getFieldsValue();console.log(JSON.stringify(na(e,P,m))),ia.createPkcs7(i.id,JSON.stringify(na(e,P,m)),null,(function(e){console.log(JSON.stringify({Sign:e})),F()({url:"facturas/send?id=".concat(m),method:"post",data:{Sign:e}}).then((function(e){console.log(e),q(!1)})).catch((function(e){console.log(e)}))}),(function(e,a){console.log("e",e,"r",a),q(!1)}))},icon:Object(n.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:r("Imzolash")})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{icon:Object(n.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:r("Bekor qilish")})})]})}),Object(n.jsx)(de.a.Item,{name:"facturaId",children:Object(n.jsx)(v.a,{type:"hidden"})},"hidden-factura-id"),Object(n.jsx)(de.a.Item,{name:"facturaProductId",children:Object(n.jsx)(v.a,{type:"hidden"})},"hidden-factura-product-id")]})})})),oa="http://api.onlinefactura.uz/uz",da={providerTin:"306717486",providerName:"\u041e\u041e\u041e Lanbir servis",systemName:"OnlineFactura.Uz",enabled:!0},ua={1:{color:"#00FF00",text:"Uncha muxim emas"},2:{color:"#7FFF00",text:"Muxim emas"},3:{color:"#FFAF00",text:"Muxim"},4:{color:"#FF6900",text:"Muximroq"},5:{color:"#FF0000",text:"O'ta muxim"}},ja=Object(q.b)({user:Q}),ba=Object(A.b)(ja)((function(e){var a=e.match,t=e.user,c=a.params.facturaId;return Object(n.jsx)("div",{style:{margin:15,padding:20},children:Object(n.jsx)("embed",{width:"100%",height:"600px",src:"".concat(oa,"/api/v1/facturas/get-pdf/").concat(c,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),ha=function(e){var a=e.match;return Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),component:se}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:sa}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:facturaId"),component:ba}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:facturaId"),component:sa})]})},ma=t(603),Oa=t(604),xa=t(326),pa=t(606),fa=(t(572),t(180)),va=t(150),ga=Object(q.b)({user:Q,loadedKey:G}),ya=Object(A.b)(ga,(function(e){return{signOut:function(){return e(Je())}}}))((function(e){var a=e.user,t=e.signOut,i=e.loadedKey,l=Object(re.a)().t,r=Object(c.useState)(""),s=Object(O.a)(r,2),o=s[0],d=s[1],u=Object(c.useState)(!(null===a||void 0===a?void 0:a.is_aferta)),j=Object(O.a)(u,2),b=j[0],h=j[1],m=Object(c.useState)(!0),x=Object(O.a)(m,2),p=x[0],v=x[1];Object(c.useEffect)((function(){F()({url:"info/get-aferta",method:"get"}).then((function(e){e.data.success&&d(e.data.data)})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsxs)(Oa.a,{keyboard:!1,closable:!1,onCancel:function(){h(!1),t()},onOk:function(){h(!1),ia.createPkcs7(i.id,o,null,(function(e){var t,n;console.log(JSON.stringify({tin:null!==(t=a.tin)&&void 0!==t?t:a.username,pkcs7:e})),F()({url:"user/set-aferta",method:"post",data:{tin:null!==(n=a.tin)&&void 0!==n?n:a.username,pkcs7:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),(function(e,a){Object(f.b)(a)}),(function(e,a){Object(f.b)(a)}))},visible:b,okButtonProps:{disabled:p},title:l("Afertaga rozimisiz?"),maskClosable:!1,children:[Object(n.jsx)("div",{style:{top:0,width:"100%",bottom:20,height:"60vh",overflowY:"scroll"},children:null!==o&&void 0!==o?o:Object(n.jsx)(fa.a,{})}),Object(n.jsx)("br",{}),Object(n.jsx)(va.a,{onChange:function(e){e.target.checked?v(!1):v(!0)}}),Object(n.jsx)("span",{style:{marginLeft:20},children:l("Roziman.")})]})})})),Ia=Object(q.b)({user:Q,loadedKey:G}),Na=Object(A.b)(Ia,(function(e){return{signOut:function(){return e(Je())}}}))((function(e){var a=e.user,t=(e.signOut,e.loadedKey),i=Object(re.a)().t,l=Object(c.useState)(!(null===a||void 0===a?void 0:a.is_online)),r=Object(O.a)(l,2),s=r[0],o=r[1],d=Object(c.useState)(!0),u=Object(O.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(),m=Object(O.a)(h,2),x=m[0],p=m[1];Object(c.useEffect)((function(){var e;F()({url:"info/get-bind-provider?tin=".concat(null!==(e=a.tin)&&void 0!==e?e:a.username),method:"get"}).then((function(e){p(JSON.stringify({providers:[].concat(Object(je.a)(e.data.providers),[da])}))})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsx)("div",{children:Object(n.jsxs)(Oa.a,{keyboard:!1,closable:!1,onCancel:function(){o(!1)},onOk:function(){o(!1),ia.createPkcs7(t.id,x,null,(function(e){var t;F()({url:"user/bind-provider",method:"post",data:{tin:null!==(t=a.tin)&&void 0!==t?t:a.username,sign:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),(function(e,a){Object(f.b)(a)}),(function(e,a){Object(f.b)(a)}))},visible:s,okButtonProps:{disabled:j},zIndex:999,title:i("Roumingga operatori sifatida qo'shing?"),maskClosable:!1,children:[Object(n.jsx)("div",{style:{top:0,width:"100%",bottom:20,height:"40vh"},children:i("Bini rouming operatoringiz sifatida ornating.")}),Object(n.jsx)("br",{}),Object(n.jsx)(va.a,{onChange:function(e){e.target.checked?b(!1):b(!0)}}),Object(n.jsx)("span",{style:{marginLeft:20},children:i("Roziman.")})]})})})),ka=ma.a.Countdown,Sa=Object(q.b)({loadedKey:G}),wa=Object(A.b)(Sa,(function(e){return{setData:function(a){return e(function(e){return{type:He.SET_CABINET_DATA,payload:e}}(a))},uOut:function(){return e(Je())}}}))(Object(s.g)((function(e){var a=e.location,t=e.admin,i=e.setData,l=e.loadedKey,r=e.uOut,s=Object(re.a)().t,o=Object(c.useState)({}),d=Object(O.a)(o,2),u=d[0],j=d[1],b=Object(c.useState)([]),h=Object(O.a)(b,2),m=h[0],x=h[1],p=Object(c.useState)(!1),f=Object(O.a)(p,2),v=f[0],g=f[1],y=Object(c.useState)({factura_awaiting:0,contract_awaiting:0,act_awaiting:0,emp_awating:0,tty_awaiting:0}),I=Object(O.a)(y,2),N=I[0],k=I[1];Object(c.useEffect)((function(){j({cabinet:"/cabinet"===a.pathname,factura:a.pathname.includes("/factura"),contract:a.pathname.includes("/contract"),empowerment:a.pathname.includes("/empowerment"),act:a.pathname.includes("/act"),tty:a.pathname.includes("/tty"),freeDoc:a.pathname.includes("/free-template"),notification:a.pathname.includes("/notification")})}),[a.pathname]);var S=function(){g(!1)};return Object(c.useEffect)((function(){F()({method:"GET",url:"/api/v1/cabinet"}).then((function(e){var a=e.data.notifications;i(e.data),x(a),Array.isArray(a)&&a.length&&g(!0),k(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.jsxs)("div",{className:"cabiner-right-sidebar-cmain-container",children:[Object(n.jsx)(ya,{}),Object(n.jsx)(Na,{}),Object(n.jsx)(Oa.a,{bodyStyle:{width:"70wv"},title:"Notifications",visible:v,onOk:S,onCancel:S,cancelButtonProps:{style:{display:"none"}},children:m.map((function(e,a){return Object(n.jsxs)("div",{style:{marginBottom:30},children:[Object(n.jsxs)("h3",{children:[a+1,". ",e.title_uz]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(xa.a,{style:{marginRight:10},color:ua[e.importance].color,children:ua[e.importance].text}),z()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(n.jsx)("div",{children:e.body_uz}),Object(n.jsx)("hr",{})]})}))}),Object(n.jsx)("div",{className:"cabiner-right-sidebar-sub-container",children:Object(n.jsxs)("div",{className:"cabinet-documents-action-containers-bloks",children:[Object(n.jsx)(T.b,{to:"/cabinet",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.cabinet?"active":""),children:[Object(n.jsx)(_.a,{icon:"home"})," ",s("Bosh sahifa")]})}),Object(n.jsx)(T.b,{to:"/cabinet/factura",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.factura?"active":""),children:[Object(n.jsx)(_.a,{icon:"file-invoice",className:"action-icon"})," ",s("Faktura"),Object(n.jsx)(pa.a,{style:{marginLeft:10},count:N.factura_awaiting})]})}),Object(n.jsx)(T.b,{to:"/cabinet/contract",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.contract?"active":""),children:[Object(n.jsx)(_.a,{icon:"file-contract",className:"action-icon"})," ",s("Shartnoma"),Object(n.jsx)(pa.a,{style:{marginLeft:10},count:N.contract_awaiting})]})}),Object(n.jsx)(T.b,{to:"/cabinet/act",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.act?"active":""),children:[Object(n.jsx)(_.a,{icon:["far","file-alt"],className:"action-icon"})," ",s("Akt"),Object(n.jsx)(pa.a,{style:{marginLeft:10},count:N.act_awaiting})]})}),Object(n.jsx)(T.b,{to:"/cabinet/empowerment",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.empowerment?"active":""),children:[Object(n.jsx)(_.a,{icon:"file-signature",className:"action-icon"}),s("Ishonchnoma"),Object(n.jsx)(pa.a,{style:{marginLeft:10},count:N.emp_awating})]})}),Object(n.jsx)(T.b,{to:"/cabinet/tty",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.tty?"active":""),children:[Object(n.jsx)(_.a,{icon:["far","file-archive"],className:"action-icon"})," ",s("TTY"),Object(n.jsx)(pa.a,{style:{marginLeft:10},count:N.tty_awaiting})]})}),t?Object(n.jsx)(T.b,{to:"/admin/notification",children:Object(n.jsxs)("div",{className:"action-bloks ".concat(u.notification?"active":""),children:[Object(n.jsx)(_.a,{icon:["far","bell"],className:"action-icon"})," Notification",Object(n.jsx)(pa.a,{style:{marginLeft:10},count:3})]})}):null,l?Object(n.jsx)(ka,{valueStyle:{fontSize:15},value:l.time+18e5,title:s("Sessiya tugaydi"),onFinish:r}):null]})})]})}))),Ta=(t(584),t(607)),_a=function(e){var a=e.data,t=a.title,c=a.icon,i=a.color,l=a.count;return Object(n.jsxs)(Ta.a,{className:"admin-card-container",children:[Object(n.jsx)("div",{className:"admin-card-icon-field admin-card-".concat(i),children:Object(n.jsx)(_.a,{icon:c,className:"admin-card-icon"})}),Object(n.jsx)("div",{className:"admin-card-title",children:t}),Object(n.jsx)("div",{className:"admin-card-content",children:l})]})},Ca=(t(585),Object(q.b)({cabinetData:J})),Fa=Object(A.b)(Ca)((function(e){var a=e.cabinetData,t=Object(re.a)().t,i=Object(c.useState)(0),l=Object(O.a)(i,2),r=l[0],s=l[1],o=null!==a&&void 0!==a?a:{},d=o.income,u=o.outcome,j=o.rejected,m=o.saved,x={0:t("Kiruvchi hujjatlar"),1:t("Chiquvchi hujjatlar"),2:t("Rad etilgan hujjatlar"),3:t("Saqlangan hujjatlar")},p=[{title:t("Kiruvchi"),count:d,icon:"cloud-download-alt",color:"purple",footer:"Faktura yaratish",create_url:"/cabinet/documents/waiting"},{title:t("Chiquvchi"),count:u,icon:"cloud-upload-alt",color:"green",footer:"Shartnoma yaratish",create_url:"/cabinet/documents/signed"},{title:t("Rad etilgan"),count:j,icon:"ban",color:"pink",footer:"Akt yaratish",create_url:"/cabinet/documents/rejected"},{title:t("Saqlangan"),count:m,icon:["far","bookmark"],color:"orange",footer:"Ishonchnoma yaratish",create_url:"/cabinet/documents/saved"}],f={dataSourcePath:"/api/v1/cabinet/".concat(r,"?hi"),addActionPath:"actions/add",viewActionPath:"/cabinet/{docType}/view",replaceInViewPath:"docType",deleteConfirmText:"Shu faktura ochirilsinmi?",actions:{edit:3===r,delete:3===r,view:!0},allColumns:[{title:t("Hujjat \u2116"),dataIndex:"docNo",isSearchable:!0},{title:t("Hujjat turi"),dataIndex:"docType",isFilterable:!0,filters:["factura","act","contract","empowerment","tty"]},{title:t("Kontrakt \u2116"),dataIndex:"contractNo",isSearchable:!0},{title:t("Kontragent"),dataIndex:"sellerName",isSearchable:!0,width:150},{title:t("Kontragent")+" "+t("STIR"),dataIndex:"sellerTin",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:t("Holati"),dataIndex:"status",isFilterable:!0,width:70,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:t("Yaratilgan sana"),dataIndex:"created_at",dataType:"date"}]};return Object(n.jsx)("div",{className:"cabinet-home-main-container",children:Object(n.jsxs)("div",{className:"cabinet-home-sub-container",children:[Object(n.jsx)(b.a,{gutter:[16,16],children:p.map((function(e,a){return Object(n.jsx)(h.a,{onClick:function(){return s(a)},md:6,children:Object(n.jsx)(_a,{data:e})})}))}),Object(n.jsx)(ae,{title:x[r],config:f})]})})})),Ea=Object(q.b)({token:H}),za=Object(A.b)(Ea)((function(e){var a=e.token,t=e.match,i=de.a.useForm(),l=Object(O.a)(i,1)[0],r=t.params.empowermentId,s=Object(c.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1];Object(c.useEffect)((function(){r&&F()({url:"/api/v1/empowerments/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=z()(a.contractDate),a.created_at=z()(a.created_at),a.empowermentDateOfExpire=z()(a.empowermentDateOfExpire),a.empowermentDateOfIssue=z()(a.empowermentDateOfIssue),a.agentPassportDateOfIssue=z()(a.agentPassportDateOfIssue),a.updated_at=z()(a.updated_at),u(a),l.resetFields(),E(Me(e.data.products,"empowerment"))})).catch((function(e){console.log(e)}))}),[]);var I=Object(c.useState)(!1),N=Object(O.a)(I,2),k=N[0],S=N[1],w=Object(c.useState)([Ve,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:_e},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:_e},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:_e},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:_e},{value:""}]]),T=Object(O.a)(w,2),C=T[0],E=T[1];return Object(n.jsx)("div",{style:{padding:15},children:Object(n.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){g(!0),console.log(e),r?F()({url:"/api/v1/empowerments/".concat(r),method:"PATCH",data:{emp:e,products:C}}).then((function(e){console.log(e),g(!1),e.data.ok?f.b.success("Ishonchnoma ozgartirildi!"):f.b.error("Ishonchnoma o'zgartirishda xatolik!")})).catch((function(e){g(!1),f.b.error("Ishonchnoma o'zgartirishda xatolik!"),console.log(e)})):F()({url:"/api/v1/empowerments",method:"post",data:{emp:e,products:C}}).then((function(e){g(!1),e.data.ok?f.b.success("Ishonchnma yaratildi!"):f.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)})).catch((function(e){g(!1),f.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Ishonchnoma"}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"empowermentNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Inshonchnoma raqami"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Inshonchnoma raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"empowermentDateOfIssue",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Berilgan sanasi"})},"dyna-form-item-inn-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Berilgan sanasi"})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"empowermentDateOfExpire",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(ze,{docType:"empowerment"})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Qe,{form:l,docType:"empowerment"})})]})}),Object(n.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(n.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=_e})),E([C[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(n.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(n.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(n.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(n.jsx)(y.a,{type:"primary",icon:k?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),onClick:function(){return S(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(pe.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,n){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,n=e.col,c=e.value;C[t][n]=Object(m.a)(Object(m.a)({},C[t][n]),{},{value:c})})),E(Object(je.a)(C))}})})}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:_e},{value:""}],a=[].concat(Object(je.a)(C),[e]);E(a)},children:"Qo'shish"}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,console.log(e),console.log(C),C.splice(e,1),console.log(C),E(Object(je.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentTin",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u0421\u0422\u0418\u0420",onChange:function(e){var a=e.target.value;isNaN(a)?f.b.warning("STIR notog'ri kiritildi!"):a>1e8&&a<999999999&&F()({method:"GET",url:"info/contragent-by-tin?tin="+a}).then((function(e){var a=e.data,t=a.name,n=a.fullName,c=a.passIssueDate,i=a.passOrg,r=a.passNumber,s=a.passSeries;console.log(z()("2020-00-00 00:00:00")._isValid),l.setFieldsValue({agentFio:null!==n&&void 0!==n?n:t,agentPassportDateOfIssue:z()(c)._isValid?z()(c):null,agentPassportIssuedBy:i,agentPassportNumber:s+r})}))}})},"seler-account-tyin-inn"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u0421\u0422\u0418\u0420"})]})}),Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentFio",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u0424\u0418\u0428"})},"agentFio-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u0424\u0418\u0428"})]})}),Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentJobTittle",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u041c\u0430\u043d\u0441\u0430\u0431"})},"seler-account-empowerment-dateof-issue-agentJobTittle"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0430\u043d\u0441\u0430\u0431"})]})}),Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentPassportNumber",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account-agent-fioe"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentPassportIssuedBy",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})},"selenote-field"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})]})}),Object(n.jsx)(h.a,{md:7,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"agentPassportDateOfIssue",children:Object(n.jsx)(ue.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})},"selenote-field"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})]})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{loading:p,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{icon:Object(n.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(n.jsx)(de.a.Item,{name:"empowermentId",children:Object(n.jsx)(v.a,{type:"hidden"})},"empowermemt-id"),Object(n.jsx)(de.a.Item,{name:"empowermentProductId",children:Object(n.jsx)(v.a,{type:"hidden"})},"empowermemt-product-id")]})})})),Aa=function(e){var a=e.match;return Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(n.jsx)(se,{doc:"empowerment"})}}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:za}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:empowermentId"),component:za}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:empId"),component:za})]})},qa=Object(q.b)({user:Q}),Da=Object(A.b)(qa)((function(e){var a=e.match,t=e.user,c=a.params.actId;return Object(n.jsx)("div",{style:{margin:15,padding:20},children:Object(n.jsx)("embed",{width:"100%",height:"600px",src:"".concat(oa,"/api/v1/acts/get-pdf/").concat(c,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Ra=function(e){var a=e.match;return Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(n.jsx)(se,{doc:"act"})}}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Ye}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:actId"),component:Ye}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:actId"),component:Da})]})},Pa=t(598),Va=t(622),Ma=Object(q.b)({token:H}),Ba=Object(A.b)(Ma)((function(e){var a=e.token,t=e.match,i=de.a.useForm(),l=Object(O.a)(i,1)[0],r=t.params.contractId,s=Object(c.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1];Object(c.useEffect)((function(){r&&F()({url:"/api/v1/contracts/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=z()(a.contractDate),a.created_at=z()(a.created_at),a.contractExpireDate=z()(a.contractExpireDate),a.updated_at=z()(a.updated_at),a.parts=a.contract_parts,a.contract_partners=a.contract_partners.map((function(e){var a=e.account,t=e.address,n=e.branchCode,c=e.branchName,i=e.director,l=e.directorTin,r=e.fizFio,s=e.fizTin,o=e.mobilePhone,d=e.name,u=e.oked,j=e.tin;e.workPhone,e.physicalTin,e.physicalName;return{buyerAccount:a,buyerAddress:t,buyerBranch:n,buyerBranchName:c,buyerDirector:i,buyerDirectorTin:l,buyerPhysicalFio:r,buyerPhysicalTin:s,buyerMobilePhone:o,buyerName:d,oked:u,buyerTin:j}})),console.log(a),u(a),E(Me(e.data.contract_products,"contract")),l.resetFields()})).catch((function(e){console.log(e)}))}),[]);var I=Object(c.useState)(!1),N=Object(O.a)(I,2),k=N[0],S=N[1],w=Object(c.useState)([Pe,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0}]]),T=Object(O.a)(w,2),C=T[0],E=T[1];return Object(n.jsx)("div",{style:{padding:15},children:Object(n.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){console.log(e),g(!0);var a=e.parts.map((function(e,a){return Object(m.a)(Object(m.a)({},e),{},{ordNo:a+1})})),t=e.contract_partners;delete e.parts,delete e.contract_partners,r?F()({url:"/api/v1/contracts/".concat(r),method:"PATCH",data:{contract:e,products:C,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?f.b.success("Shartnoma yangilandi!"):f.b.error("Shartnoma yangilashda xatolik!"),g(!1)})).catch((function(e){f.b.error("Shartnoma yangilashda xatolik!"),console.log(e),g(!1)})):F()({url:"/api/v1/contracts",method:"post",data:{contract:e,products:C,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?f.b.success("Yangi shartnoma yaratildi!"):f.b.error("Shartnoma yaratish xatolik!"),g(!1)})).catch((function(e){console.log(e),f.b.error("Shartnoma yaratish xatolik!"),g(!1)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Shartnoma"}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractName",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Nomi"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Nomi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"contractDate",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Tuzilgan sanasi"})},"dyna-form-item-inn-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tuzilgan sanasi"})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"contractExpireDate",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractPlace",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma joyi"})},"dyna-form-item-contract-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma joyi"})]})})]})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(ze,{docType:"contract",form:l})}),Object(n.jsx)(de.a.List,{name:"contract_partners",children:function(e,a){var t=a.add,c=a.remove;return Object(n.jsxs)(n.Fragment,{children:[e.map((function(e){return Object(n.jsx)(h.a,{sm:11,children:Object(n.jsx)(Qe,{fieldList:e,remove:c,docType:"contract",form:l},e.key)})})),Object(n.jsx)(de.a.Item,{children:Object(n.jsx)(y.a,{size:"large",className:"factra-action-btns",style:{width:"100%"},type:"dashed",onClick:function(){return t()},icon:Object(n.jsx)(Va.a,{}),children:"Kontragent qo'shish"})})]})}})]})}),Object(n.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(n.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if("done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=_e})),E([C[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(n.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(n.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_contract_products.xlsx",download:!0,children:Object(n.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(n.jsx)(y.a,{type:"primary",icon:k?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),onClick:function(){return S(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(pe.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,n){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,n=e.col,c=e.value;C[t][n]=Object(m.a)(Object(m.a)({},C[t][n]),{},{value:c}),C[t][8].value=C[t][5].value&&C[t][6].value?parseFloat(C[t][5].value)*parseFloat(C[t][6].value)+parseFloat(C[t][7].value?C[t][7].value:0):0})),E(Object(je.a)(C))}})})}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(C),[e]);E(a)},children:"Qo'shish"}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,C.splice(e,1),E(Object(je.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Shartnoma shartlari"}),Object(n.jsx)(de.a.List,{name:"parts",children:function(e,a){var t=a.add,c=a.remove;return Object(n.jsxs)(n.Fragment,{children:[e.map((function(e){return Object(n.jsxs)(b.a,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(n.jsx)(h.a,{sm:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,Object(m.a)(Object(m.a)({},e),{},{name:[e.name,"title"],fieldKey:[e.fieldKey,"title"],rules:[{required:!0}],children:Object(n.jsx)(v.a,{className:"border-right-square",size:"large",placeholder:"Shart sarlavhasi",addonAfter:Object(n.jsx)(_.a,{icon:["far","times-circle"],onClick:function(){return c(e.name)}})})})),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shart sarlavhasi"})]})}),Object(n.jsx)(h.a,{sm:24,children:Object(n.jsx)(de.a.Item,Object(m.a)(Object(m.a)({},e),{},{name:[e.name,"body"],fieldKey:[e.fieldKey,"body"],rules:[{required:!0}],children:Object(n.jsx)(Ue.a,{rows:4,placeholder:"Sharnoma matni",size:"large"})}))}),Object(n.jsx)(Pa.a,{})]},e.key)})),Object(n.jsx)(de.a.Item,{children:Object(n.jsx)(y.a,{size:"large",type:"dashed",onClick:function(){return t()},block:!0,icon:Object(n.jsx)(Va.a,{}),children:"Maydon qo'shish"})})]})}})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{primary:!0,htmlType:"submit",loading:p,className:"factra-action-btns save-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{icon:Object(n.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(n.jsx)(de.a.Item,{name:"contractId",children:Object(n.jsx)(v.a,{type:"hidden"})},"contractId-1")]})})})),Ua=Object(q.b)({user:Q}),Ka=Object(A.b)(Ua)((function(e){var a=e.match,t=e.user,c=a.params.contractId;return Object(n.jsx)("div",{style:{margin:15,padding:20},children:Object(n.jsx)("embed",{width:"100%",height:"600px",src:"".concat(oa,"/api/v1/contracts/get-pdf/").concat(c,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),La=function(e){var a=e.match;return Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(n.jsx)(se,{doc:"contract"})}}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Ba}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:contractId"),component:Ba}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:contractId"),component:Ka})]})},Ya=t(188),Xa=Object(q.b)({token:H,user:Q}),Qa=Object(A.b)(Xa)((function(e){var a=e.match,t=e.token,i=(e.user,de.a.useForm()),l=Object(O.a)(i,1)[0],r=a.params.ttyId,s=Object(c.useState)(),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(!1),x=Object(O.a)(j,2),p=x[0],g=x[1],I=Object(c.useState)(!1),N=Object(O.a)(I,2),k=N[0],S=N[1],w=Object(c.useState)([qe,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}]]),T=Object(O.a)(w,2),C=T[0],E=T[1];Object(c.useEffect)((function(){r&&F()({url:"/api/v1/ttys/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=z()(a.contractDate),a.created_at=z()(a.created_at),a.wayBillDate=z()(a.wayBillDate),a.tripTicketDate=z()(a.tripTicketDate),a.updated_at=z()(a.updated_at),console.log(a),u(e.data),l.resetFields(),E(Me(e.data.products,"tty"))})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsx)("div",{style:{padding:15},children:Object(n.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){g(!0),console.log(e),r?F()({url:"/api/v1/ttys/".concat(r),method:"PATCH",data:{tty:e,products:C}}).then((function(e){g(!1),f.b.success("TTY yangilandi!"),console.log(e)})).catch((function(e){g(!1),f.b.error("TTY yangilashda xatolik!"),console.log(e)})):F()({url:"/api/v1/ttys",method:"post",data:{tty:e,products:C}}).then((function(e){g(!1),f.b.success("TTY yaratildi!"),console.log(e)})).catch((function(e){g(!1),f.b.error("TTY yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"TTY yaratish"}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"wayBillNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"TTY raqami"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"TTY raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"wayBillDate",rules:[{required:!0}],children:Object(n.jsx)(ue.a,{size:"large",placeholder:"TTY sanasi"})},"dyna-form-item-inn-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"TTY sanasi"})]})}),Object(n.jsx)(h.a,{md:24,children:Object(n.jsx)(de.a.Item,{name:"deliveryType",initialValue:1,children:Object(n.jsx)(Ya.a.Group,{style:{width:"100%"},options:[{label:"Omborxonadan omborxonaga",value:1},{label:"Sotuvchidan xaridorgacha",value:2}],optionType:"button"})},"deliveryType")})]})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"tripTicketNo",children:Object(n.jsx)(v.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0-TripTicketNo"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"tripTicketDate",children:Object(n.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date-TripTicketDate"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi sanasi"})]})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"truckRegNo",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:"Avtomobil davlat raqami"})},"truckRegNo"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil davlat raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"truckModel",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:"Avtomobil turi"})},"truckModel"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil turi"})]})}),Object(n.jsx)(h.a,{md:24,children:Object(n.jsx)(de.a.Item,{name:"trailerType",initialValue:1,children:Object(n.jsx)(Ya.a.Group,{style:{width:"100%"},options:[{label:"Tirkama",value:1},{label:"Yarim tirkama",value:2}],optionType:"button"})},"trailerType")}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"trailerRegNo",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:"Tirkama davlat raqami"})},"TrailerRegNo"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tirkama davlat raqami"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"trailerModel",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:"Tirkama turi"})},"TrailerRegNoType"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tirkama turi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"driverFio",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:"Haydovchi FIO"})},"DriverFio"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Haydovchi FIO"})]})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(ze,{form:l,docType:"act"})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Qe,{form:l,docType:"act"})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Oe,{form:l,pName:"carrierName",pTin:"carrierTin",nameLabel:"Tashuvchi FIO",tinLabel:"Tashunchi STIR"})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(Oe,{form:l,pName:"customerName",pTin:"customerTin",nameLabel:"Buyurtmachi FIO",tinLabel:"Buyurtmachi STIR"})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"pointOfLoading",children:Object(n.jsx)(v.a,{size:"large"})},"PointOfLoading"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Yuklash manzili"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"pointOfUnloading",children:Object(n.jsx)(v.a,{size:"large"})},"pointOfUnloading"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tushirish mazili"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"pointOfRedirectName",children:Object(n.jsx)(v.a,{size:"large"})},"pointOfRedirectName"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil nomi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"pointOfRedirectAddress",children:Object(n.jsx)(v.a,{size:"large"})},"pointOfRedirectAddress"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil manzili"})]})})]})}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"giverFio",children:Object(n.jsx)(v.a,{size:"large"})},"giverFio"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Topshirdi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"takerFio",children:Object(n.jsx)(v.a,{size:"large"})},"takerFio"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Qabul qildi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"giverDriverFio",children:Object(n.jsx)(v.a,{size:"large"})},"giverDriverFio"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Topshiruvchi haydovchi FIO"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"takerDriverFio",children:Object(n.jsx)(v.a,{size:"large"})},"takerDriverFio"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Qabulqiluvchi haydovchi FIO"})]})}),Object(n.jsx)(h.a,{md:24,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"specialNotes",children:Object(n.jsx)(v.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"deliveryDistance",children:Object(n.jsx)(v.a,{size:"large"})},"deliveryDistance"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tashish orligi"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"deliveryDistanceInCity",children:Object(n.jsx)(v.a,{size:"large"})},"deliveryDistanceInCity"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Tashish orqliq (Shaharda)"})]})})]})}),Object(n.jsxs)("div",{className:"factura-data-sheet-container ".concat(k?"grid-full-view":null),children:[Object(n.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(Fe.a,{headers:{Authorization:"Bearer "+t},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=_e})),E([C[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(n.jsx)(y.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(n.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(n.jsx)(y.a,{children:"Shablon yuklash"})})]}),Object(n.jsx)(y.a,{type:"primary",icon:k?Object(n.jsx)(M.a,{}):Object(n.jsx)(B.a,{}),onClick:function(){return S(!k)},children:k?"Kichraytirish":"Kengaytirish"})]}),Object(n.jsx)("div",{style:{overflowX:"auto"},children:Object(n.jsx)("div",{style:{width:"100%"},children:Object(n.jsx)(pe.a,{data:C,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,n){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t,n,c=e.row,i=e.col,l=e.value;C[c][i]=Object(m.a)(Object(m.a)({},C[c][i]),{},{value:l});var r=parseFloat(null!==(t=C[c][3].value)&&void 0!==t?t:0)*parseFloat(null!==(n=C[c][4].value)&&void 0!==n?n:0);C[c][5]=Object(m.a)(Object(m.a)({},C[c][5]),{},{value:null!==r&&void 0!==r?r:0})})),E(Object(je.a)(C))}})})}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:C.length},{value:""},{value:"",dataEditor:_e},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],a=[].concat(Object(je.a)(C),[e]);E(a)},children:"Qo'shish"}),Object(n.jsx)(y.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;C.length>1&&(e=C.length-1,C.splice(e,1),E(Object(je.a)(C)))},children:"Oxirgi qatorni o'chirish"})]}),Object(n.jsx)("div",{className:"factura-data-sheet-container",children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{loading:p,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(y.a,{icon:Object(n.jsx)(_.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})})]})})})),Ha=Object(q.b)({user:Q}),Ja=Object(A.b)(Ha)((function(e){var a=e.match,t=e.user,c=a.params.ttyId;return Object(n.jsx)("div",{style:{margin:15,padding:20},children:Object(n.jsx)("embed",{width:"100%",height:"600px",src:"".concat(oa,"/api/v1/ttys/get-pdf/").concat(c,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Ga=function(e){var a=e.match;return Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(n.jsx)(se,{doc:"tty"})}}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Qa}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:ttyId"),component:Qa}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:ttyId"),component:Ja})]})},Wa=(t(586),t(613)),$a=function(){var e=Object(c.useState)([]),a=Object(O.a)(e,2),t=a[0],i=a[1],l=Object(c.useState)(!1),r=Object(O.a)(l,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){o(!0),F()({url:"api/v1/notifications",method:"GET"}).then((function(e){i(e.data),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]),Object(n.jsxs)("div",{className:"factura-data-sheet-container",style:{margin:15},children:[Object(n.jsx)("h3",{children:"Notifications"}),Object(n.jsx)(Wa.b,{loading:s,dataSource:t,pagination:!0,renderItem:function(e){return Object(n.jsx)(Wa.b.Item,{children:Object(n.jsxs)("div",{style:{marginBottom:30},children:[Object(n.jsx)("h3",{children:e.title_uz}),Object(n.jsxs)("div",{children:[Object(n.jsx)(xa.a,{style:{marginRight:10},color:ua[e.importance].color,children:ua[e.importance].text}),z()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(n.jsx)("div",{children:e.body_uz})]})})}})]})},Za=oe.a.Option,et=Object(q.b)({user:Q}),at=Object(A.b)(et,(function(e){return{setUserOnly:function(a){return e(Ge(a))}}}))((function(e){var a,t=e.user,i=(e.setUserOnly,Object(re.a)().t),l=de.a.useForm(),r=Object(O.a)(l,1)[0],s=Object(c.useState)(!1),o=Object(O.a)(s,2),d=o[0],u=o[1];return Object(n.jsx)(de.a,{initialValues:t,onFinish:function(e){console.log(JSON.stringify(e)),u(!0),F()({method:"post",data:e,url:"company/update?id=".concat(t.id)}).then((function(e){u(!1),f.b.success("Succesfully updated!")})).catch((function(e){u(!1),console.log(e)}))},form:r,children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{initialValue:null!==(a=t.tin)&&void 0!==a?a:t.username,name:"tin",children:Object(n.jsx)(v.a,{rules:[{required:!0}],size:"large",disabled:!0})},"dyna-form-facutura-no-old-tin"),Object(n.jsx)("span",{className:"custom-input-label-1",children:i("STIR")})]})}),[{name:"name",label:"Nomi"},{name:"address",label:"Manzil"},{name:"oked",label:"OKED"},{name:"director_fio",label:"Direktor"},{name:"accountant",label:"Hisobchi"},{name:"bank_account",label:"Hisob raqam"},{name:"mfo",label:"MFO"}].map((function(e){return Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:e.name,children:Object(n.jsx)(v.a,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-".concat(e.name)),Object(n.jsx)("span",{className:"custom-input-label-1",children:e.label})]})})})),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"ns10_code",children:Object(n.jsxs)(oe.a,{rules:[{required:!0}],size:"large",bordered:!1,children:[Object(n.jsx)(Za,{value:1,children:"Tashkent"}),Object(n.jsx)(Za,{value:2,children:"Andijon"}),Object(n.jsx)(Za,{value:3,children:"Tashkent"}),Object(n.jsx)(Za,{value:14,children:"Namangan"})]})},"dyna-form-facutura-no-old-tin-vil"),Object(n.jsx)("span",{className:"custom-input-label-1",children:i("Viloyat")})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(y.a,{htmlType:"submit",loading:d,className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})),tt=t(195),nt=oe.a.Option,ct=Object(q.b)({user:Q}),it=Object(A.b)(ct)((function(e){var a=e.user,t=(Object(re.a)().t,Object(tt.useState)()),c=Object(O.a)(t,2),i=c[0],l=c[1],r=Object(tt.useState)([]),s=Object(O.a)(r,2),o=s[0],d=s[1],u=Object(tt.useState)(!1),j=Object(O.a)(u,2),b=j[0],h=j[1],m=o.map((function(e){return Object(n.jsx)(nt,{value:e.classCode,children:e.className},e.classCode)}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{mode:"multiple",value:i,showSearch:!0,showArrow:!1,defaultActiveFirstOption:!1,filterOption:!1,onSearch:function(e){h(!0),F()({url:"classifications/search?key=".concat(e),method:"get"}).then((function(e){console.log(e.data.data),d(Array.isArray(e.data.data)?e.data.data:[]),h(!1)})).catch((function(e){console.log(e),h(!1)}))},onChange:l,style:{width:"100%"},loading:b,notFoundContent:null,children:m}),Object(n.jsx)(y.a,{type:"primary",style:{marginTop:10},onClick:function(){var e;console.log(i),F()({url:"classifications/add-products",method:"post",data:{tin:null!==(e=a.tin)&&void 0!==e?e:a.username,class_codes:i}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Ozingizga yuklash"})]})})),lt=(oe.a.Option,Object(q.b)({user:Q})),rt=Object(A.b)(lt)((function(e){var a,t=e.user,i=Object(re.a)().t,l=Object(c.useState)(!1),r=Object(O.a)(l,2),s=r[0],o=r[1];return Object(n.jsx)("div",{children:Object(n.jsxs)(fa.a,{spinning:s,children:[Object(n.jsx)(it,{}),Object(n.jsx)(se,{hideTabs:!0,customButton:Object(n.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var e;o(!0),F()({url:"classifications/reload?tin=".concat(null!==(e=t.tin)&&void 0!==e?e:t.username),method:"GET"}).then((function(e){o(!1)})).catch((function(e){o(!1)}))},children:Object(n.jsxs)("span",{children:[Object(n.jsx)(_.a,{icon:"sync-alt"})," ",i("Synxronizatsiya")]})}),doc:"user-products",addParams:[{name:"tin",value:null!==(a=t.tin)&&void 0!==a?a:t.username}]})]})})})),st=Object(q.b)({loadedKey:G}),ot=Object(A.b)(st)((function(e){var a=e.loadedKey,t=Object(re.a)().t,i=Object(c.useState)(!1),l=Object(O.a)(i,2),r=l[0],s=l[1];return Object(n.jsx)("div",{children:Object(n.jsx)(de.a,{onFinish:function(e){s(!0),ia.createPkcs7(a.id,e.password,null,(function(a){F()({url:"user/set-password",method:"post",data:{pkcs7:a,password:e.password,phone:e.phone}})}),(function(e,a){f.b.error(a),console.log("r",a,"e",e)}))},children:Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"password",children:Object(n.jsx)(v.a.Password,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tin"),Object(n.jsx)("span",{className:"custom-input-label-1",children:t("Yangi parol")})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"phone",children:Object(n.jsx)(v.a,{placeholder:"+998 xx xxx xx xx",rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tphone"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Telefon raqam"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(n.jsx)(v.a.Password,{rules:[{required:!0}],size:"large"})}),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Prolni tasdiqlang"})]})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(y.a,{htmlType:"submit",loading:r,className:"factra-action-btns sing-btn",size:"large",icon:Object(n.jsx)(_.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})})),dt=x.a.TabPane,ut=function(){var e=Object(re.a)().t;return Object(n.jsx)("div",{className:"factura-data-sheet-container",style:{margin:15},children:Object(n.jsxs)(x.a,{onChange:function(e){console.log(e)},type:"card",children:[Object(n.jsx)(dt,{tab:e("Kompaniya ma'lumotlari"),children:Object(n.jsx)(at,{})},"1"),Object(n.jsx)(dt,{tab:e("Parol o'zgartirish"),children:Object(n.jsx)(ot,{})},"2"),Object(n.jsx)(dt,{tab:e("Maxsulotlarim"),children:Object(n.jsx)(rt,{})},"3")]})})},jt=Object(s.g)((function(e){var a=e.match;return Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{md:5,lg:4,children:Object(n.jsx)(wa,{})}),Object(n.jsxs)(h.a,{md:19,lg:20,children:[Object(n.jsx)(s.b,{exact:!0,path:a.path,component:Fa}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/factura"),component:ha}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/empowerment"),component:Aa}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/act"),component:Ra}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/contract"),component:La}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/tty"),component:Ga}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/notifications"),component:$a}),Object(n.jsx)(s.b,{path:"".concat(a.path,"/profile"),component:ut})]})]})})})),bt=(t(587),t(588),t(311)),ht=t(608),mt=(t(589),t(122)),Ot=t(191),xt=function(e){e.locale,e.changeLocale;var a=Object(re.a)().i18n,t=Object(c.useState)(te.a.language),i=Object(O.a)(t,2),l=i[0],r=i[1];Object(c.useEffect)((function(){r(te.a.language)}),[te.a.language]);var s=Object(n.jsxs)(mt.a,{children:[Object(n.jsxs)(mt.a.Item,{onClick:function(){a.changeLanguage("uz")},children:[Object(n.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/uz.png"})," O'zb"]}),Object(n.jsxs)(mt.a.Item,{onClick:function(){a.changeLanguage("uz-Cyrl")},children:[Object(n.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/uz.png"})," \u040e\u0437\u0431"]}),Object(n.jsxs)(mt.a.Item,{onClick:function(){a.changeLanguage("ru")},children:[Object(n.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/ru.png"})," Pyc"]}),Object(n.jsxs)(mt.a.Item,{onClick:function(){a.changeLanguage("en")},children:[Object(n.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/en.png"})," Eng"]})]});return Object(n.jsx)("span",{className:"trigger text-float-right",children:Object(n.jsx)(Ot.a,{overlay:s,children:Object(n.jsx)("img",{style:{width:25,borderRadius:"50%",marginRight:30},alt:"languange",src:"/images/".concat("uz-Cyrl"===l?"uz":l,".png")})})})},pt=(t(590),function(e){var a=e.active;return Object(n.jsx)("div",{className:"side-bar-icons-main-container ".concat(a?"inactive":"active"),children:Object(n.jsxs)("div",{className:"sidebar-iconsconyainer",children:[Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{placement:"left",color:"#0075ff",title:"Bosh sahifa",children:Object(n.jsx)(T.b,{to:"/home",children:Object(n.jsx)(_.a,{icon:"home"})})})}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{placement:"left",color:"#0075ff",title:"Notifications",children:Object(n.jsx)(T.b,{to:"/cabinet/notifications",children:Object(n.jsx)(_.a,{icon:["far","bell"]})})})}),Object(n.jsx)("div",{children:Object(n.jsx)(I.a,{title:"Kabinet",color:"#0075ff",placement:"left",children:Object(n.jsx)(T.b,{to:"/cabinet/profile",children:Object(n.jsx)(_.a,{icon:"user-cog"})})})}),Object(n.jsx)("div",{children:Object(n.jsx)(T.b,{to:"/home/faq",children:Object(n.jsx)(_.a,{icon:"question-circle"})})})]})})}),ft=Object(q.b)({user:Q}),vt=Object(A.b)(ft,(function(e){return{logOut:function(){return e(Je())}}}))(Object(s.g)((function(e){var a,t=e.user,i=e.logOut,l=(e.location,Object(re.a)().t);window.onscroll=function(){return d(!1)};var r=Object(c.useState)(!1),s=Object(O.a)(r,2),o=s[0],d=s[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"header-main-component-container-main",children:[Object(n.jsxs)("div",{style:{textAlign:"right",padding:"5px 40px",backgroundColor:"rgba(0,0,0,0.1)"},children:[l("Call center"),": ",Object(n.jsx)("a",{href:"tel:+998712001122",children:"+998 71 200 11 22"})," "]}),Object(n.jsx)("div",{className:"header-main-component-container",children:Object(n.jsxs)("div",{className:"header-main-conatainer",children:[Object(n.jsx)("span",{children:Object(n.jsxs)(T.b,{to:"/",children:[Object(n.jsx)("img",{className:"logo-on-doc-img",src:"/assests/logo.png",alt:"logo On Doc"})," ",Object(n.jsxs)("span",{style:{fontSize:27,color:"black",fontWeight:"bold"},children:["Online",Object(n.jsx)("span",{style:{color:"rgb(0,174,255)"},children:"Factura"})]})]})}),Object(n.jsxs)("div",{className:"heasder-actions-con",children:[t?Object(n.jsxs)("div",{className:"header-action",style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(_.a,{className:"header-action-icon",icon:"wallet"}),"  ",Object(n.jsx)("strong",{style:{marginLeft:10},children:" 40500.00"})]}):null,Object(n.jsx)(xt,{}),t?Object(n.jsxs)("div",{className:"header-action",children:[Object(n.jsxs)("strong",{children:[l("STIR"),":"]}),"  ",null!==(a=t.tin)&&void 0!==a?a:t.username]}):null,t?Object(n.jsx)("div",{className:"header-action",children:Object(n.jsx)(I.a,{title:l("Tizimdan chiqish"),children:Object(n.jsx)("div",{style:{cursor:"pointer"},onClick:i,children:Object(n.jsx)(_.a,{icon:"sign-in-alt",className:"header-action-icon"})})})}):Object(n.jsx)("div",{className:"header-action",children:Object(n.jsx)(I.a,{title:l("Tizimga kirish"),children:Object(n.jsx)(T.b,{to:"/home/login",children:Object(n.jsx)(_.a,{icon:"sign-in-alt",className:"header-action-icon"})})})}),Object(n.jsx)(ht.a,{className:"burger-main",toggled:o,toggle:d})]})]})})]}),Object(n.jsx)(pt,{active:o})]})}))),gt=function(e){return Object(bt.a)(e),Object(n.jsx)("div",{children:Object(n.jsx)("div",{})})},yt=(t(591),oe.a.Option,Object(A.b)(null,(function(e){return{setCurrentUser:function(a){return e(function(e){return{type:He.SUCCESS_LOGIN,payload:e}}(a))},setEspUser:function(a){return e(function(e){return{type:He.SET_KEY_USER,payload:e}}(a))},setKeyId:function(a){return e(function(e){return{type:He.SET_LOADED_KEY_ID,payload:e}}(a))}}}))(Object(s.g)((function(e){var a=e.setCurrentUser,t=e.history,i=e.setEspUser,l=e.setKeyId,r=Object(re.a)().t,s=Object(c.useState)([]),o=Object(O.a)(s,2),d=o[0],u=o[1],j=Object(c.useState)(0),m=Object(O.a)(j,2),x=m[0],p=m[1];Object(c.useEffect)((function(){ia.listAllUserKeys((function(e,a){return"itm-"+e.serialNumber+"-"+a}),(function(e,a){d.push({value:e,text:a}),u(Object(je.a)(d))}),(function(e,a){}),(function(e,a){console.log(a),f.b.error(r("E-Imzo xatosi. Sizda E-Imzo programmasi yoki E-Imzo browseri mavjud emas!"))}))}),[]);var g=Object(c.useState)(!1),I=Object(O.a)(g,2),N=I[0],k=I[1],S=Object(c.useState)(!1),w=Object(O.a)(S,2),T=w[0],C=(w[1],{required:"Bu maydon majburiy!"});return Object(n.jsx)("div",{className:"login-main-container",children:Object(n.jsx)(b.a,{justify:"space-around",children:Object(n.jsx)(h.a,{md:10,children:0===x?Object(n.jsxs)("div",{className:"login-form-containrer",children:[Object(n.jsxs)(de.a,{name:"e-key",onFinish:function(e){var n=function(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,c=0;c<e;c++)a+=t.charAt(Math.floor(Math.random()*n));return a}(24);ia.loadKey(e.key.text,(function(e){l({id:e,time:Date.now()}),ia.createPkcs7(e,n,null,(function(c){F()({url:"site/auth",method:"post",data:{keyId:e,guid:n,pkcs7:c}}).then((function(e){e.data.success?(a(e.data),i(e.data.data),f.b.success(r("Muaffaqiyatli kirish!")),t.push("/home/choosecompany")):f.b.error(r("Kabinetga kirishda xatolik!"))})).catch((function(e){console.log(e)}))}),(function(e,a){console.log("e:",e),console.log("r:",a),f.b.error(a)}),(function(e,a){console.log("e:",e),console.log("r:",a),f.b.error(a)}))}),(function(e,a){console.log("Load key e:",e),console.log("Load key r:",a)}))},scrollToFirstError:!0,validateMessages:C,children:[Object(n.jsx)("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #999",borderRadius:11,marginBottom:10,padding:10},children:Object(n.jsx)(de.a.Item,{name:"key",children:Object(n.jsx)(Ya.a.Group,{size:"large",children:d.map((function(e){return Object(n.jsx)(Ya.a,{value:e,children:Object(n.jsxs)("div",{className:"client-availbale-key",children:[Object(n.jsxs)("div",{children:[r("FIO"),": ",e.text.CN," "]}),Object(n.jsxs)("div",{children:[r("STIR"),": ",e.text.TIN]}),Object(n.jsxs)("div",{children:[r("Tashkilot"),": ",e.text.O]}),Object(n.jsxs)("div",{children:[r("Amal qilish muddati"),":",z()(e.text.validTo).format("MMMM Do YYYY, H:mm:ss")]})]})},e.value)}))})})}),Object(n.jsx)(de.a.Item,{children:Object(n.jsx)(y.a,{loading:T,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(n.jsx)(_.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:r("Kirish")})})]}),Object(n.jsx)("div",{onClick:function(){return p(1)},style:{textAlign:"center",cursor:"pointer"},children:r("STIR va parol bilan kirish")})]}):Object(n.jsxs)("div",{className:"login-form-containrer",children:[Object(n.jsx)("h3",{children:r("STIR va parol bilan kirish")}),Object(n.jsxs)(de.a,{name:"tin-pass",onFinish:function(e){k(!0),console.log(e),F()({url:"/api/v1/login-with-password",data:e,method:"POST"}).then((function(e){a(e.data),k(!1),t.push("/home/choosecompany")})).catch((function(e){console.log(e),k(!1),f.b.error(r("Kabinetga kirishda xatolik!"))}))},scrollToFirstError:!0,validateMessages:C,children:[Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"tin",rules:[{required:!0}],children:Object(n.jsx)(v.a,{size:"large",placeholder:r("STIR")})},"dyna-form-facutura-no-old"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("STIR")})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{name:"password",rules:[{required:!0}],children:Object(n.jsx)(v.a.Password,{size:"large",placeholder:r("Parol")})},"dyna-form-facutura-no-old"),Object(n.jsx)("span",{className:"custom-input-label-1",children:r("Parol")})]}),Object(n.jsx)(de.a.Item,{children:Object(n.jsx)(y.a,{loading:N,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(n.jsx)(_.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:r("Kirish")})})]}),Object(n.jsx)("div",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){return p(0)},children:r("E-imzo bilan kirish")})]})})})})})))),It=t(134),Nt=t.n(It),kt=t(312),St=(t(592),Object(q.b)({user:$,companies:W})),wt=Object(A.b)(St,(function(e){return{setUserComps:function(a){return e(function(e){return{type:He.SET_USER_COMPANIES,payload:e}}(a))},setCurrentUser:function(a){return e(Ge(a))}}}))(Object(s.g)((function(e){var a=e.setCurrentUser,t=e.history,i=e.user,l=e.setUserComps,r=e.companies,s=Object(c.useState)(!1),o=Object(O.a)(s,2),d=o[0],u=o[1],j=function(){var e=Object(kt.a)(Nt.a.mark((function e(n){var c,i=arguments;return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,F()({url:"user/get-company-data?tin=".concat(n),method:"get"}).then((function(e){u(!1),a(e.data.company),c&&t.push("/cabinet")})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=Object(re.a)().t,h=Object(c.useState)(null),m=Object(O.a)(h,2),x=m[0],p=m[1];return Object(c.useEffect)((function(){x&&j(x)}),[x]),Object(c.useEffect)((function(){u(!0),F()({url:"info/director-company/?tin=".concat(i.username),method:"get"}).then((function(e){var a,t;(console.log(e),e.data.success)?(l(e.data.data),u(!1),1==(null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length)&&j(e.data.data[0].company_tin)):(f.b.error("Serverda xatolik!"),u(!1))})).catch((function(e){console.log(e),f.b.error("Serverda xatolik!"),u(!1)}))}),[]),Object(n.jsx)("div",{className:"choose-company-main-container",children:Object(n.jsxs)("div",{className:"choose-company-sub-container",children:[Object(n.jsx)(y.a,{onClick:function(){t.goBack()},type:"primary",icon:Object(n.jsx)(_.a,{style:{marginRight:10},icon:"arrow-circle-left"}),children:b("Back")}),Object(n.jsx)("h2",{style:{textAlign:"center"},children:b("Korxona tanlang")}),Object(n.jsx)("div",{className:"company-card-con",children:Object(n.jsx)(Wa.b,{grid:{gutter:8,xs:1,md:2,lg:3},loading:d,dataSource:r,renderItem:function(e){return Object(n.jsxs)("div",{onClick:function(){return p(e.company_tin)},className:"company-card",children:[Object(n.jsx)("div",{className:"company-name",children:e.company_name}),Object(n.jsxs)("div",{className:"company-text",children:[Object(n.jsx)("span",{className:"company-tin",style:{margin:0,padding:0},children:e.company_tin}),Object(n.jsx)("div",{children:b("STIR")})]})]})}})})]})})}))),Tt=Object(q.b)({user:Q}),_t=Object(A.b)(Tt)((function(e){var a=e.match,t=e.user;return console.log(t),Object(n.jsxs)("div",{children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path),component:gt}),Object(n.jsx)(s.b,{exact:"choosecompany",path:"".concat(a.path,"/choosecompany"),component:wt}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/login"),component:yt})]})})),Ct=oe.a.Option,Ft=function(e){var a=e.match,t=de.a.useForm(),i=Object(O.a)(t,1)[0],l=Object(c.useState)(!1),r=Object(O.a)(l,2),s=r[0],o=r[1],d=a.params.notificationId;Object(c.useEffect)((function(){d&&F()({url:"api/v1/notifications/"+d,method:"get"}).then((function(e){i.setFieldsValue(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsx)("div",{style:{marginTop:20},children:Object(n.jsx)(de.a,{form:i,onFinish:function(e){o(!0),F()({method:d?"patch":"post",data:e,url:d?"/api/v1/notifications/"+d:"/api/v1/notifications"}).then((function(e){e.data.ok?f.b.success("Notification saqlandi!"):f.b.error("Notification saqlashda xatolik!"),o(!1)})).catch((function(e){console.log(e),f.b.error("Notification saqalashda xatolik!"),o(!1)}))},scrollToFirstError:!0,children:Object(n.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(n.jsx)("h3",{children:"Notification yaratish"}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsxs)(h.a,{md:11,children:[Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_uz",children:Object(n.jsx)(v.a,{size:"large"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (uz)"})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_ru",children:Object(n.jsx)(v.a,{size:"large"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (ru)"})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_en",children:Object(n.jsx)(v.a,{size:"large"})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (en)"})]}),Object(n.jsxs)(de.a.Item,{children:[Object(n.jsx)(de.a.Item,{rules:[{required:!0}],name:"importance",children:Object(n.jsxs)(oe.a,{bordered:!1,size:"large",name:"importance",defaultActiveFirstOption:!0,children:[Object(n.jsx)(Ct,{value:1,children:"1 - Uncha muxim emas"}),Object(n.jsx)(Ct,{value:2,children:"2 - Muxim emas"}),Object(n.jsx)(Ct,{value:3,children:"3 - Muxim"}),Object(n.jsx)(Ct,{value:4,children:"4 - Muximroq"}),Object(n.jsx)(Ct,{value:5,children:"5 - O'ta muxim"})]})},"dyna-form-facutura-no"),Object(n.jsx)("span",{className:"custom-input-label-1",children:"Notification muximligi"})]}),Object(n.jsxs)(b.a,{justify:"space-between",children:[Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(de.a.Item,{label:"Holati",name:"isActive",valuePropName:"checked",rules:[{required:!0}],children:Object(n.jsx)(be.a,{})})}),Object(n.jsx)(h.a,{md:11,children:Object(n.jsx)(de.a.Item,{children:Object(n.jsx)(y.a,{loading:s,style:{width:"100%"},size:"large",htmlType:"submit",className:"factra-action-btns save-btn",children:"Saqlash"})})})]})]}),Object(n.jsxs)(h.a,{md:12,children:[Object(n.jsx)(de.a.Item,{name:"body_uz",rules:[{required:!0}],children:Object(n.jsx)(Ue.a,{placeholder:"Body uz",rows:4,size:"large"})}),Object(n.jsx)(de.a.Item,{name:"body_ru",rules:[{required:!0}],children:Object(n.jsx)(Ue.a,{rows:4,placeholder:"Body ru",size:"large"})}),Object(n.jsx)(de.a.Item,{name:"body_en",rules:[{required:!0}],children:Object(n.jsx)(Ue.a,{placeholder:"Body en",rows:4,size:"large"})})]})]})]})})})},Et=Object(s.g)((function(e){var a=e.match;return Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{justify:"space-around",children:[Object(n.jsx)(h.a,{md:5,lg:4,children:Object(n.jsx)(wa,{admin:!0})}),Object(n.jsxs)(h.a,{md:19,lg:20,children:[Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification"),render:function(){return Object(n.jsx)(se,{doc:"notification",hideTabs:!0})}}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/create"),component:Ft}),Object(n.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/edit/:notificationId"),component:Ft})]})]})})})),zt=Object(q.b)({user:Q,token:H,loadedKey:G}),At=Object(A.b)(zt,(function(e){return{signOut:function(){return e(Je())}}}))((function(e){var a=e.user,t=e.token,i=e.loadedKey,l=e.signOut;z.a.locale("uz-latn");var r=Object(re.a)().t;return F.a.defaults.baseURL=oa,F.a.defaults.headers.common.Authorization="Bearer "+t,Object(c.useEffect)((function(){(null===i||void 0===i?void 0:i.time)+18e5<Date.now()&&(console.log("Hi"),l(),f.b.warn(r("Sessiyangiz tugadi!")))}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(vt,{}),Object(n.jsxs)(s.d,{children:[Object(n.jsx)(s.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(s.a,{to:"/home"})}}),Object(n.jsx)(s.b,{path:"/home",component:_t}),Object(n.jsx)(s.b,{path:"/cabinet",render:function(){return a?Object(n.jsx)(jt,{}):Object(n.jsx)(s.a,{to:"/home/login"})}}),Object(n.jsx)(s.b,{path:"/admin",render:function(){return 1===a.role_id?Object(n.jsx)(Et,{}):Object(n.jsx)(s.a,{to:"/home"})}})]})]})})),qt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,623)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,i=a.getLCP,l=a.getTTFB;t(e),n(e),c(e),i(e),l(e)}))},Dt=t(74),Rt=t(313),Pt=t.n(Rt),Vt=t(186),Mt=t(314),Bt={currentUser:null,token:null,cabinetData:null,userCompanies:[],selectedEsign:null,loadedKeyId:null,keyUser:null,isAferta:!1,isRouming:!1,products:[]},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case He.SET_USER_PRODUCTS:return Object(m.a)(Object(m.a)({},e),{},{products:Array.isArray(a.payload)?a.payload:[]});case He.SET_IS_AFERTA:return Object(m.a)(Object(m.a)({},e),{},{isAferta:a.payload});case He.SET_IS_ROUMING:return Object(m.a)(Object(m.a)({},e),{},{isRouming:a.payload});case He.SET_KEY_USER:return Object(m.a)(Object(m.a)({},e),{},{keyUser:a.payload});case He.SET_LOADED_KEY_ID:return Object(m.a)(Object(m.a)({},e),{},{loadedKeyId:a.payload});case He.SET_USER_COMPANIES:return Object(m.a)(Object(m.a)({},e),{},{userCompanies:a.payload});case He.SET_CABINET_DATA:return Object(m.a)(Object(m.a)({},e),{},{cabinetData:a.payload});case He.SET_USER_ONLY:return Object(m.a)(Object(m.a)({},e),{},{currentUser:a.payload});case He.SUCCESS_LOGIN:return Object(m.a)(Object(m.a)({},e),{},{currentUser:a.payload.data,token:a.payload.token});case He.LOG_OUT:return Object(m.a)(Object(m.a)({},e),{},{currentUser:null,token:null,loadedKeyId:null,keyUser:null,userCompanies:[],products:[]});default:return e}},Kt={key:"root",storage:t.n(Mt).a,whitelist:["user"]},Lt=Object(Dt.c)({user:Ut}),Yt=Object(Vt.a)(Kt,Lt),Xt=t(320),Qt=t(322),Ht=Nt.a.mark(Jt);function Jt(){return Nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Qt.a)([]);case 2:case"end":return e.stop()}}),Ht)}var Gt=Object(Xt.a)(),Wt=[Gt];Wt.push(Pt.a);var $t=Object(Dt.e)(Yt,Dt.a.apply(void 0,Wt));Gt.run(Jt);var Zt=Object(Vt.b)($t),en=t(315);r.a.render(Object(n.jsx)(A.a,{store:$t,children:Object(n.jsx)(T.a,{children:Object(n.jsx)(en.a,{persistor:Zt,children:Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(c.Suspense,{fallback:Object(n.jsx)(fa.a,{}),children:Object(n.jsx)(At,{})})})})})}),document.getElementById("root")),qt()}},[[595,1,2]]]);
//# sourceMappingURL=main.15521201.chunk.js.map