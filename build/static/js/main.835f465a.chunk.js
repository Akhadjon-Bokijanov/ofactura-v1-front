(this.webpackJsonpon_doc=this.webpackJsonpon_doc||[]).push([[0],{337:function(e,a,t){},338:function(e,a,t){},345:function(e,a,t){},346:function(e,a,t){},387:function(e,a){},523:function(e,a,t){},528:function(e,a,t){},531:function(e,a,t){},577:function(e,a,t){},584:function(e,a,t){},596:function(e,a,t){},599:function(e,a,t){},600:function(e,a,t){},603:function(e,a,t){},604:function(e,a,t){},605:function(e,a,t){},606:function(e,a,t){},609:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(0),i=t.n(n),l=t(44),r=t.n(l),s=(t(337),t(338),t(222),t(56)),o=t(118),d=t(285),u=t(58),j=t(81);o.b.add(u.c,u.l,j.h,d.a,u.m,u.s,u.d,u.e,u.n,u.a,j.i,j.e,j.k,u.q,u.o,j.f,u.h,u.i,u.k,j.g,u.j,j.d,j.c,j.b,u.p,u.f,u.g,j.j,j.a,u.t,u.b,u.r);var b=t(135),h=t(86),m=t(27),O=t(22),x=function(e){return e.user},p=Object(O.a)([x],(function(e){return e.currentUser})),v=Object(O.a)([x],(function(e){return e.token})),f=Object(O.a)([x],(function(e){return e.cabinetData})),g=Object(O.a)([x],(function(e){return e.loadedKeyId})),y=Object(O.a)([x],(function(e){return e.userCompanies})),I=Object(O.a)([x],(function(e){return e.keyUser})),N=(Object(O.a)([x],(function(e){return e.isAferta})),Object(O.a)([x],(function(e){return e.isRouming})),Object(O.a)([x],(function(e){return e.products}))),S=t(12),k=t(11),w=(t(345),t(161)),T=t(329),C=t(619),_=t(622),F=t(55),E=t(91),z=t(625),D=t(614),A=t(287),q=t.n(A),R=t(39),P=t(20),V=(t(346),t(18)),M=t.n(V),B=t(24),U=t.n(B),K=t(628),L=t(629),Y=t(630),X=t(631),Q=t(632),H=t(633),J=t(330),W=t(288),G=t.n(W),$=function(e){var a=e.text,t=Object(J.a)(e,["text"]);return Object(c.jsx)("div",Object(S.a)(Object(S.a)({className:"ql-snow"},t),{},{children:Object(c.jsx)("div",{className:"ql-editor",style:{paddingLeft:0},"data-gramm":"false",children:G()(a)})}))},Z=Object(O.b)({currentUser:p}),ee=Object(m.b)(Z,(function(e){return{}}))(Object(s.g)((function(e){var a=e.reload,t=(e.loading,e.currentUser),i=(e.match,e.setItemToBeEdited,e.triggerAction),l=e.triggerActionWithPayload,r=e.title,s=e.config,o=s.modelName,d=s.primaryKeyName,u=s.primaryKeyValue,j=s.dataSourcePath,b=(s.addElementViewPath,s.deleteRequestPath),h=s.replaceInViewPath,m=(s.approveRequestPath,s.viewActionPath),O=s.editActionPath,x=s.resultsViewPath,p=s.triggerReload,v=s.triggerWithPayload,f=s.payload,g=s.deleteConfirmText,y=s.actions,I=s.allColumns,N=Object(n.useState)(""),A=Object(k.a)(N,2),V=A[0],B=A[1],J=Object(n.useState)(""),W=Object(k.a)(J,2),G=W[0],Z=W[1],ee=Object(n.useState)(null),ae=Object(k.a)(ee,2),te=(ae[0],ae[1]),ce=Object(n.useState)(!1),ne=Object(k.a)(ce,2),ie=ne[0],le=ne[1],re=Object(n.useState)({current:1,pageSize:10}),se=Object(k.a)(re,2),oe=se[0],de=se[1],ue=Object(n.useState)(0),je=Object(k.a)(ue,2),be=je[0],he=je[1],me=Object(n.useState)([]),Oe=Object(k.a)(me,2),xe=Oe[0],pe=Oe[1],ve=Object(n.useState)(!1),fe=Object(k.a)(ve,2),ge=fe[0],ye=fe[1],Ie=Object(n.useState)(null!==a&&void 0!==a?a:1),Ne=Object(k.a)(Ie,2),Se=Ne[0],ke=Ne[1],we=null;Object(n.useEffect)((function(){var e="".concat(j,"&page=").concat(oe.current,"&limit=").concat(oe.pageSize).concat(V?"&".concat(o,"[").concat(G,"]=").concat(V):"");ye(!0),M()({url:e.replace(/[ ]+/g,""),method:"GET"}).then((function(e){var a;Array.isArray(e.data.data)?(pe(e.data.data),he(null===(a=e.data.pages)||void 0===a?void 0:a.total)):console.log(e);ye(!1)})).catch((function(e){console.log(e),ye(!1)}))}),[oe,j,V,G,Se]);var Te=function(){T.b.error("Action cancelled!")},Ce=function(e,a,t){a(),B(e[0]),Z(t)},_e=function(e){console.log(e),e(),B("")},Fe=[];return I.forEach((function(e,a){var t;Fe.push({dataIndex:e.dataIndex,title:e.title,key:e.dataIndex,width:e.width?e.width:90,ellipsis:"detail"===e.dataIndex||"description"===e.dataIndex}),e.isSearchable&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),(t=e.dataIndex,{filterDropdown:function(e){var a=e.setSelectedKeys,n=e.selectedKeys,i=e.confirm,l=e.clearFilters;return Object(c.jsxs)("div",{style:{padding:8},children:[Object(c.jsx)(C.a,{ref:function(e){we=e},placeholder:"".concat(t," qidirish"),value:n[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return Ce(n,i,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(c.jsxs)(_.b,{children:[Object(c.jsx)(F.a,{type:"primary",onClick:function(){return Ce(n,i,t)},icon:Object(c.jsx)(K.a,{}),size:"small",style:{width:90},children:"Qidirish"}),Object(c.jsx)(F.a,{onClick:function(){return _e(l)},size:"small",style:{width:90},children:"Qaytarish"})]})]})},filterIcon:function(e){return Object(c.jsx)(K.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,a){return!!a[t]&&a[t].toString().toLowerCase().includes(e.toString().toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return we.select()}))},render:function(e){return G===t?Object(c.jsx)(q.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[V],autoEscape:!0,textToHighlight:e?e.toString():null}):e}}))),e.isFilterable&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{filters:e.filters.map((function(e){var a,t;return{text:null!==(a=e.text)&&void 0!==a?a:e,value:null!==(t=e.value)&&void 0!==t?t:e}})),onFilter:function(a,t){return B(a.toString().toLowerCase()),Z(e.dataIndex),xe}})),e.customView&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return e.customView(a[e.dataIndex])}})),e.isBoolean&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex]?1:0})}})),e.isBoolean&&e.isFilterable&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,filters:[{text:1,value:!0},{text:0,value:!1}],onFilter:function(a,t){return!!t[e.dataIndex]===!!a},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex]?1:0})}})),"rich-text"===e.dataType&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)($,{text:a[e.dataIndex]})}})),"object"===e.dataType&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,render:function(a){return Object(c.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:a[e.dataIndex]?e.items.map((function(t,n){return Object(c.jsxs)("div",{children:["".concat(t,": "),a[e.dataIndex][t]]},"sub-dyna-field-".concat(n))})):"Nothing found!"})}})),"array"===e.dataType&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex].map((function(e){return Object(c.jsxs)("span",{style:{backgroundColor:"#4870c7",color:"white",padding:3,marginRight:5,marginBottom:5,borderRadius:3},children:[e," "]})}))})}})),"date"===e.dataType&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{width:150,dataIndex:null,render:function(a){return Object(c.jsx)("span",{children:U()(a[e.dataIndex]).format("MMMM Do YYYY, H:mm:ss")})}})),"array-count"===e.dataType&&(Fe[a]=Object(S.a)(Object(S.a)({},Fe[a]),{},{dataIndex:null,onFilter:function(a,t){return t[e.dataIndex].includes(a)},render:function(a){return Object(c.jsx)("div",{children:a[e.dataIndex].length})}}))})),Fe.push({title:" ",key:"actions",width:90,fixed:"right",render:function(e){return Object(c.jsxs)("div",{className:"dyna-grid-actions",children:[y.edit?Object(c.jsxs)(E.a,{placement:"left",title:"O'zgartirish",children:[console.log(u),Object(c.jsx)(R.b,{to:"".concat(O,"/").concat(e[u]),children:Object(c.jsx)(L.a,{style:{color:"blue"}})})]}):null,y.delete?Object(c.jsx)(E.a,{placement:"bottom",title:"O'chirish",children:Object(c.jsx)(z.a,{title:g||"O'chirilsin?",onConfirm:function(){!function(e){var a;ye(!0),M()({url:"/".concat(b,"?").concat(null!==d&&void 0!==d?d:"id","=").concat(e[null!==u&&void 0!==u?u:"id"],"&tin=").concat(null!==(a=t.tin)&&void 0!==a?a:t.username),method:"delete"}).then((function(a){ke(Se+1),ye(!1),p&&i(p),v&&l(l,f),T.b.success("".concat(e[u]," is deleted!"))})).catch((function(e){ye(!1),T.b.error("Failed to delete!"),console.error(e)}))}(e)},onCancel:Te,okText:"Ha",cancelText:"Yo'q",children:Object(c.jsx)(Y.a,{style:{color:"red"}})})}):null,y.view?Object(c.jsx)(E.a,{placement:"bottom",title:"Ko'rish",children:Object(c.jsx)(R.b,{to:"".concat(h?m.replace("{".concat(h,"}"),e[h]):m,"/").concat(e[null!==u&&void 0!==u?u:"id"]),children:Object(c.jsx)(X.a,{})})}):null,y.chart?Object(c.jsx)(E.a,{placement:"bottomLeft",title:"Natijalar",children:Object(c.jsx)(R.b,{to:"".concat(x,"/").concat(e[null!==u&&void 0!==u?u:"id"]),children:Object(c.jsx)(P.a,{icon:"chart-line",style:{color:"#fb8c00"}})})}):null]})}}),Object(c.jsxs)("div",{className:"dyna-grid-main-container ".concat(ie?"akhadjon-dyna-grid-full-view":null),children:[Object(c.jsxs)("div",{onDoubleClick:function(){return le(!ie)},style:{marginTop:40,marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)(F.a,{onClick:function(){le(!ie)},type:"primary",icon:ie?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),children:ie?"Kichraytirish":"Kengaytirish"}),Object(c.jsx)("div",{children:Object(c.jsx)("h3",{children:r})})]}),Object(c.jsx)(D.a,Object(w.a)({loading:ge,rowKey:"id",onChange:function(e,a,t){console.log("Various parameters",e,a,t),de(e),te(a)},bordered:!0,pagination:oe,columns:Fe,dataSource:xe,scroll:{x:120*I.length}},"pagination",{position:["bottomCenter"],total:be}))]})}))),ae=t(121),te=t(151),ce=t(301),ne=t(303);ae.a.use(ce.a).use(ne.a).use(te.e).init({fallbackLng:"uz-Cyrl",debug:!0,whitelist:["uz","en","ru","uz-Cyrl"],interpolation:{escapeValue:!1}});var ie=ae.a,le=function(e){var a,t=ie.t.bind(ie),n={10:t("Saqlangan"),15:t("Imzo kutilmoqda"),17:t("Jo'natuvchi bekor qilgan"),20:t("Qabul qiluvchi bekor qilgan"),30:t("Qabul qilingan"),40:t("Send_and_accepted")};return Object(c.jsx)("span",{children:null!==(a=n[e])&&void 0!==a?a:"N/A"})},re=t(624),se=function(e){var a=e.doc,t=e.hideTabs,i=e.addParams,l=e.customButton,r=Object(re.a)().t,s=function(e){var a=ie.t.bind(ie);switch(e){case"user-products":return{title:a("Maxsulotlarim"),createTitle:a("Maxsulotlarni yuklash"),gridSourceUrl:"/classifications/index",createUrl:"/cabinet/products",gridConfig:{deleteRequestPath:"classifications/delete",deleteConfirmText:a("Shu productni ochirilsinmi?"),actions:{delete:!0},allColumns:[{title:a("Katalog kodi"),dataIndex:"groupCode",isSearchable:!0,width:200},{title:a("Klass kodi"),dataIndex:"classCode",isSearchable:!0,width:200},{title:a("Nomi"),dataIndex:"className",isSearchable:!0,width:300}]}};case"notification":return{title:"Notifications",createTitle:"Notification yaratish",createUrl:"/admin/notification/create",gridSourceUrl:"/api/v1/notifications",gridConfig:{deleteRequestPath:"api/v1/notifications",viewActionPath:"/admin/notification/view",editActionPath:"/admin/notification/edit",deleteConfirmText:"Shu notification ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Sarlavha",dataIndex:"title_uz",isSearchable:!0,width:300},{title:"Mazmuni",dataIndex:"body_uz",isSearchable:!0,width:400},{title:"Muhimligi",dataIndex:"importance",isFilterable:!0,width:100,filters:[{value:1,text:"1 - Uncha muxim emas"},{value:2,text:"2 - Muxim emas"},{value:3,text:"3 - Muxim"},{value:4,text:"4 - Muximroq"},{value:5,text:"5 - O'ta muxim"}]},{title:"Holati",dataIndex:"isActive",isFilterable:!0,width:100,filters:[{value:0,text:"Aktiv emas"},{value:1,text:"Aktiv"}]}]}};case"act":return{title:"Aktlar",createTitle:"Akt yaratish",createUrl:"/cabinet/act/create",gridSourceUrl:"/api/v1/acts",gridConfig:{deleteRequestPath:"api/v1/atcs",viewActionPath:"/cabinet/act/view",editActionPath:"/cabinet/act/edit",deleteConfirmText:"Shu akt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Akt \u2116",dataIndex:"actNo",isSearchable:!0},{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"contract":return{title:"Shartnomalar",createTitle:"Shartnoma yaratish",createUrl:"/cabinet/contract/create",gridSourceUrl:"/api/v1/contracts",gridConfig:{deleteRequestPath:"api/v1/contracts",viewActionPath:"/cabinet/contracts/view",editActionPath:"/cabinet/contract/edit",deleteConfirmText:"Shu kontrakt ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Kontrkt \u2116",dataIndex:"contractNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"empowerment":return{title:"Ishonchnomalar",createTitle:"Ishonchnoma yaratish",createUrl:"/cabinet/empowerment/create",gridSourceUrl:"/api/v1/empowerments",gridConfig:{deleteRequestPath:"api/v1/empowerments",viewActionPath:"/cabinet/empowerment/view",editActionPath:"/cabinet/empowerment/edit",deleteConfirmText:"Shu ishonchnoma ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"Ishonchnoma \u2116",dataIndex:"empowermentNo",isSearchable:!0,width:100},{title:"Kontrakt \u2116",dataIndex:"contractNo",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"status",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};case"tty":return{title:"Tovar transport yo'lxati",createTitle:"TTY yaratish",createUrl:"/cabinet/tty/create",gridSourceUrl:"/api/v1/ttys",gridConfig:{deleteRequestPath:"api/v1/ttys",viewActionPath:"/cabinet/tty/view",editActionPath:"/cabinet/tty/edit",deleteConfirmText:"Shu TTY ochirilsinmi?",actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:"TTY \u2116",dataIndex:"wayBillNo",isSearchable:!0,width:100},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:"Sotuvchi",dataIndex:"sellerName",isSearchable:!0,width:150},{title:"Sotuvchi STIR",dataIndex:"sellerTin",isSearchable:!0},{title:"Holati",dataIndex:"state",isFilterable:!0,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:"Yaratilgan sanasi",dataIndex:"created_at",dataType:"date"}]}};default:return{title:a("Hisob fakturalar"),createTitle:a("Faktura yaratish"),createUrl:"/cabinet/factura/create",gridSourceUrl:"facturas/index",gridConfig:{modelName:"AllDocumentsSearch",primaryKeyName:"FacturaId",primaryKeyValue:"doc_id",deleteRequestPath:"api/v1/facturas",viewActionPath:"/cabinet/factura/view",editActionPath:"/cabinet/factura/edit",deleteConfirmText:a("Shu faktura ochirilsinmi?"),actions:{edit:!0,delete:!0,view:!0},allColumns:[{title:a("Faktura \u2116"),dataIndex:"doc_no",isSearchable:!0},{title:a("Kontrakt \u2116"),dataIndex:"contract_no",isSearchable:!0},{title:a("Kontragent"),dataIndex:"contragent_name",isSearchable:!0,width:150},{title:a("Kontragent")+" "+a("STIR"),dataIndex:"contragent_tin",isSearchable:!0},{title:a("Holati"),dataIndex:"status",customView:le},{title:a("Yaratilgan sana"),dataIndex:"created_date",dataType:"date"}]}}}}(a),o=s.title,d=s.createTitle,u=s.createUrl,j=s.gridSourceUrl,b=s.gridConfig,h=Object(n.useState)(1),m=Object(k.a)(h,2),O=m[0],x=m[1];return Object(c.jsx)("div",{className:"factura-home-page-container",children:Object(c.jsxs)("div",{className:"factura-home-sub-con",children:[Object(c.jsxs)("div",{className:"factura-home-title",children:[Object(c.jsx)("h2",{children:o}),l||Object(c.jsx)(R.b,{to:u,children:Object(c.jsx)("span",{children:d})})]}),t?null:Object(c.jsx)("div",{className:"factura-home-list-tabs",children:Object(c.jsxs)("div",{className:"factura-home-list-tab-con",children:[Object(c.jsx)("div",{onClick:function(){return x(1)},className:"status-tab-bar ".concat(1===O?"active-tab":""),children:r("Kiruvchi")}),Object(c.jsx)("div",{onClick:function(){return x(2)},className:"status-tab-bar ".concat(2===O?"active-tab":""),children:r("Chiquvchi")}),Object(c.jsx)("div",{onClick:function(){return x(3)},className:"status-tab-bar ".concat(3===O?"active-tab":""),children:r("Saqlangan")}),Object(c.jsx)("div",{onClick:function(){return x(4)},className:"status-tab-bar ".concat(4===O?"active-tab":""),children:r("Barchasi")})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(ee,{config:Object(S.a)(Object(S.a)({},b),{},{dataSourcePath:"".concat(j,"?").concat({1:[0],2:[2],3:[1],4:[0,1,2,3]}[O].map((function(e){return"AllDocumentsSearch[write_type]="+e+"&"}))).concat(i?i.map((function(e){return"".concat(e.name,"=").concat(e.value)})):"")})})})]})})},oe=(t(139),t(149)),de=t(616),ue=t(613),je=(t(523),t(45)),be=t(627),he=t(634),me=t(635),Oe=function(e){var a=e.pTin,t=e.tinLabel,n=e.pName,i=e.nameLabel,l=e.form,r=e.tinCol,s=e.nameCol;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:null!==r&&void 0!==r?r:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:a,children:Object(c.jsx)(C.a,{size:"large",onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?T.b.warning("STIR notog'ri kiritildi!"):e.target.value>1e8&&e.target.value<=999999999&&M()({url:"info/contragent-by-tin?tin=".concat(e.target.value),method:"GET"}).then((function(e){console.log(e);var a=e.data,t=a.name,c=a.fullName,i={};if(Array.isArray(n)){var r=l.getFieldValue("contract_partners");r[n[0]][n[1]]=null!==t&&void 0!==t?t:c,l.setFieldsValue({contract_partners:Object(je.a)(r)})}else i[n]=null!==t&&void 0!==t?t:c,l.setFieldsValue(i)})).catch((function(e){console.log(e)}))}})},"".concat(a,"-tin-name")),Object(c.jsx)("span",{className:"custom-input-label-1",children:t})]})}),Object(c.jsx)(h.a,{md:null!==s&&void 0!==s?s:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:n,children:Object(c.jsx)(C.a,{size:"large"})},"".concat(n,"-tin-name")),Object(c.jsx)("span",{className:"custom-input-label-1",children:i})]})})]})})},xe=t(89),pe=t.n(xe),ve=t(102),fe=t(182),ge=t(117),ye=t(192),Ie=t(188),Ne=t(185),Se=t(126),ke=(t(528),Ne.a.Option,function(e){Object(ye.a)(t,e);var a=Object(Ie.a)(t);function t(e){var c;return Object(ve.a)(this,t),(c=a.call(this,e)).optionstag=c.props.userProducts.map((function(e){return{label:e.className,value:{CatalogCode:e.classCode,CatalogName:e.className}}})),c.handleChange=c.handleChange.bind(Object(ge.a)(c)),c.handleKeyDown=c.handleKeyDown.bind(Object(ge.a)(c)),c.state={},c}return Object(fe.a)(t,[{key:"handleChange",value:function(e){console.log(e);var a=this.props,t=a.onCommit,c=a.onRevert;e||c();this.state.e;t(e.value),console.log("COMMITTED",e.value)}},{key:"handleKeyDown",value:function(e){e.which===Se.ENTER_KEY||e.which===Se.TAB_KEY?(e.persist(),this.setState({e:e})):this.setState({e:null})}},{key:"render",value:function(){return Object(c.jsx)(Ne.a,{size:"small",showSearch:!0,autoFocus:!0,dropdownClassName:"class-codes-drop-down-list",style:{width:"100%"},dropdownMatchSelectWidth:!1,open:!0,value:this.state.selected,onChange:this.handleChange,onInputKeyDown:this.handleKeyDown,options:this.optionstag})}}]),t}(n.PureComponent)),we=Object(O.b)({userProducts:N}),Te=Object(m.b)(we)(ke),Ce=function(e){Object(ye.a)(t,e);var a=Object(Ie.a)(t);function t(e){var c;return Object(ve.a)(this,t),(c=a.call(this,e)).handleChange=c.handleChange.bind(Object(ge.a)(c)),c.state={},c}return Object(fe.a)(t,[{key:"handleChange",value:function(e){var a=this.props,t=a.onCommit;a.onRevert;console.log(e);var c=this.state.e;t(e.target.value,c)}},{key:"render",value:function(){return Object(c.jsx)("select",{onChange:this.handleChange,children:_e.map((function(e){return Object(c.jsxs)("option",{value:e.value,children:[" ",e.value," - ",e.label]})}))})}}]),t}(n.PureComponent),_e=[{value:0,label:"boshqa"},{value:1,label:"\u0448\u0442\u0443\u043a\u0430"},{value:2,label:"\u043f\u0430\u0447\u043a\u0430"},{value:3,label:"\u043c\u0438\u043b\u043b\u0438\u0433\u0440\u0430\u043c\u043c"},{value:4,label:"\u0433\u0440\u0430\u043c\u043c"},{value:5,label:"\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c"},{value:6,label:"\u0446\u0435\u043d\u0442\u043d\u0435\u0440"},{value:7,label:" \u0442\u043e\u043d\u043d\u0430"},{value:8,label:" \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:9,label:"\u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:10,label:"\u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:11,label:"\u043c\u0435\u0442\u0440"},{value:12,label:"\u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:13,label:"\u043a\u0432. \u043c\u0438\u043b\u043b\u0438\u043c\u0435\u0442\u0440"},{value:14,label:"\u043a\u0432. \u0441\u0430\u043d\u0442\u0438\u043c\u0435\u0442\u0440"},{value:15,label:"\u043a\u0432. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:16,label:"\u043a\u0432. \u043c\u0435\u0442\u0440"},{value:17,label:"1000 \u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:18,label:"\u043a\u0432. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:19,label:"\u043a\u0443\u0431. \u0434\u0435\u0446\u0438\u043c\u0435\u0442\u0440"},{value:20,label:"\u043a\u0443\u0431. \u043c\u0435\u0442\u0440"},{value:21,label:"\u043a\u0443\u0431. \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440"},{value:22,label:"\u043c\u0438\u043b\u043b\u0438\u043b\u0438\u0442\u0440"},{value:23,label:"\u043b\u0438\u0442\u0440"},{value:24,label:"\u0434\u0430\u043b"},{value:25,label:"\u0441\u0443\u043c"},{value:26,label:"\u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442"},{value:27,label:"\u0441\u0443\u0442\u043a\u0430"},{value:28,label:"\u0441\u043e\u0430\u0442"},{value:29,label:"\u043f\u0430\u0440"},{value:30,label:"\u0444\u043b\u0430\u043a\u043e\u043d"},{value:31,label:"\u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435"},{value:32,label:"\u043f\u043e\u043a\u0430\u0437\u044b"},{value:33,label:"\u043a\u043e\u0440\u043e\u0431\u043a\u0430"},{value:34,label:"\u043c\u043e\u0442\u043e\u0447\u0430\u0441"},{value:35,label:"\u0413\u043a\u0430\u043b"},{value:36,label:"\u043a\u0412\u0442\u0447"},{value:37,label:"\u0440\u0435\u0439\u0441"},{value:38,label:"\u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430"},{value:39,label:"\u043c\u0438\u043d\u0443\u0442"},{value:40,label:"\u043d\u043e\u0440\u043c\u0430/\u0447\u0430\u0441"},{value:41,label:"\u0431\u0430\u043b\u043b\u043e\u043d"},{value:42,label:"\u0434\u0435\u043d\u044c"},{value:43,label:"\u043c\u0435\u0441\u044f\u0446"},{value:44,label:"\u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"},{value:45,label:"\u0441\u0435\u0440\u0438\u044f"},{value:46,label:"\u0431\u0443\u0442\u044b\u043b\u043a\u0430"},{value:47,label:"\u043a\u0435\u0433\u0430"},{value:48,label:"\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f"},{value:49,label:"\u0440\u0443\u043b\u043e\u043d"},{value:50,label:"\u043f\u043e\u0440\u0446\u0438\u044f"},{value:51,label:"\u043f\u043e\u0433\u043e\u043d\u043d\u044b\u0439\xa0\u043c\u0435\u0442\u0440"},{value:52,label:"\u0433\u0430"},{value:53,label:"\u043a\u0412\u0430\u0440\u0447"},{value:54,label:"\u0447\u0435\u043b\u043e\u0432\u0435\u043a/\u0447\u0430\u0441"},{value:55,label:"\u043a\u0412\u0430\u0440"},{value:56,label:"\u043a\u0412\u0442"},{value:57,label:"\u0433\u043e\u0434"},{value:58,label:"\u043b\u0438\u0441\u0442"},{value:59,label:"\u0431\u043b\u043e\u043a"}],Fe=t(615),Ee=(t(531),Object(O.b)({user:p})),ze=Object(m.b)(Ee)((function(e){var a=e.user,t=e.docType,i=e.form,l=Object(re.a)().t,r=a.tin,s=a.name,o=a.fullName,d=a.regCode,u=a.mfo,j=a.bank_account,m=a.address,O=a.director_fio,x=a.director_tin,p=a.accountant,v=a.phone;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:l("Sizning ma'lumotlaringiz")}),"contract"==t?Object(c.jsx)(Oe,{form:i,nameCol:11,tinCol:11,tinLabel:l("Jis.Shaxs STIR"),nameLabel:l("Jis.Shaxs FIO"),pTin:"sellerFizTin",pName:"sellerFizFio"}):null,Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerTin",rules:[{required:!0}],initialValue:r,children:Object(c.jsx)(C.a,{disabled:!0,size:"large",placeholder:l("STIR")})},"dyna-form-item-inn-seller"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("STIR")})]}),"contract"!==t?Object(c.jsx)("h3",{children:l("Tashkilot")}):null,Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"sellerName",initialValue:null!==s&&void 0!==s?s:o,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Sotuvchi nomi")})},"seller-name-1-sellerName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Sotuvchi nomi")})]}),"act"!==t?Object(c.jsxs)(n.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerVatRegCode",initialValue:d,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("QQS tolovchi registratsiya raqami")})},"seler-account-vatreg"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("QQS tolovchi registratsiya raqami")})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerAccount",initialValue:j,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Hisob raqami")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Hisob raqami")})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerMobilePhone",initialValue:v,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Telfon raqam")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Telfon raqam")})]}):Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerMfo",initialValue:u,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("MFO")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("MFO")})]})})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerAddress",initialValue:m,children:Object(c.jsx)(C.a,{rules:[{required:!0}],size:"large",placeholder:l("Manzil")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Manzil")})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerDirector",initialValue:O,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Direktor")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Direktor")})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerDirectorTin",initialValue:x,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Direktor")+" "+l("STIR")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Direktor")+" "+l("STIR")})]}):Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"sellerAccountant",initialValue:p,children:Object(c.jsx)(C.a,{size:"large",placeholder:l("Bosh hisobchi")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:l("Bosh hisobchi")})]})})]})]}):null]})})),De=ie.t.bind(ie),Ae=[{readOnly:!0,value:"",width:50},{readOnly:!0,value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*"},{readOnly:!0,value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",dataEditor:Ce},{readOnly:!0,value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438"},{readOnly:!0,value:"\u041d\u0430\u0440\u04b3*"},{readOnly:!0,value:"\u042e\u043a\u043d\u0438\u043d\u0433 \u0443\u043c\u0443\u043c\u0438\u0439 \u049b\u0438\u0439\u043c\u0430\u0442\u0438"},{readOnly:!0,value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*"},{readOnly:!0,value:"\u042e\u043a\u043a\u0430 \u0434\u043e\u0438\u0440 \u0445\u0443\u0436\u0436\u0430\u0442\u043b\u0430\u0440"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430\u043d\u0438 \u0430\u043d\u0438\u049b\u043b\u0430\u0448 \u0443\u0441\u0443\u043b\u0438"},{readOnly:!0,value:"\u042e\u043a \u0441\u0438\u043d\u0444\u0438"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u0431\u0440\u0443\u0442\u0442\u043e)"},{readOnly:!0,value:"\u041c\u0430\u0441\u0441\u0430 (\u043d\u0435\u0442\u0442\u043e)"}],qe=[{readOnly:!0,value:"",width:50},{value:De("Tovar/xizmat nomi"),readOnly:!0,width:200},{value:De("Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi"),readOnly:!0,width:150},{value:De("Tovar/xizmat shtrix kodi"),readOnly:!0,width:100},{value:De("O'lchov birligi"),readOnly:!0,width:100},{value:De("Miqdori"),readOnly:!0,width:100},{value:De("Narxi"),readOnly:!0,width:100},{value:De("Aksiz soliq (%)"),readOnly:!0,width:100},{value:De("Aksiz soliq, miqdori"),readOnly:!0,width:100},{value:De("Yetkazib berish narxi"),readOnly:!0,width:100},{value:De("QQS (%)"),readOnly:!0,width:100},{value:De("QQS, miqdori"),readOnly:!0,width:100},{value:De("Umumiy summa"),readOnly:!0,width:150}],Re=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Pe=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u042f\u0433\u043e\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d \u043c\u0438\u043b\u043b\u0438\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 \u0431\u045e\u0439\u0438\u0447\u0430 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0438*",readOnly:!0,width:150},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u0448\u0442\u0440\u0438\u0445 \u043a\u043e\u0434\u0438",readOnly:!0,width:100},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100},{value:"\u041d\u0430\u0440\u04b3*",readOnly:!0,width:100},{value:"\u0435\u0442\u043a\u0430\u0437\u0438\u0431 \u0431\u0435\u0440\u0438\u0448 \u043d\u0430\u0440\u04b3\u0438*",readOnly:!0,width:100},{value:"Total*",readOnly:!0,width:150}],Ve=[{readOnly:!0,value:"",width:50},{value:"\u0422\u043e\u0432\u0430\u0440/\u0445\u0438\u0437\u043c\u0430\u0442 \u043b\u0430\u0440 \u043d\u043e\u043c\u0438*",readOnly:!0,width:200},{value:"\u045e\u043b\u0447\u043e\u0432 \u0431\u0438\u0440\u043b\u0438\u0433\u0438.*",readOnly:!0,width:100},{value:"\u043c\u0438\u049b\u0434\u043e\u0440\u0438",readOnly:!0,width:100}],Me=function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"factura";switch(t){case"empowerment":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:Ce},{value:e.count}]}))).unshift(Ve);break;case"act":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo,width:50},{value:e.name},{value:e.measureId,dataEditor:Ce},{value:e.count},{value:e.price},{value:parseFloat(e.count)*parseFloat(e.price),readOnly:!0,width:150}]}))).unshift(Re);break;case"contract":(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:Te},{value:e.barCode},{value:e.measureId,dataEditor:Ce},{value:e.count},{value:e.price},{value:e.deliverySum},{value:e.count*e.price+parseFloat(e.deliverySum),readOnly:!0}]}))).unshift(Pe);break;case"tty":(a=e.map((function(e,a){return[{readOnly:!0,value:a+1,width:50},{value:e.name},{value:e.measureId,dataEditor:Ce},{value:e.count},{value:e.price},{value:e.count*e.price,readOnly:!0},{value:e.deliveryCost},{value:e.docs},{value:e.weightMeasureMethod},{value:e.itemClass},{value:e.weightBrut},{value:e.weightNet}]}))).unshift(Ae);break;default:(a=e.map((function(e){return[{readOnly:!0,value:e.ordNo},{value:e.name},{value:e.catalogCode,dataEditor:Te},{value:e.barCode},{value:e.measureId,dataEditor:Ce},{value:e.count},{value:e.baseSumma},{value:e.exciseRate},{value:e.exciseSum,readOnly:!0},{value:e.deliverySum},{value:e.vatRate},{value:e.vatRate*e.baseSumma,readOnly:!0},{value:e.summa,readOnly:!0}]}))).unshift(qe)}return a},Be=t(108),Ue=t.n(Be),Ke=function(e,a){return'\u0411\u0438\u0437 \u049b\u0443\u0439\u0438\u0434\u0430 \u0438\u043c\u0437\u043e \u0447\u0435\u043a\u0443\u0432\u0447\u0438\u043b\u0430\u0440, "'.concat(null!==e&&void 0!==e?e:"___________",'" \u0431\u0438\u0440 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d,\u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u041f\u0443\u0434\u0440\u0430\u0442\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438 \u0432\u0430 "').concat(null!==a&&void 0!==a?a:"__________",'" \u0431\u043e\u0448\u049b\u0430 \u0442\u043e\u043c\u043e\u043d\u0434\u0430\u043d, \u0431\u0443\u043d\u0434\u0430\u043d \u043a\u0435\u0439\u0438\u043d \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438 \u0434\u0435\u0431 \u043d\u043e\u043c\u043b\u0430\u043d\u0430\u0434\u0438, \u0438\u0448 \u0411\u0443\u044e\u0440\u0442\u043c\u0430\u0447\u0438\u043d\u0438\u043d\u0433 \u0442\u0430\u043b\u0430\u0431\u043b\u0430\u0440\u0438\u0433\u0430 \u043c\u0443\u0432\u043e\u0444\u0438\u049b \u0442\u045e\u043b\u0438\u049b \u0431\u0430\u0436\u0430\u0440\u0438\u043b\u0433\u0430\u043d\u043b\u0438\u0433\u0438 \u0442\u045e\u0493\u0440\u0438\u0441\u0438\u0434\u0430 \u0430\u043a\u0442 \u0442\u0443\u0437\u0434\u0438\u043a.')},Le=Object(O.b)({token:v,user:p}),Ye=Object(m.b)(Le)((function(e){var a=e.token,t=e.match,i=e.user,l=de.a.useForm(),r=Object(k.a)(l,1)[0],s=t.params.actId,o=Object(n.useState)({actText:Ke(i.name)}),d=Object(k.a)(o,2),u=d[0],j=d[1],m=Object(n.useState)(!1),O=Object(k.a)(m,2),x=O[0],p=O[1];Object(n.useEffect)((function(){s&&M()({url:"/api/v1/acts/".concat(s),method:"GET"}).then((function(e){var a=e.data;a.contractDate=U()(a.contractDate),a.created_at=U()(a.created_at),a.actDate=U()(a.actDate),a.updated_at=U()(a.updated_at),console.log(a),j(e.data),r.resetFields(),_(Me(e.data.act_products,"act"))})).catch((function(e){console.log(e)}))}),[]);var v=Object(n.useState)(!1),f=Object(k.a)(v,2),g=f[0],y=f[1],I=Object(n.useState)([Re,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0}]]),N=Object(k.a)(I,2),w=N[0],_=N[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(de.a,{initialValues:u,form:r,name:"factura",onFinish:function(e){p(!0),console.log(e),s?M()({url:"/api/v1/acts/".concat(s),method:"PATCH",data:{act:e,products:w}}).then((function(e){p(!1),e.data.ok?T.b.success("Akt yangilandi!"):T.b.error("Akt yangilashda xatolik!"),console.log(e)})).catch((function(e){p(!1),T.b.error("Akt yangilashda xatolik!"),console.log(e)})):M()({url:"/api/v1/acts",method:"post",data:{act:e,products:w}}).then((function(e){p(!1),e.data.ok?T.b.success("Akt yaratildi!"):T.b.error("Akt yaratishda xatolik!"),console.log(e)})).catch((function(e){p(!1),T.b.error("Akt yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Akt yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"actNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Akt raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Akt raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"actDate",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Akt sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Akt sanasi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(ze,{form:r,docType:"act"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Qe,{form:r,docType:"act"})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Akt mazmuni"}),Object(c.jsx)(de.a.Item,{name:"actText",children:Object(c.jsx)(Ue.a,{size:"large",rows:4})})]}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(g?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=Ce})),_([w[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(F.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(F.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(F.a,{type:"primary",icon:g?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return y(!g)},children:g?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(pe.a,{data:w,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;w[t][c]=Object(S.a)(Object(S.a)({},w[t][c]),{},{value:n}),w[t][5]=Object(S.a)(Object(S.a)({},w[t][5]),{},{value:w[t][3].value&&w[t][4].value?w[t][3].value*w[t][4].value:0})})),_(Object(je.a)(w))}})})}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:w.length},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(w),[e]);_(a)},children:"Qo'shish"}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;w.length>1&&(e=w.length-1,console.log(e),w.splice(e,1),_(Object(je.a)(w)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsx)(b.a,{justify:"space-between",children:Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"notes",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})})})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{loading:x,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{icon:Object(c.jsx)(P.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(de.a.Item,{name:"actId",children:Object(c.jsx)(C.a,{type:"hidden"})},"act-id")]})})})),Xe=oe.a.Option,Qe=function(e){var a=e.form,t=e.docType,i=e.remove,l=e.fieldList,r=Object(re.a)().t,s=Object(n.useState)(!1),o=Object(k.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)([]),m=Object(k.a)(j,2),O=m[0],x=m[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:r("Kontragent ma'lumotlari")}),"contract"===t?Object(c.jsx)(Oe,{form:a,pTin:l?[l.name,"buyerPhysicalTin"]:"buyerPhysicalTin",pName:l?[l.name,"buyerPhysicalFio"]:"buyerPhysicalFio",tinLabel:r("Jis. Shaxs STIR"),nameLabel:r("Jis. Shaxs FIO"),tinCol:11,nameCol:11}):null,Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:"factura"!==t?24:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerTin"]:"buyerTin",rules:[{required:!0}],children:Object(c.jsx)(C.a,{onChange:function(e){console.log(e.target.value),isNaN(e.target.value)?T.b.warning(r("STIR notog'ri kiritildi!")):e.target.value>1e8&&e.target.value<=999999999?M()({url:"info/contragent-by-tin?tin=".concat(e.target.value),method:"GET"}).then((function(e){var c=e.data,n=c.tin,i=c.accountant,r=c.account,s=c.address,o=c.phone,d=c.name,u=c.fullName,j={buyerTin:n,buyerAccountant:i,buyerAccount:r,buyerAddress:s,buyerMobilePhone:o,buyerName:null!==d&&void 0!==d?d:u,buyerMfo:c.mfo,buyerDirector:c.director,buyerDirectorTin:c.directorTin,buyerVatRegCode:c.regCode};if("act"===t&&a.setFieldsValue({actText:Ke(a.getFieldValue("SellerName"),null!==d&&void 0!==d?d:u)}),l){var b,h=a.getFieldValue("contract_partners");h[l.name]=Object(S.a)(Object(S.a)({},h[l.name]),j),x(null!==(b=e.data.branches)&&void 0!==b?b:[]),a.setFieldsValue({contract_partners:Object(je.a)(h)})}else a.setFieldsValue(j)})).catch((function(e){console.log(e)})):a.setFieldsValue({buyerAccountant:null,buyerAccount:null,buyerAddress:null,buyerMobilePhone:null,buyerName:null,buyerMfo:null,buyerDirector:null,buyerVatRegCode:null})},size:"large",placeholder:r("STIR")})},l?"dyna-form-item-inn-Buyer-".concat(l.key):"dyna-form-item-inn-Buyer"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("STIR")})]})}),Object(c.jsxs)(h.a,{md:"factura"!==t?0:11,children:[Object(c.jsx)("h4",{children:r("Bir tomonlama fakturami?")}),Object(c.jsx)(be.a,{onChange:function(e){u(e)},checkedChildren:Object(c.jsx)(he.a,{}),unCheckedChildren:Object(c.jsx)(me.a,{})})]})]}),d?Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:r("Turi")}),Object(c.jsxs)(de.a.Item,{name:l?[l.name,"singleSidedType"]:"singleSidedType",children:[Object(c.jsx)(de.a.Item,{children:Object(c.jsxs)(oe.a,{bordered:!1,size:"large",children:[Object(c.jsx)(Xe,{value:1,children:"\u041d\u0430 \u0444\u0438\u0437. \u043b\u0438\u0446\u043e"}),Object(c.jsx)(Xe,{value:2,children:"\u041d\u0430 \u044d\u043a\u0441\u043f\u043e\u0440\u0442"}),Object(c.jsx)(Xe,{value:3,children:"\u041d\u0430 \u0438\u043c\u043f\u043e\u0440\u0442"}),Object(c.jsx)(Xe,{value:4,children:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u0430\u044f \u0441 \u0433\u043e\u0441. \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u043c"}),Object(c.jsx)(Xe,{value:5,children:"\u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"})]})}),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Kontragent turi")})]},"sigle-sided-factura-type-1")]}):null,d?null:Object(c.jsxs)("div",{children:["contract"==t?null:Object(c.jsx)("h3",{children:r("Hamkor korxonasi")}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerName"]:"buyerName",children:Object(c.jsx)(C.a,{onChange:function(e){a.setFieldsValue({actText:Ke(a.getFieldValue("SellerName"),e.target.value)})},size:"large",placeholder:r("Nomi")})},"buyer-name-1-BuyerName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Nomi")})]}),"act"!==t?Object(c.jsxs)(n.Fragment,{children:["contract"===t||"empowerment"===t?null:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerVatRegCode"]:"buyerVatRegCode",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("QQS tolovchi registratsiya raqami")})},"seler-account-vatreg"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("QQS tolovchi registratsiya raqami")})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerAccount"]:"buyerAccount",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("Hisob raqami")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Hisob raqami")})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerMobilePhone"]:"buyerMobilePhone",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("Telfon raqam")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Telfon raqam")})]}):Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerMfo"]:"buyerMfo",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("MFO")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("MFO")})]})})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:l?[l.name,"buyerAddress"]:"buyerAddress",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("Manzil")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Manzil")})]}),"contract"===t?Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerBranch"]:"buyerBranch",children:Object(c.jsx)(oe.a,{bordered:!1,size:"large",defaultActiveFirstOption:!0,placeholder:"",children:O.map((function(e){return Object(c.jsxs)(Xe,{value:e.tin,children:[e.tin," - ",e.name]})}))})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Filiali")})]})}):null,Object(c.jsxs)(b.a,{justify:"space-between",align:"stretch",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerDirector"]:"buyerDirector",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("Direktor")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Direktor")})]})}),Object(c.jsx)(h.a,{md:11,children:"contract"===t?i&&l?Object(c.jsx)(F.a,{className:"factra-action-btns",style:{width:"100%"},danger:!0,size:"large",onClick:function(){return i(l.name)},children:"Olib tashlash"}):null:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerAccountant"]:"buyerAccountant",children:Object(c.jsx)(C.a,{size:"large",placeholder:r("Bosh hisobchi")})},"seler-account"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Bosh hisobchi")})]})}),"contract"===t?Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(de.a.Item,{name:l?[l.name,"buyerDirectorTin"]:"buyerDirectorTin",children:Object(c.jsx)(C.a,{type:"hidden",size:"large",placeholder:r("Direktor")+" "+r("STIR")})},"seler-account-Buyer-dir-tin")}):null]})]}):null]})]})},He={SUCCESS_LOGIN:"SUCCESS_LOGIN",LOG_OUT:"LOG_OUT",SET_USER_ONLY:"SET_USER_ONLY",SET_CABINET_DATA:"SET_CABINET_DATA",SET_USER_COMPANIES:"SET_USER_COMPANIES",SET_USER_LOCALE:"SET_USER_LOCALE",SET_LOADED_KEY_ID:"SET_LOADED_KEY_ID",SET_KEY_USER:"SET_KEY_USER",SET_IS_AFERTA:"SET_IS_AFERTA",SET_IS_ROUMING:"SET_IS_ROUMING",SET_USER_PRODUCTS:"SET_USER_PRODUCTS"},Je=function(e){return{type:He.SET_LOADED_KEY_ID,payload:e}},We=function(){return{type:He.LOG_OUT}},Ge=function(e){return{type:He.SET_USER_ONLY,payload:e}},$e=function(e){var a=e.value;return Object(c.jsx)("span",{children:a.CatalogName})},Ze=Object(O.b)({user:p}),ea=Object(m.b)(Ze,(function(e){return{loadProducts:function(a){return e(function(e){return{type:He.SET_USER_PRODUCTS,payload:e}}(a))}}}))((function(e){var a=e.token,t=e.loadProducts,i=e.user,l=e.getProducts,r=e.initialValues;Object(n.useEffect)((function(){Array.isArray(r)&&O([m[0]].concat(Object(je.a)(r)))}),[r]),Object(n.useEffect)((function(){var e;M()({url:"classifications/index?tin=".concat(null!==(e=i.tin)&&void 0!==e?e:i.username),method:"get"}).then((function(e){t(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var s=Object(re.a)().t,o=Object(n.useState)(!1),d=Object(k.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)([[{readOnly:!0,value:"",width:50},{value:s("Tovar/xizmat nomi"),readOnly:!0,width:200},{value:s("Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi"),readOnly:!0,width:150},{value:s("Tovar/xizmat shtrix kodi"),readOnly:!0,width:100},{value:s("O'lchov birligi"),readOnly:!0,width:100},{value:s("Miqdori"),readOnly:!0,width:100},{value:s("Narxi"),readOnly:!0,width:100},{value:s("Aksiz soliq (%)"),readOnly:!0,width:100},{value:s("Aksiz soliq, miqdori"),readOnly:!0,width:100},{value:s("Yetkazib berish narxi"),readOnly:!0,width:100},{value:s("QQS (%)"),readOnly:!0,width:100},{value:s("QQS, miqdori"),readOnly:!0,width:100},{value:s("Umumiy summa"),readOnly:!0,width:150}],[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Te,valueViewer:$e},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}]]),h=Object(k.a)(b,2),m=h[0],O=h[1];return Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(u?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if("done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=Ce})),console.log(a)}},children:Object(c.jsx)(F.a,{style:{marginRight:10},children:s("Exceldan yuklash")})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/factura_products.xlsx",download:!0,children:Object(c.jsx)(F.a,{children:s("Shablonni yuklash")})})]}),Object(c.jsx)(F.a,{type:"primary",icon:u?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return j(!u)},children:s(u?"Kichraytirish":"Kengaytirish")})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(pe.a,{data:m,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;m[t][c]=Object(S.a)(Object(S.a)({},m[t][c]),{},{value:n});var i=parseFloat(m[t][5].value)*parseFloat(m[t][6].value),l=parseFloat(i*m[t][7].value/100);m[t][8]={value:isNaN(l)?0:parseFloat(l),readOnly:!0};var r=parseFloat(i*parseFloat(m[t][10].value)/100);m[t][11]={value:isNaN(r)?0:r,readOnly:!0};var s=isNaN(i)?0:i;isNaN(l)?s=s:s+=l,isNaN(r)?s+=0:s+=r,isNaN(m[t][9].value)?s+=0:s+=+m[t][9].value,m[t][12]={value:s,readOnly:!0}})),O(Object(je.a)(m)),m.shift(),l(m)}})})}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:m.length},{value:""},{value:"",dataEditor:Te,valueViewer:$e},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:"",readOnly:!0},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(m),[e]);O(a)},children:s("Qo'shish")}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;m.length>1&&(e=m.length-1,console.log(e),m.splice(e,1),O(Object(je.a)(m)),l(Object(je.a)(m)))},children:s("Oxirgi qatorni o'chirish")})]})})),aa=function e(){Object(ve.a)(this,e),this.OrdNo=1,this.CommittentName=null,this.CommittentTin="",this.CommittentVatRegCode="",this.CatalogCode="",this.CatalogName="",this.Barcode="",this.Name="",this.Serial="",this.MeasureId="",this.BaseSumma="",this.ProfitRate="",this.Count="",this.Summa="",this.DeliverySum="",this.ExciseRate="",this.ExciseSum="",this.VatRate="0",this.VatSum="0",this.DeliverySumWithVat="",this.WithoutVat=!0,this.Marks={ProductType:null,KIZ:[],NomUpak:[],IdentTransUpak:[]}},ta=["OrdNo","Name",["CatalogCode","CatalogName"],"Barcode","MeasureId","Count","BaseSumma","ExciseRate","ExciseSum","DeliverySum","VatRate","VatSum","DeliverySumWithVat"],ca=function e(){Object(ve.a)(this,e),this.Version=1,this.FacturaType=null,this.SingleSidedType=null,this.HasMarking=!0,this.AgreeToFine=!1,this.FacturaId="",this.FacturaDoc={FacturaNo:null,FacturaDate:null},this.OldFacturaDoc={OldFacturaId:null,OldFacturaNo:null,OldFacturaDate:null},this.ContractDoc={ContractNo:null,ContractDate:null},this.FacturaEmpowermentDoc={AgentFacturaId:null,EmpowermentNo:null,EmpowermentDateOfIssue:null,AgentFio:null,AgentTin:null,AgentPinfl:null},this.ItemReleasedDoc={ItemReleasedTin:null,ItemReleasedFio:null,ItemReleasedPinfl:null},this.SellerTin=null,this.BuyerTin=null,this.Seller={Name:null,Account:null,BankId:null,Address:null,Mobile:null,WorkPhone:null,Oked:null,DistrictId:null,Director:null,Accountant:null,VatRegCode:null,BranchCode:null,BranchName:null},this.Buyer={Name:null,Account:"",BankId:"",Address:null,Mobile:null,WorkPhone:null,Oked:"",DistrictId:null,Director:null,Accountant:"",VatRegCode:"",BranchCode:"",BranchName:""},this.ForeignCompany={CountryId:null,Name:null,Address:null,Bank:null,Account:null},this.ProductList=null},na=function(e,a,t){var c=e.agentFio,n=e.agentTin,i=e.buyerAccount,l=e.buyerAccountant,r=e.buyerAddress,s=e.buyerDirector,o=e.buyerMfo,d=e.buyerName,u=e.buyerTin,j=e.buyerVatRegCode,b=e.contractDate,h=e.contractNo,m=e.empowermentDateOfIssue,O=e.empowermentNo,x=e.facturaDate,p=e.facturaNo,v=e.facturaType,f=e.oldFacturaId,g=e.oldFacturaNo,y=e.oldFacturaDate,I=e.sellerAccount,N=e.sellerAccountant,S=e.sellerAddress,k=e.sellerDirector,w=e.sellerMfo,T=e.sellerName,C=e.sellerTin,_=e.sellerVatRegCode,F=e.singleSidedType,E={Name:d,Account:i,BankId:o,Address:r,Mobile:"",WorkPhone:"",Oked:"",DistrictId:"",Director:s,Accountant:l,VatRegCode:j,BranchCode:"",BranchName:""},z={Name:T,Account:I,BankId:w,Address:S,Mobile:"",WorkPhone:"",Oked:"",DistrictId:"",Director:k,Accountant:N,VatRegCode:_,BranchCode:"",BranchName:""},D=new ca;return D.OldFacturaDoc={OldFacturaDate:y,OldFacturaId:f,OldFacturaNo:g},D.SingleSidedType=F,D.FacturaProductId=t,D.FacturaId=t,D.FacturaType=v,D.FacturaDoc={FacturaDate:x,FacturaNo:p},D.Seller=z,D.Buyer=E,D.BuyerTin=u,D.SellerTin=C,D.ContractDoc={ContractDate:b,ContractNo:h},D.FacturaEmpowermentDoc={EmpowermentDateOfIssue:m,EmpowermentNo:O,AgentFio:c,AgentTin:n},D.ProductList=a,console.log(a),D};String.prototype.splitKeep=function(e,a){var t=this,c=[];if(""!=e){for(var n=[],i=(t[e instanceof RegExp?"replace":"replaceAll"](e,(function(e,a,t){return n.push({value:e,index:a}),function(e){for(var a="0"==e[0]?"1":"0",t="",c=0;c<e.length;c++)t+=a;return t}(e)})),0),l=0;l<n.length;l++){var r=n[l],s=1==a?r.index:r.index+r.value.length;if(s!=i){var o=t.substring(i,s);c.push(o),i=s}}if(i<t.length){o=t.substring(i,t.length);c.push(o)}}else c.add(t);return c};var ia={URL:("https:"===window.location.protocol.toLowerCase()?"wss://127.0.0.1:64443":"ws://127.0.0.1:64646")+"/service/cryptapi",callFunction:function(e,a,t){if(window.WebSocket){var c;try{c=new WebSocket(this.URL)}catch(n){t(n)}c.onerror=function(e){t&&t(e)},c.onmessage=function(e){var t=JSON.parse(e.data);c.close(),a(e,t)},c.onopen=function(){c.send(JSON.stringify(e))}}else t&&t()},version:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(c){a(c)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var c=JSON.parse(a.data);t.close(),e(a,c)},t.onopen=function(){t.send(JSON.stringify({name:"version"}))}}else a&&a()},apidoc:function(e,a){if(window.WebSocket){var t;try{t=new WebSocket(this.URL)}catch(c){a(c)}t.onerror=function(e){a&&a(e)},t.onmessage=function(a){var c=JSON.parse(a.data);t.close(),e(a,c)},t.onopen=function(){t.send(JSON.stringify({name:"apidoc"}))}}else a&&a()},apikey:function(e,a,t){if(window.WebSocket){var c;try{c=new WebSocket(this.URL)}catch(n){t(n)}c.onerror=function(e){t&&t(e)},c.onmessage=function(e){var t=JSON.parse(e.data);c.close(),a(e,t)},c.onopen=function(){var a={name:"apikey",arguments:e};c.send(JSON.stringify(a))}}else t&&t()}},la={NEW_API:!1,API_KEYS:["cabinet.onlinefactura.uz","F09A2CBE8EA25A5C065AF78D32F517B1DCF12E997575556CBD90B405A90420E6EB538FCCFFCBAA22C5D191CAB3803965621B023E8642F77F35DDA072FBA17914"],checkVersion:function(e,a){ia.version((function(t,c){if(!0===c.success)if(c.major&&c.minor){var n=100*parseInt(c.major)+parseInt(c.minor);la.NEW_API=n>=336,e(c.major,c.minor)}else a(null,"E-IMZO Version is undefined");else a(null,c.reason)}),(function(e){a(e,null)}))},installApiKeys:function(e,a){ia.apikey(la.API_KEYS,(function(t,c){c.success?e():a(null,c.reason)}),(function(e){a(e,null)}))},listAllUserKeys:function(e,a,t,c){var n=[],i=[];la.NEW_API?la._findCertKeys2(e,a,n,i,(function(l){la._findPfxs2(e,a,n,i,(function(r){la._findTokens2(e,a,n,i,(function(e){if(0===n.length&&i.length>0)c(i[0].e,i[0].r);else{var a=null;1===n.length&&(l?a=l:r?a=r:e&&(a=e)),t(n,a)}}))}))})):la._findCertKeys(e,a,n,i,(function(l){la._findPfxs(e,a,n,i,(function(e){if(0===n.length&&i.length>0)c(i[0].e,i[0].r);else{var a=null;1===n.length&&(l?a=l:e&&(a=e)),t(n,a)}}))}))},loadKey:function(e,a,t,c){if(e){var n=e;"certkey"===n.type?ia.callFunction({plugin:"certkey",name:"load_key",arguments:[n.disk,n.path,n.name,n.serialNumber]},(function(e,c){if(c.success){var n=c.keyId;a(n)}else t(null,c.reason)}),(function(e){t(e,null)})):"pfx"===n.type?ia.callFunction({plugin:"pfx",name:"load_key",arguments:[n.disk,n.path,n.name,n.alias]},(function(e,n){if(n.success){var i=n.keyId;c?ia.callFunction({name:"verify_password",plugin:"pfx",arguments:[i]},(function(e,c){c.success?a(i):t(null,c.reason)}),(function(e){t(e,null)})):a(i)}else t(null,n.reason)}),(function(e){t(e,null)})):"ftjc"===n.type&&ia.callFunction({plugin:"ftjc",name:"load_key",arguments:[n.cardUID]},(function(e,n){if(n.success){var i=n.keyId;c?ia.callFunction({plugin:"ftjc",name:"verify_pin",arguments:[i,"1"]},(function(e,c){c.success?a(i):t(null,c.reason)}),(function(e){t(e,null)})):a(i)}else t(null,n.reason)}),(function(e){t(e,null)}))}},changeKeyPassword:function(e,a,t){if(e){var c=e;"pfx"===c.type?ia.callFunction({plugin:"pfx",name:"load_key",arguments:[c.disk,c.path,c.name,c.alias]},(function(e,c){if(c.success){var n=c.keyId;ia.callFunction({name:"change_password",plugin:"pfx",arguments:[n]},(function(e,c){c.success?a():t(null,c.reason)}),(function(e){t(e,null)}))}else t(null,c.reason)}),(function(e){t(e,null)})):"ftjc"===c.type&&ia.callFunction({plugin:"ftjc",name:"load_key",arguments:[c.cardUID]},(function(e,c){if(c.success){var n=c.keyId;ia.callFunction({name:"change_pin",plugin:"ftjc",arguments:[n,"1"]},(function(e,c){c.success?a():t(null,c.reason)}),(function(e){t(e,null)}))}else t(null,c.reason)}),(function(e){t(e,null)}))}},createPkcs7:function(e,a,t,c,n){ia.callFunction({plugin:"pkcs7",name:"create_pkcs7",arguments:[btoa(unescape(encodeURIComponent(a))),e,"no"]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){ia.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;c(t)}else n(null,a.reason)}),(function(e){n(e,null)}))}),n)}else c(i)}else n(null,a.reason)}),(function(e){n(e,null)}))},appendPkcs7Attached:function(e,a,t,c,n){ia.callFunction({plugin:"pkcs7",name:"append_pkcs7_attached",arguments:[a,e]},(function(e,a){if(a.success){var i=a.pkcs7_64;if(t){var l=a.signer_serial_number;t(a.signature_hex,(function(e){ia.callFunction({plugin:"pkcs7",name:"attach_timestamp_token_pkcs7",arguments:[i,l,e]},(function(e,a){if(a.success){var t=a.pkcs7_64;c(t)}else n(null,a.reason)}),(function(e){n(e,null)}))}),n)}else c(i)}else n(null,a.reason)}),(function(e){n(e,null)}))},_getX500Val:function(e,a){var t=e.splitKeep(/,[A-Z]+=/g,!0);for(var c in t){var n=t[c].search((c>0?",":"")+a+"=");if(-1!==n)return t[c].slice(n+a.length+1+(c>0?1:0))}return""},_findCertKeyCertificates:function(e,a,t,c,n,i,l,r){parseInt(i)+1>n.length?r(l):ia.callFunction({plugin:"certkey",name:"list_certificates",arguments:[n[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j={disk:u.disk,path:u.path,name:u.name,serialNumber:u.serialNumber,subjectName:u.subjectName,validFrom:new Date(u.validFrom),validTo:new Date(u.validTo),issuerName:u.issuerName,publicKeyAlgName:u.publicKeyAlgName,CN:la._getX500Val(u.subjectName,"CN"),TIN:la._getX500Val(u.subjectName,"INITIALS"),O:la._getX500Val(u.subjectName,"O"),T:la._getX500Val(u.subjectName,"T"),type:"certkey"};if(j.TIN){var b=e(j,d);0===l.length&&l.push(b);var h=a(b,j);t.push(h)}}else c.push({r:o.reason});la._findCertKeyCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}),(function(s){c.push({e:s}),la._findCertKeyCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}))},_findCertKeys:function(e,a,t,c,n){var i=[];ia.callFunction({plugin:"certkey",name:"list_disks"},(function(l,r){if(r.success){for(var s in r.disks)if(i.push(r.disks[s]),parseInt(s)+1>=r.disks.length){la._findCertKeyCertificates(e,a,t,c,i,0,[],(function(e){n(e[0])}))}}else c.push({r:r.reason})}),(function(e){c.push({e:e}),n()}))},_findPfxCertificates:function(e,a,t,c,n,i,l,r){parseInt(i)+1>n.length?r(l):ia.callFunction({plugin:"pfx",name:"list_certificates",arguments:[n[i]]},(function(s,o){if(o.success)for(var d in o.certificates){var u=o.certificates[d],j=u.alias.toUpperCase();j=(j=j.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var b={disk:u.disk,path:u.path,name:u.name,alias:u.alias,serialNumber:la._getX500Val(j,"SERIALNUMBER"),validFrom:new Date(la._getX500Val(j,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(la._getX500Val(j,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:la._getX500Val(j,"CN"),TIN:la._getX500Val(j,"INN")?la._getX500Val(j,"INN"):la._getX500Val(j,"UID"),UID:la._getX500Val(j,"UID"),O:la._getX500Val(j,"O"),T:la._getX500Val(j,"T"),type:"pfx"};if(b.TIN){var h=e(b,d);0===l.length&&l.push(h);var m=a(h,b);t.push(m)}}else c.push({r:o.reason});la._findPfxCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}),(function(s){c.push({e:s}),la._findPfxCertificates(e,a,t,c,n,parseInt(i)+1,l,r)}))},_findPfxs:function(e,a,t,c,n){var i=[];ia.callFunction({plugin:"pfx",name:"list_disks"},(function(l,r){if(r.success){var s=r.disks;for(var o in s)if(i.push(r.disks[o]),parseInt(o)+1>=r.disks.length){la._findPfxCertificates(e,a,t,c,i,0,[],(function(e){n(e[0])}))}}else c.push({r:r.reason})}),(function(e){c.push({e:e}),n()}))},_findCertKeys2:function(e,a,t,c,n){var i;ia.callFunction({plugin:"certkey",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d={disk:o.disk,path:o.path,name:o.name,serialNumber:o.serialNumber,subjectName:o.subjectName,validFrom:new Date(o.validFrom),validTo:new Date(o.validTo),issuerName:o.issuerName,publicKeyAlgName:o.publicKeyAlgName,CN:la._getX500Val(o.subjectName,"CN"),TIN:la._getX500Val(o.subjectName,"INITIALS"),O:la._getX500Val(o.subjectName,"O"),T:la._getX500Val(o.subjectName,"T"),type:"certkey"};if(d.TIN){var u=e(d,s);i||(i=u);var j=a(u,d);t.push(j)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))},_findPfxs2:function(e,a,t,c,n){var i;ia.callFunction({plugin:"pfx",name:"list_all_certificates"},(function(l,r){if(r.success)for(var s in r.certificates){var o=r.certificates[s],d=o.alias.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={disk:o.disk,path:o.path,name:o.name,alias:o.alias,serialNumber:la._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(la._getX500Val(d,"VALIDFROM").replace(/\./g,"-").replace(" ","T")),validTo:new Date(la._getX500Val(d,"VALIDTO").replace(/\./g,"-").replace(" ","T")),CN:la._getX500Val(d,"CN"),TIN:la._getX500Val(d,"INN")?la._getX500Val(d,"INN"):la._getX500Val(d,"UID"),UID:la._getX500Val(d,"UID"),O:la._getX500Val(d,"O"),T:la._getX500Val(d,"T"),type:"pfx"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))},_findTokens2:function(e,a,t,c,n){var i;ia.callFunction({plugin:"ftjc",name:"list_all_keys",arguments:[""]},(function(l,r){if(r.success)for(var s in r.tokens){var o=r.tokens[s],d=o.info.toUpperCase();d=(d=d.replace("1.2.860.3.16.1.1=","INN=")).replace("1.2.860.3.16.1.2=","PINFL=");var u={cardUID:o.cardUID,statusInfo:o.statusInfo,ownerName:o.ownerName,info:o.info,serialNumber:la._getX500Val(d,"SERIALNUMBER"),validFrom:new Date(la._getX500Val(d,"VALIDFROM")),validTo:new Date(la._getX500Val(d,"VALIDTO")),CN:la._getX500Val(d,"CN"),TIN:la._getX500Val(d,"INN")?la._getX500Val(d,"INN"):la._getX500Val(d,"UID"),UID:la._getX500Val(d,"UID"),O:la._getX500Val(d,"O"),T:la._getX500Val(d,"T"),type:"ftjc"};if(u.TIN){var j=e(u,s);i||(i=j);var b=a(j,u);t.push(b)}}else c.push({r:r.reason});n(i)}),(function(e){c.push({e:e}),n(i)}))}},ra=oe.a.Option,sa=Object(O.b)({token:v,user:p,loadedKey:g}),oa=Object(m.b)(sa,(function(e){return{setTimer:function(a){return e(Je(a))}}}))((function(e){var a=e.match,t=e.user,i=e.loadedKey,l=e.setTimer,r=Object(re.a)(),s=r.t,o=(r.i18n,de.a.useForm()),d=Object(k.a)(o,1)[0],u=a.params.facturaId,j=Object(n.useState)(),m=Object(k.a)(j,2),O=m[0],x=m[1],p=Object(n.useState)({facturaType:0}),v=Object(k.a)(p,2),f=v[0],g=v[1],y=Object(n.useState)(),I=Object(k.a)(y,2),N=I[0],S=I[1],w=Object(n.useState)(!1),_=Object(k.a)(w,2),E=_[0],z=_[1],D=Object(n.useState)(),A=Object(k.a)(D,2),q=A[0],R=A[1],V=Object(n.useState)(),B=Object(k.a)(V,2),K=B[0],L=B[1];Object(n.useEffect)((function(){var e;u?(x(u),M()({url:"facturas/view?FacturaId=".concat(u,"&tin=").concat(null!==(e=t.tin)&&void 0!==e?e:t.username),method:"GET"}).then((function(e){var a,t=function(e){var a=e.Buyer,t=e.Seller,c=e.ContractDoc,n=e.FacturaDoc,i=e.FacturaEmpowermentDoc,l=(e.FacturaId,e.FacturaProductId,e.ForeignCompany,e.BuyerTin),r=e.SellerTin,s=(e.ProductList,e.FacturaType),o=e.OldFacturaDoc,d=e.SingleSidedType;return{agentFio:i.AgentFio,agentTin:i.AgentTin,buyerAccount:a.Account,buyerAccountant:a.Accountant,buyerAddress:a.Address,buyerDirector:a.Director,buyerMfo:a.BankId,buyerName:a.Name,buyerTin:l,buyerVatRegCode:a.VatRegCode,contractDate:c.ContractDate,contractNo:c.ContractNo,empowermentDateOfIssue:i.EmpowermentDateOfIssue,empowermentNo:i.EmpowermentNo,facturaDate:n.FacturaDate,facturaNo:n.FacturaNo,facturaType:s,oldFacturaId:o.OldFacturaId,oldFacturaNo:o.OldFacturaNo,oldFacturaDate:o.OldFacturaDate,sellerAccount:t.Account,sellerAccountant:t.Accountant,sellerAddress:t.Address,sellerDirector:t.Director,sellerMfo:t.BankId,sellerName:t.Name,sellerTin:r,sellerVatRegCode:t.VatRegCode,singleSidedType:d}}(e.data.data[0]);t.contractDate=U()(t.contractDate),t.created_at=U()(t.created_at),t.facturaDate=U()(t.facturaDate),t.empowermentDateOfIssue=U()(t.empowermentDateOfIssue),t.oldFacturaDate=U()(t.oldFacturaDate),t.updated_at=U()(t.updated_at),console.log(t),g(t),L(function(e){return e.map((function(e){return[{readOnly:!0,value:e.OrdNo},{value:e.Name},{value:{classCode:e.CatalogCode,className:e.CatalogName},dataEditor:Te,valueViewer:$e},{value:e.Barcode},{value:e.MeasureId,dataEditor:Ce},{value:e.Count},{value:e.BaseSumma},{value:e.ExciseRate},{value:e.ExciseSum,readOnly:!0},{value:e.DeliverySum},{value:e.VatRate},{value:e.VatSum,readOnly:!0},{value:e.DeliverySumWithVat,readOnly:!0}]}))}(null===(a=e.data.data[0])||void 0===a?void 0:a.ProductList.Products)),d.resetFields()})).catch((function(e){console.log(e)}))):M()({url:"info/get-guid",method:"get"}).then((function(e){e.data.success&&x(e.data.data)})).catch((function(e){console.log(e)}))}),[]);var Y={required:s("Bu maydon majburiy!"),types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},X=0,Q=1,H=2,J=3,W=4,G=function(e){z(!0),u?M()({url:"/api/v1/facturas/".concat(u),method:"PATCH",data:{factura:e}}).then((function(e){e.data.success?T.b.success(s("Faktura o'zgartirildi!")):T.b.error(s("Faktura o'zgartirishda xatolik!")),console.log(e),z(!1)})).catch((function(e){T.b.error(s("Faktura o'zgartirishda xatolik!")),console.log(e),z(!1)})):M()({url:"facturas/create",method:"post",data:na(e,q,O)}).then((function(e){e.data.success?T.b.success(s("Faktura yaratili!")):T.b.error(s("Faktura yaratishda xatolik!")),console.log(e),z(!1)})).catch((function(e){console.log(e),T.b.error(s("Faktura yaratishda xatolik!")),z(!1)}))};return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(de.a,{initialValues:f,form:d,name:"factura",onFinish:G,scrollToFirstError:!0,validateMessages:Y,children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:s("Hujjat turi")}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"facturaType",children:Object(c.jsxs)(oe.a,{onChange:S,bordered:!1,size:"large",placeholder:"Faktura turi",children:[Object(c.jsx)(ra,{value:X,children:s("Standard")}),Object(c.jsx)(ra,{value:Q,children:s("Qo'shimcha")}),Object(c.jsx)(ra,{value:H,children:s("Harajatni qoplash")}),Object(c.jsx)(ra,{value:J,children:s("To'lovsiz")}),Object(c.jsx)(ra,{value:W,children:s("Tuzatuvchi")})]})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Faktura turi")})]})}),Object(c.jsx)(h.a,{md:N===Q||N===W?11:0,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"oldFacturaId",children:Object(c.jsx)(C.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura ID"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Eski faktura ID")})]})}),Object(c.jsx)(h.a,{md:N===Q||N===W?11:0,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"oldFacturaNo",children:Object(c.jsx)(C.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura No"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Eski faktura No")})]})}),Object(c.jsx)(h.a,{md:N===Q||N===W?11:0,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"oldFacturaDate",children:Object(c.jsx)(ue.a,{rules:[{required:!0}],size:"large",placeholder:"Eski faktura Sanasi"})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Eski faktura Sanasi")})]})})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"facturaNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:s("Faktura raqami")})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Faktura raqami")})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"facturaDate",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:s("Faktura sanasi")})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Faktura sanasi")})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:s("Shartnoma raqami")})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Shartnoma raqami")})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(ue.a,{size:"large",placeholder:s("Shartnoma sanasi")})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Shartnoma sanasi")})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(ze,{form:d})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Qe,{form:d,docType:"factura"})})]})}),Object(c.jsx)(ea,{initialValues:K,getProducts:function(e){var a;R(function(e,a,t){var c=[],n=!1,i=!1;Array.isArray(e)&&e.forEach((function(e){var a=new aa;ta.forEach((function(t,c){Array.isArray(t)?t.forEach((function(t){a[t]=e[c].value[t]})):a[t]=e[c].value})),a.VatRate>0&&(n=!0),a.ExciseRate>0&&(i=!0),c.push(a)}));return{FacturaId:t,Tin:a,HasCommittent:!1,HasVat:n,HasMedical:!1,HasExcise:i,Products:c}}(e,null!==(a=t.tin)&&void 0!==a?a:t.username,O))},form:d}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:5,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"empowermentNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:s("Ishonchnoma raqami")})},"empowerment-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Ishonchnoma raqami")})]})}),Object(c.jsx)(h.a,{md:5,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"empowermentDateOfIssue",children:Object(c.jsx)(ue.a,{size:"large",placeholder:s("Ishonchnoma sanasi")})},"seler-account-empowerment-dateof-issue"),Object(c.jsx)("span",{className:"custom-input-label-1",children:s("Ishonchnoma sanasi")})]})}),Object(c.jsx)(h.a,{md:12,children:Object(c.jsx)(Oe,{pName:"agentFio",pTin:"agentTin",nameLabel:s("Ma'sul shaxs FIO"),tinLabel:s("STIR"),tinCol:11,nameCol:11,form:d})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{loading:E,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:s("Saqlash")})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{loading:E,className:"factra-action-btns sing-btn",size:"large",onClick:function(){z(!0);var e=d.getFieldsValue();console.log(JSON.stringify(na(e,q,O))),la.createPkcs7(i.id,JSON.stringify(na(e,q,O)),null,(function(a){var c;console.log(JSON.stringify(na(e,q,O))),console.log(a),M()({url:"facturas/send?tin=".concat(null!==(c=t.tin)&&void 0!==c?c:t.username),method:"post",data:{Sign:a}}).then((function(a){a.data.success?(T.b.success(s("Faktura muaffaqiyatli imzolandi!")),u||G(e)):T.b.error(s("Faktura imzolashda xatolik!")),z(!1)})).catch((function(e){console.log(e),T.b.error(s("Faktura imzolashda xatolik!")),z(!1)}))}),(function(e,a){console.log("e",e,"r",a),z(!1)})),l({id:i.id,time:Date.now()})},icon:Object(c.jsx)(P.a,{icon:"signature",className:"factura-action-btn-icons"}),children:s("Imzolash")})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{icon:Object(c.jsx)(P.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:s("Bekor qilish")})})]})})]})})})),da=t(312),ua=t.n(da),ja=t(180),ba=(t(577),t(578)),ha=Object(O.b)({user:p}),ma=Object(m.b)(ha)((function(e){var a=e.match,t=e.user,l=i.a.createRef(),r=Object(n.useState)(),s=Object(k.a)(r,2),o=s[0],d=s[1],u=Object(n.useState)(!0),j=Object(k.a)(u,2),b=j[0],h=j[1],m=a.params.facturaId,O=Object(re.a)().t;return Object(n.useEffect)((function(){var e;h(!1),M()({url:"facturas/view?FacturaId=".concat(m,"&tin=").concat(null!==(e=t.tin)&&void 0!==e?e:t.username),method:"get"}).then((function(e){e.data.success&&(d(e.data.data[0]),console.log(e.data.data[0])),h(!1)})).catch((function(e){console.log(e),h(!1)}))}),[m,t]),Object(c.jsx)(ja.a,{spinning:b,children:Object(c.jsxs)("div",{className:"custom-section-wrapper",children:[Object(c.jsx)(ua.a,{options:{orientation:"landscape"},targetRef:l,filename:"factura-".concat(null===o||void 0===o?void 0:o.FacturaId,".pdf"),children:function(e){var a=e.toPdf;return Object(c.jsx)(F.a,{onClick:a,children:O("Chop etish")})}}),Object(c.jsxs)("div",{className:"factura-view-page-pdf-container",ref:l,children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"ID:"})," ",null===o||void 0===o?void 0:o.FacturaId]}),(null===o||void 0===o?void 0:o.OldFacturaDoc.OldFacturaId)?Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Eski faktura"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"ID:"})," ",null===o||void 0===o?void 0:o.OldFacturaDoc.OldFacturaId]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"\u2116:"})," ",null===o||void 0===o?void 0:o.OldFacturaDoc.OldFacturaNo]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Sana:"}),U()(null===o||void 0===o?void 0:o.OldFacturaDoc.OldFacturaDate).format("MMMM Do YYYY")]})]}):""]}),Object(c.jsxs)("div",{style:{width:300,textAlign:"center"},children:[Object(c.jsx)("h4",{children:O("ContractDate dagi ContractNo sonli shartnomaga FacturaDate dagi FacturaNo sonli",{FacturaDate:U()(null===o||void 0===o?void 0:o.FacturaDoc.FacturaDate).format("MMMM Do YYYY"),FacturaNo:null===o||void 0===o?void 0:o.FacturaDoc.FacturaNo,ContractDate:U()(null===o||void 0===o?void 0:o.ContractDoc.ContractDate).format("MMMM Do YYYY"),ContractNo:null===o||void 0===o?void 0:o.ContractDoc.ContractNo})}),Object(c.jsx)("h2",{style:{textTransform:"uppercase",fontWeight:"bold"},children:O("Faktura")})]}),Object(c.jsx)("div",{children:Object(c.jsx)(ba,{value:JSON.stringify({ID:null===o||void 0===o?void 0:o.FacturaId,Doc:"Faktura"})})})]}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{children:Object(c.jsxs)("table",{cellPadding:10,children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Yetkazib beruvchi:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.Name})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Manzil:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.Address})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"STIR:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.SellerTin})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"QQS royhatdan o'tish kodi:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.VatRegCode})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Bank hisobvarg'i:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.Account})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"MFO:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.BankId})]})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("table",{cellPadding:10,children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Oluvchi beruvchi:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.Name})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Manzil:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.Address})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"STIR:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.BuyerTin})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"QQS royhatdan o'tish kodi:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.VatRegCode})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Bank hisobvarg'i:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.Account})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"MFO:"})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.BankId})]})]})})]}),Object(c.jsx)("div",{style:{marginTop:40},children:Object(c.jsxs)("table",{cellPadding:10,className:"product-table",children:[Object(c.jsx)("thead",{style:{fontSize:10,textAlign:"center"},className:"product-table-head",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"\u2116"}),Object(c.jsx)("th",{children:"Tovar/xizmat nomi"}),Object(c.jsx)("th",{children:"Tovar/xizmatlar yagona elektron milliy katalog identifikatsiya kodi"}),Object(c.jsx)("th",{children:"O'lchov birligi"}),Object(c.jsx)("th",{children:"Miqdori"}),Object(c.jsx)("th",{children:"Narxi"}),(null===o||void 0===o?void 0:o.ProductList.HasExcise)?Object(c.jsx)("th",{children:"Aksiz soliq (%)"}):null,(null===o||void 0===o?void 0:o.ProductList.HasExcise)?Object(c.jsx)("th",{children:"Aksiz soliq, miqdori"}):null,Object(c.jsx)("th",{children:"Yetkazib berish narxi"}),(null===o||void 0===o?void 0:o.ProductList.HasVat)?Object(c.jsx)("th",{children:"QQS (%)"}):null,(null===o||void 0===o?void 0:o.ProductList.HasVat)?Object(c.jsx)("th",{children:"QQS, miqdori"}):null,Object(c.jsx)("th",{children:"Umumiy summa"})]})}),Object(c.jsx)("tbody",{className:"product-list-body",children:null===o||void 0===o?void 0:o.ProductList.Products.map((function(e){var a;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{align:"center",children:e.OrdNo}),Object(c.jsx)("td",{children:e.Name}),Object(c.jsxs)("td",{children:[e.CatalogCode," - ",e.CatalogName]}),Object(c.jsx)("td",{children:null===(a=_e[e.MeasureId])||void 0===a?void 0:a.label}),Object(c.jsx)("td",{align:"right",children:e.Count}),Object(c.jsx)("td",{align:"right",children:e.BaseSumma}),Object(c.jsx)("td",{align:"right",children:e.ExciseRate}),Object(c.jsx)("td",{align:"right",children:e.ExciseSum}),Object(c.jsx)("td",{align:"right",children:e.DeliverySum}),Object(c.jsx)("td",{align:"right",children:e.VatRate}),Object(c.jsx)("td",{align:"right",children:e.VatSum}),Object(c.jsx)("td",{align:"right",children:e.DeliverySumWithVat})]})}))})]})}),Object(c.jsxs)("div",{style:{marginTop:30,display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{children:Object(c.jsxs)("table",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Raxbar: "})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.Director})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Bosh buxgalter: "})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Seller.Accountant})]})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("table",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Raxbar: "})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.Director})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:"Bosh buxgalter: "})}),Object(c.jsx)("td",{children:null===o||void 0===o?void 0:o.Buyer.Accountant})]})]})})]}),Object(c.jsx)("div",{style:{marginTop:200}})]})]})})})),Oa=Object(O.b)({user:p}),xa=Object(m.b)(Oa)((function(e){var a=e.match,t=e.user;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){var e;return Object(c.jsx)(se,{addParams:[{name:"tin",value:null!==(e=t.tin)&&void 0!==e?e:t.username}]})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:oa}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:facturaId"),component:ma}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:facturaId"),component:oa})]})})),pa=t(617),va=t(618),fa=t(331),ga=t(620),ya=(t(584),"http://api.onlinefactura.uz/uz"),Ia={providerTin:"306717486",providerName:"\u041e\u041e\u041e Lanbir servis",systemName:"OnlineFactura.Uz",enabled:!0},Na={1:{color:"#00FF00",text:"Uncha muxim emas"},2:{color:"#7FFF00",text:"Muxim emas"},3:{color:"#FFAF00",text:"Muxim"},4:{color:"#FF6900",text:"Muximroq"},5:{color:"#FF0000",text:"O'ta muxim"}},Sa=t(150),ka=Object(O.b)({user:p,loadedKey:g}),wa=Object(m.b)(ka,(function(e){return{signOut:function(){return e(We())}}}))((function(e){var a=e.user,t=e.signOut,i=e.loadedKey,l=Object(re.a)().t,r=Object(n.useState)(""),s=Object(k.a)(r,2),o=s[0],d=s[1],u=Object(n.useState)(!(null===a||void 0===a?void 0:a.is_aferta)),j=Object(k.a)(u,2),b=j[0],h=j[1],m=Object(n.useState)(!0),O=Object(k.a)(m,2),x=O[0],p=O[1];Object(n.useEffect)((function(){M()({url:"info/get-aferta",method:"get"}).then((function(e){e.data.success&&d(e.data.data)})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{children:Object(c.jsxs)(va.a,{keyboard:!1,closable:!1,onCancel:function(){h(!1),t()},onOk:function(){h(!1),la.createPkcs7(i.id,o,null,(function(e){var t,c;console.log(JSON.stringify({tin:null!==(t=a.tin)&&void 0!==t?t:a.username,pkcs7:e})),M()({url:"user/set-aferta",method:"post",data:{tin:null!==(c=a.tin)&&void 0!==c?c:a.username,pkcs7:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),(function(e,a){Object(T.b)(a)}),(function(e,a){Object(T.b)(a)}))},visible:b,okButtonProps:{disabled:x},title:l("Afertaga rozimisiz?"),maskClosable:!1,children:[Object(c.jsx)("div",{style:{top:0,width:"100%",bottom:20,height:"60vh",overflowY:"scroll"},children:null!==o&&void 0!==o?o:Object(c.jsx)(ja.a,{})}),Object(c.jsx)("br",{}),Object(c.jsx)(Sa.a,{onChange:function(e){e.target.checked?p(!1):p(!0)}}),Object(c.jsx)("span",{style:{marginLeft:20},children:l("Roziman.")})]})})})),Ta=Object(O.b)({user:p,loadedKey:g}),Ca=Object(m.b)(Ta,(function(e){return{signOut:function(){return e(We())}}}))((function(e){var a=e.user,t=(e.signOut,e.loadedKey),i=Object(re.a)().t,l=Object(n.useState)(!(null===a||void 0===a?void 0:a.is_online)),r=Object(k.a)(l,2),s=r[0],o=r[1],d=Object(n.useState)(!0),u=Object(k.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(),m=Object(k.a)(h,2),O=m[0],x=m[1];Object(n.useEffect)((function(){var e;M()({url:"info/get-bind-provider?tin=".concat(null!==(e=a.tin)&&void 0!==e?e:a.username),method:"get"}).then((function(e){x(JSON.stringify({providers:[].concat(Object(je.a)(e.data.providers),[Ia])}))})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{children:Object(c.jsxs)(va.a,{keyboard:!1,closable:!1,onCancel:function(){o(!1)},onOk:function(){o(!1),la.createPkcs7(t.id,O,null,(function(e){var t;M()({url:"user/bind-provider",method:"post",data:{tin:null!==(t=a.tin)&&void 0!==t?t:a.username,sign:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),(function(e,a){Object(T.b)(a)}),(function(e,a){Object(T.b)(a)}))},visible:s,okButtonProps:{disabled:j},zIndex:999,title:i("Roumingga operatori sifatida qo'shing?"),maskClosable:!1,children:[Object(c.jsx)("div",{style:{top:0,width:"100%",bottom:20,height:"40vh"},children:i("Bini rouming operatoringiz sifatida ornating.")}),Object(c.jsx)("br",{}),Object(c.jsx)(Sa.a,{onChange:function(e){e.target.checked?b(!1):b(!0)}}),Object(c.jsx)("span",{style:{marginLeft:20},children:i("Roziman.")})]})})})),_a=pa.a.Countdown,Fa=Object(O.b)({loadedKey:g}),Ea=Object(m.b)(Fa,(function(e){return{setData:function(a){return e(function(e){return{type:He.SET_CABINET_DATA,payload:e}}(a))},uOut:function(){return e(We())}}}))(Object(s.g)((function(e){var a=e.location,t=e.admin,i=e.setData,l=e.loadedKey,r=e.uOut,s=Object(re.a)().t,o=Object(n.useState)({}),d=Object(k.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)([]),h=Object(k.a)(b,2),m=h[0],O=h[1],x=Object(n.useState)(!1),p=Object(k.a)(x,2),v=p[0],f=p[1],g=Object(n.useState)({factura_awaiting:0,contract_awaiting:0,act_awaiting:0,emp_awating:0,tty_awaiting:0}),y=Object(k.a)(g,2),I=y[0],N=y[1];Object(n.useEffect)((function(){j({cabinet:"/cabinet"===a.pathname,factura:a.pathname.includes("/factura"),contract:a.pathname.includes("/contract"),empowerment:a.pathname.includes("/empowerment"),act:a.pathname.includes("/act"),tty:a.pathname.includes("/tty"),freeDoc:a.pathname.includes("/free-template"),notification:a.pathname.includes("/notification")})}),[a.pathname]);var S=function(){f(!1)};return Object(n.useEffect)((function(){M()({method:"GET",url:"/api/v1/cabinet"}).then((function(e){var a=e.data.notifications;i(e.data),O(a),Array.isArray(a)&&a.length&&f(!0),N(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"cabiner-right-sidebar-cmain-container",children:[Object(c.jsx)(wa,{}),Object(c.jsx)(Ca,{}),Object(c.jsx)(va.a,{bodyStyle:{width:"70wv"},title:"Notifications",visible:v,onOk:S,onCancel:S,cancelButtonProps:{style:{display:"none"}},children:m.map((function(e,a){return Object(c.jsxs)("div",{style:{marginBottom:30},children:[Object(c.jsxs)("h3",{children:[a+1,". ",e.title_uz]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(fa.a,{style:{marginRight:10},color:Na[e.importance].color,children:Na[e.importance].text}),U()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(c.jsx)("div",{children:e.body_uz}),Object(c.jsx)("hr",{})]})}))}),Object(c.jsx)("div",{className:"cabiner-right-sidebar-sub-container",children:Object(c.jsxs)("div",{className:"cabinet-documents-action-containers-bloks",children:[Object(c.jsx)(R.b,{to:"/cabinet",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.cabinet?"active":""),children:[Object(c.jsx)(P.a,{icon:"home"})," ",s("Bosh sahifa")]})}),Object(c.jsx)(R.b,{to:"/cabinet/factura",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.factura?"active":""),children:[Object(c.jsx)(P.a,{icon:"file-invoice",className:"action-icon"})," ",s("Faktura"),Object(c.jsx)(ga.a,{style:{marginLeft:10},count:I.factura_awaiting})]})}),Object(c.jsx)(R.b,{to:"/cabinet/contract",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.contract?"active":""),children:[Object(c.jsx)(P.a,{icon:"file-contract",className:"action-icon"})," ",s("Shartnoma"),Object(c.jsx)(ga.a,{style:{marginLeft:10},count:I.contract_awaiting})]})}),Object(c.jsx)(R.b,{to:"/cabinet/act",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.act?"active":""),children:[Object(c.jsx)(P.a,{icon:["far","file-alt"],className:"action-icon"})," ",s("Akt"),Object(c.jsx)(ga.a,{style:{marginLeft:10},count:I.act_awaiting})]})}),Object(c.jsx)(R.b,{to:"/cabinet/empowerment",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.empowerment?"active":""),children:[Object(c.jsx)(P.a,{icon:"file-signature",className:"action-icon"}),s("Ishonchnoma"),Object(c.jsx)(ga.a,{style:{marginLeft:10},count:I.emp_awating})]})}),Object(c.jsx)(R.b,{to:"/cabinet/tty",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.tty?"active":""),children:[Object(c.jsx)(P.a,{icon:["far","file-archive"],className:"action-icon"})," ",s("TTY"),Object(c.jsx)(ga.a,{style:{marginLeft:10},count:I.tty_awaiting})]})}),t?Object(c.jsx)(R.b,{to:"/admin/notification",children:Object(c.jsxs)("div",{className:"action-bloks ".concat(u.notification?"active":""),children:[Object(c.jsx)(P.a,{icon:["far","bell"],className:"action-icon"})," Notification",Object(c.jsx)(ga.a,{style:{marginLeft:10},count:3})]})}):null,l?Object(c.jsx)(_a,{valueStyle:{fontSize:15},value:l.time+18e5,title:s("Sessiya tugaydi"),onFinish:r}):null]})})]})}))),za=(t(596),t(621)),Da=function(e){var a=e.data,t=a.title,n=a.icon,i=a.color,l=a.count;return Object(c.jsxs)(za.a,{className:"admin-card-container",children:[Object(c.jsx)("div",{className:"admin-card-icon-field admin-card-".concat(i),children:Object(c.jsx)(P.a,{icon:n,className:"admin-card-icon"})}),Object(c.jsx)("div",{className:"admin-card-title",children:t}),Object(c.jsx)("div",{className:"admin-card-content",children:l})]})},Aa=(t(599),Object(O.b)({cabinetData:f})),qa=Object(m.b)(Aa)((function(e){var a=e.cabinetData,t=Object(re.a)().t,i=Object(n.useState)(0),l=Object(k.a)(i,2),r=l[0],s=l[1],o=null!==a&&void 0!==a?a:{},d=o.income,u=o.outcome,j=o.rejected,m=o.saved,O={0:t("Kiruvchi hujjatlar"),1:t("Chiquvchi hujjatlar"),2:t("Rad etilgan hujjatlar"),3:t("Saqlangan hujjatlar")},x=[{title:t("Kiruvchi"),count:d,icon:"cloud-download-alt",color:"purple",footer:"Faktura yaratish",create_url:"/cabinet/documents/waiting"},{title:t("Chiquvchi"),count:u,icon:"cloud-upload-alt",color:"green",footer:"Shartnoma yaratish",create_url:"/cabinet/documents/signed"},{title:t("Rad etilgan"),count:j,icon:"ban",color:"pink",footer:"Akt yaratish",create_url:"/cabinet/documents/rejected"},{title:t("Saqlangan"),count:m,icon:["far","bookmark"],color:"orange",footer:"Ishonchnoma yaratish",create_url:"/cabinet/documents/saved"}],p={dataSourcePath:"/api/v1/cabinet/".concat(r,"?hi"),addActionPath:"actions/add",viewActionPath:"/cabinet/{docType}/view",replaceInViewPath:"docType",deleteConfirmText:"Shu faktura ochirilsinmi?",actions:{edit:3===r,delete:3===r,view:!0},allColumns:[{title:t("Hujjat \u2116"),dataIndex:"docNo",isSearchable:!0},{title:t("Hujjat turi"),dataIndex:"docType",isFilterable:!0,filters:["factura","act","contract","empowerment","tty"]},{title:t("Kontrakt \u2116"),dataIndex:"contractNo",isSearchable:!0},{title:t("Kontragent"),dataIndex:"sellerName",isSearchable:!0,width:150},{title:t("Kontragent")+" "+t("STIR"),dataIndex:"sellerTin",isSearchable:!0},{title:"Oluvchi",dataIndex:"buyerName",isSearchable:!0,width:150},{title:"Oluvchi STIR",dataIndex:"buyerTin",isSearchable:!0},{title:t("Holati"),dataIndex:"status",isFilterable:!0,width:70,filters:[{value:1,text:"1-Saqlangan"},{value:2,text:"2-Imzo kutilmoqda"},{value:3,text:"3-Jo'natilgan"},{value:4,text:"4-Xatolik yuzbergan"},{value:5,text:"5-Qaytarib yuborilgan"},{value:6,text:"6-Qabul qilingan"},{value:7,text:"7-Muaffaqiyatli"}]},{title:t("Yaratilgan sana"),dataIndex:"created_at",dataType:"date"}]};return Object(c.jsx)("div",{className:"cabinet-home-main-container",children:Object(c.jsxs)("div",{className:"cabinet-home-sub-container",children:[Object(c.jsx)(b.a,{gutter:[16,16],children:x.map((function(e,a){return Object(c.jsx)(h.a,{onClick:function(){return s(a)},md:6,children:Object(c.jsx)(Da,{data:e})})}))}),Object(c.jsx)(ee,{title:O[r],config:p})]})})})),Ra=Object(O.b)({token:v}),Pa=Object(m.b)(Ra)((function(e){var a=e.token,t=e.match,i=de.a.useForm(),l=Object(k.a)(i,1)[0],r=t.params.empowermentId,s=Object(n.useState)(),o=Object(k.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),m=Object(k.a)(j,2),O=m[0],x=m[1];Object(n.useEffect)((function(){r&&M()({url:"/api/v1/empowerments/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=U()(a.contractDate),a.created_at=U()(a.created_at),a.empowermentDateOfExpire=U()(a.empowermentDateOfExpire),a.empowermentDateOfIssue=U()(a.empowermentDateOfIssue),a.agentPassportDateOfIssue=U()(a.agentPassportDateOfIssue),a.updated_at=U()(a.updated_at),u(a),l.resetFields(),w(Me(e.data.products,"empowerment"))})).catch((function(e){console.log(e)}))}),[]);var p=Object(n.useState)(!1),v=Object(k.a)(p,2),f=v[0],g=v[1],y=Object(n.useState)([Ve,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Ce},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:Ce},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:Ce},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:Ce},{value:""}]]),I=Object(k.a)(y,2),N=I[0],w=I[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){x(!0),console.log(e),r?M()({url:"/api/v1/empowerments/".concat(r),method:"PATCH",data:{emp:e,products:N}}).then((function(e){console.log(e),x(!1),e.data.ok?T.b.success("Ishonchnoma ozgartirildi!"):T.b.error("Ishonchnoma o'zgartirishda xatolik!")})).catch((function(e){x(!1),T.b.error("Ishonchnoma o'zgartirishda xatolik!"),console.log(e)})):M()({url:"/api/v1/empowerments",method:"post",data:{emp:e,products:N}}).then((function(e){x(!1),e.data.ok?T.b.success("Ishonchnma yaratildi!"):T.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)})).catch((function(e){x(!1),T.b.error("Ishonchnoma yaratishda xatolik"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Ishonchnoma"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"empowermentNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Inshonchnoma raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Inshonchnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"empowermentDateOfIssue",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Berilgan sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Berilgan sanasi"})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"empowermentDateOfExpire",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(ze,{docType:"empowerment"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Qe,{form:l,docType:"empowerment"})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(f?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=Ce})),w([N[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(F.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(F.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(F.a,{type:"primary",icon:f?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return g(!f)},children:f?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(pe.a,{data:N,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;N[t][c]=Object(S.a)(Object(S.a)({},N[t][c]),{},{value:n})})),w(Object(je.a)(N))}})})}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:N.length},{value:""},{value:"",dataEditor:Ce},{value:""}],a=[].concat(Object(je.a)(N),[e]);w(a)},children:"Qo'shish"}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;N.length>1&&(e=N.length-1,console.log(e),console.log(N),N.splice(e,1),console.log(N),w(Object(je.a)(N)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentTin",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u0421\u0422\u0418\u0420",onChange:function(e){var a=e.target.value;isNaN(a)?T.b.warning("STIR notog'ri kiritildi!"):a>1e8&&a<999999999&&M()({method:"GET",url:"info/contragent-by-tin?tin="+a}).then((function(e){var a=e.data,t=a.name,c=a.fullName,n=a.passIssueDate,i=a.passOrg,r=a.passNumber,s=a.passSeries;console.log(U()("2020-00-00 00:00:00")._isValid),l.setFieldsValue({agentFio:null!==c&&void 0!==c?c:t,agentPassportDateOfIssue:U()(n)._isValid?U()(n):null,agentPassportIssuedBy:i,agentPassportNumber:s+r})}))}})},"seler-account-tyin-inn"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0421\u0422\u0418\u0420"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentFio",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u0424\u0418\u0428"})},"agentFio-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u0424\u0418\u0428"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentJobTittle",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u041c\u0430\u043d\u0441\u0430\u0431"})},"seler-account-empowerment-dateof-issue-agentJobTittle"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041c\u0430\u043d\u0441\u0430\u0431"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentPassportNumber",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})},"seler-account-agent-fioe"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0441\u0435\u0440\u0438\u044f \u0432\u0430 \u0440\u0430\u049b\u0430\u043c\u0438"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentPassportIssuedBy",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041a\u0438\u043c \u0442\u043e\u043c\u043e\u043d\u0438\u0434\u0430\u043d \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d"})]})}),Object(c.jsx)(h.a,{md:7,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"agentPassportDateOfIssue",children:Object(c.jsx)(ue.a,{size:"large",placeholder:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0431\u0435\u0440\u0438\u043b\u0433\u0430\u043d \u0441\u0430\u043d\u0430"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{loading:O,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{icon:Object(c.jsx)(P.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(de.a.Item,{name:"empowermentId",children:Object(c.jsx)(C.a,{type:"hidden"})},"empowermemt-id"),Object(c.jsx)(de.a.Item,{name:"empowermentProductId",children:Object(c.jsx)(C.a,{type:"hidden"})},"empowermemt-product-id")]})})})),Va=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(se,{doc:"empowerment"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Pa}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:empowermentId"),component:Pa}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:empId"),component:Pa})]})},Ma=Object(O.b)({user:p}),Ba=Object(m.b)(Ma)((function(e){var a=e.match,t=e.user,n=a.params.actId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(ya,"/api/v1/acts/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Ua=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(se,{doc:"act"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Ye}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:actId"),component:Ye}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:actId"),component:Ba})]})},Ka=t(612),La=t(636),Ya=Object(O.b)({token:v}),Xa=Object(m.b)(Ya)((function(e){var a=e.token,t=e.match,i=de.a.useForm(),l=Object(k.a)(i,1)[0],r=t.params.contractId,s=Object(n.useState)(),o=Object(k.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),m=Object(k.a)(j,2),O=m[0],x=m[1];Object(n.useEffect)((function(){r&&M()({url:"/api/v1/contracts/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=U()(a.contractDate),a.created_at=U()(a.created_at),a.contractExpireDate=U()(a.contractExpireDate),a.updated_at=U()(a.updated_at),a.parts=a.contract_parts,a.contract_partners=a.contract_partners.map((function(e){var a=e.account,t=e.address,c=e.branchCode,n=e.branchName,i=e.director,l=e.directorTin,r=e.fizFio,s=e.fizTin,o=e.mobilePhone,d=e.name,u=e.oked,j=e.tin;e.workPhone,e.physicalTin,e.physicalName;return{buyerAccount:a,buyerAddress:t,buyerBranch:c,buyerBranchName:n,buyerDirector:i,buyerDirectorTin:l,buyerPhysicalFio:r,buyerPhysicalTin:s,buyerMobilePhone:o,buyerName:d,oked:u,buyerTin:j}})),console.log(a),u(a),w(Me(e.data.contract_products,"contract")),l.resetFields()})).catch((function(e){console.log(e)}))}),[]);var p=Object(n.useState)(!1),v=Object(k.a)(p,2),f=v[0],g=v[1],y=Object(n.useState)([Pe,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0}]]),I=Object(k.a)(y,2),N=I[0],w=I[1];return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){console.log(e),x(!0);var a=e.parts.map((function(e,a){return Object(S.a)(Object(S.a)({},e),{},{ordNo:a+1})})),t=e.contract_partners;delete e.parts,delete e.contract_partners,r?M()({url:"/api/v1/contracts/".concat(r),method:"PATCH",data:{contract:e,products:N,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?T.b.success("Shartnoma yangilandi!"):T.b.error("Shartnoma yangilashda xatolik!"),x(!1)})).catch((function(e){T.b.error("Shartnoma yangilashda xatolik!"),console.log(e),x(!1)})):M()({url:"/api/v1/contracts",method:"post",data:{contract:e,products:N,parts:a,contract_partners:t}}).then((function(e){console.log(e),e.data.ok?T.b.success("Yangi shartnoma yaratildi!"):T.b.error("Shartnoma yaratish xatolik!"),x(!1)})).catch((function(e){console.log(e),T.b.error("Shartnoma yaratish xatolik!"),x(!1)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Shartnoma"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractName",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Nomi"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Nomi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"contractDate",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Tuzilgan sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tuzilgan sanasi"})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"contractExpireDate",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Amal qilish sanasi"})},"dyna-form-item-inn-date-expire"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Amal qilish sanasi"})]})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractPlace",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma joyi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma joyi"})]})})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(ze,{docType:"contract",form:l})}),Object(c.jsx)(de.a.List,{name:"contract_partners",children:function(e,a){var t=a.add,n=a.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsx)(h.a,{sm:11,children:Object(c.jsx)(Qe,{fieldList:e,remove:n,docType:"contract",form:l},e.key)})})),Object(c.jsx)(de.a.Item,{children:Object(c.jsx)(F.a,{size:"large",className:"factra-action-btns",style:{width:"100%"},type:"dashed",onClick:function(){return t()},icon:Object(c.jsx)(La.a,{}),children:"Kontragent qo'shish"})})]})}})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(f?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Fe.a,{headers:{Authorization:"Bearer "+a},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if("done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[4].dataEditor=Ce})),w([N[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(F.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_contract_products.xlsx",download:!0,children:Object(c.jsx)(F.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(F.a,{type:"primary",icon:f?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return g(!f)},children:f?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(pe.a,{data:N,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t=e.row,c=e.col,n=e.value;N[t][c]=Object(S.a)(Object(S.a)({},N[t][c]),{},{value:n}),N[t][8].value=N[t][5].value&&N[t][6].value?parseFloat(N[t][5].value)*parseFloat(N[t][6].value)+parseFloat(N[t][7].value?N[t][7].value:0):0})),w(Object(je.a)(N))}})})}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:N.length},{value:""},{value:"",dataEditor:Te},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:""},{value:"",readOnly:!0}],a=[].concat(Object(je.a)(N),[e]);w(a)},children:"Qo'shish"}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;N.length>1&&(e=N.length-1,N.splice(e,1),w(Object(je.a)(N)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Shartnoma shartlari"}),Object(c.jsx)(de.a.List,{name:"parts",children:function(e,a){var t=a.add,n=a.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsxs)(b.a,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(c.jsx)(h.a,{sm:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,Object(S.a)(Object(S.a)({},e),{},{name:[e.name,"title"],fieldKey:[e.fieldKey,"title"],rules:[{required:!0}],children:Object(c.jsx)(C.a,{className:"border-right-square",size:"large",placeholder:"Shart sarlavhasi",addonAfter:Object(c.jsx)(P.a,{icon:["far","times-circle"],onClick:function(){return n(e.name)}})})})),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shart sarlavhasi"})]})}),Object(c.jsx)(h.a,{sm:24,children:Object(c.jsx)(de.a.Item,Object(S.a)(Object(S.a)({},e),{},{name:[e.name,"body"],fieldKey:[e.fieldKey,"body"],rules:[{required:!0}],children:Object(c.jsx)(Ue.a,{rows:4,placeholder:"Sharnoma matni",size:"large"})}))}),Object(c.jsx)(Ka.a,{})]},e.key)})),Object(c.jsx)(de.a.Item,{children:Object(c.jsx)(F.a,{size:"large",type:"dashed",onClick:function(){return t()},block:!0,icon:Object(c.jsx)(La.a,{}),children:"Maydon qo'shish"})})]})}})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{primary:!0,htmlType:"submit",loading:O,className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{icon:Object(c.jsx)(P.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})}),Object(c.jsx)(de.a.Item,{name:"contractId",children:Object(c.jsx)(C.a,{type:"hidden"})},"contractId-1")]})})})),Qa=Object(O.b)({user:p}),Ha=Object(m.b)(Qa)((function(e){var a=e.match,t=e.user,n=a.params.contractId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(ya,"/api/v1/contracts/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),Ja=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(se,{doc:"contract"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:Xa}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:contractId"),component:Xa}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:contractId"),component:Ha})]})},Wa=t(189),Ga=Object(O.b)({token:v,user:p}),$a=Object(m.b)(Ga)((function(e){var a=e.match,t=e.token,i=(e.user,de.a.useForm()),l=Object(k.a)(i,1)[0],r=a.params.ttyId,s=Object(n.useState)(),o=Object(k.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(!1),m=Object(k.a)(j,2),O=m[0],x=m[1],p=Object(n.useState)(!1),v=Object(k.a)(p,2),f=v[0],g=v[1],y=Object(n.useState)([Ae,[{readOnly:!0,value:1},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:2},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:3},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],[{readOnly:!0,value:4},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}]]),I=Object(k.a)(y,2),N=I[0],w=I[1];Object(n.useEffect)((function(){r&&M()({url:"/api/v1/ttys/".concat(r),method:"GET"}).then((function(e){var a=e.data;a.contractDate=U()(a.contractDate),a.created_at=U()(a.created_at),a.wayBillDate=U()(a.wayBillDate),a.tripTicketDate=U()(a.tripTicketDate),a.updated_at=U()(a.updated_at),console.log(a),u(e.data),l.resetFields(),w(Me(e.data.products,"tty"))})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{style:{padding:15},children:Object(c.jsxs)(de.a,{initialValues:d,form:l,name:"factura",onFinish:function(e){x(!0),console.log(e),r?M()({url:"/api/v1/ttys/".concat(r),method:"PATCH",data:{tty:e,products:N}}).then((function(e){x(!1),T.b.success("TTY yangilandi!"),console.log(e)})).catch((function(e){x(!1),T.b.error("TTY yangilashda xatolik!"),console.log(e)})):M()({url:"/api/v1/ttys",method:"post",data:{tty:e,products:N}}).then((function(e){x(!1),T.b.success("TTY yaratildi!"),console.log(e)})).catch((function(e){x(!1),T.b.error("TTY yaratishda xatolik!"),console.log(e)}))},scrollToFirstError:!0,validateMessages:{required:"Bu maydon majburiy!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},children:[Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"TTY yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"wayBillNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"TTY raqami"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"TTY raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"wayBillDate",rules:[{required:!0}],children:Object(c.jsx)(ue.a,{size:"large",placeholder:"TTY sanasi"})},"dyna-form-item-inn-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"TTY sanasi"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsx)(de.a.Item,{name:"deliveryType",initialValue:1,children:Object(c.jsx)(Wa.a.Group,{style:{width:"100%"},options:[{label:"Omborxonadan omborxonaga",value:1},{label:"Sotuvchidan xaridorgacha",value:2}],optionType:"button"})},"deliveryType")})]})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"contractDate",children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Shartnoma sanasi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"tripTicketNo",children:Object(c.jsx)(C.a,{size:"large",placeholder:"Shartnoma raqami"})},"dyna-form-item-contract-n0-TripTicketNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"tripTicketDate",children:Object(c.jsx)(ue.a,{size:"large",placeholder:"Shartnoma sanasi"})},"dyna-form-item-contract-date-TripTicketDate"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yo'l varaqasi sanasi"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"truckRegNo",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:"Avtomobil davlat raqami"})},"truckRegNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil davlat raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"truckModel",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:"Avtomobil turi"})},"truckModel"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Avtomobil turi"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsx)(de.a.Item,{name:"trailerType",initialValue:1,children:Object(c.jsx)(Wa.a.Group,{style:{width:"100%"},options:[{label:"Tirkama",value:1},{label:"Yarim tirkama",value:2}],optionType:"button"})},"trailerType")}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"trailerRegNo",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:"Tirkama davlat raqami"})},"TrailerRegNo"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tirkama davlat raqami"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"trailerModel",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:"Tirkama turi"})},"TrailerRegNoType"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tirkama turi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"driverFio",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:"Haydovchi FIO"})},"DriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Haydovchi FIO"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(ze,{form:l,docType:"act"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Qe,{form:l,docType:"act"})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Oe,{form:l,pName:"carrierName",pTin:"carrierTin",nameLabel:"Tashuvchi FIO",tinLabel:"Tashunchi STIR"})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(Oe,{form:l,pName:"customerName",pTin:"customerTin",nameLabel:"Buyurtmachi FIO",tinLabel:"Buyurtmachi STIR"})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"pointOfLoading",children:Object(c.jsx)(C.a,{size:"large"})},"PointOfLoading"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Yuklash manzili"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"pointOfUnloading",children:Object(c.jsx)(C.a,{size:"large"})},"pointOfUnloading"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tushirish mazili"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"pointOfRedirectName",children:Object(c.jsx)(C.a,{size:"large"})},"pointOfRedirectName"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil nomi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"pointOfRedirectAddress",children:Object(c.jsx)(C.a,{size:"large"})},"pointOfRedirectAddress"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Boshqa manzil manzili"})]})})]})}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"giverFio",children:Object(c.jsx)(C.a,{size:"large"})},"giverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Topshirdi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"takerFio",children:Object(c.jsx)(C.a,{size:"large"})},"takerFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Qabul qildi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"giverDriverFio",children:Object(c.jsx)(C.a,{size:"large"})},"giverDriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Topshiruvchi haydovchi FIO"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"takerDriverFio",children:Object(c.jsx)(C.a,{size:"large"})},"takerDriverFio"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Qabulqiluvchi haydovchi FIO"})]})}),Object(c.jsx)(h.a,{md:24,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"specialNotes",children:Object(c.jsx)(C.a,{size:"large",placeholder:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})},"selenote-field"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"\u049a\u045e\u0448\u0438\u043c\u0447\u0430 \u043c\u0430\u0439\u0434\u043e\u043d"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"deliveryDistance",children:Object(c.jsx)(C.a,{size:"large"})},"deliveryDistance"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tashish orligi"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"deliveryDistanceInCity",children:Object(c.jsx)(C.a,{size:"large"})},"deliveryDistanceInCity"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Tashish orqliq (Shaharda)"})]})})]})}),Object(c.jsxs)("div",{className:"factura-data-sheet-container ".concat(f?"grid-full-view":null),children:[Object(c.jsxs)("div",{style:{marginBottom:10,display:"flex",justifyContent:"space-between"},children:[Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(Fe.a,{headers:{Authorization:"Bearer "+t},multiple:!1,action:"http://127.0.0.1:8000/api/v1/factura-products/read-excel",accept:".xlsx, .xls",onChange:function(e){if(console.log("me fired"),"done"==e.file.status){var a=e.file.response;a.excel.forEach((function(e,a){e[0].value=a+1,e[0].readOnly=!0,e[2].dataEditor=Te,e[4].dataEditor=Ce})),w([N[0]].concat(Object(je.a)(a.excel))),console.log(a)}},children:Object(c.jsx)(F.a,{style:{marginRight:10},children:"Exceldan yuklash"})}),Object(c.jsx)("a",{target:"_blank",href:"../../../excels/on_doc_factura_products.xlsx",download:!0,children:Object(c.jsx)(F.a,{children:"Shablon yuklash"})})]}),Object(c.jsx)(F.a,{type:"primary",icon:f?Object(c.jsx)(Q.a,{}):Object(c.jsx)(H.a,{}),onClick:function(){return g(!f)},children:f?"Kichraytirish":"Kengaytirish"})]}),Object(c.jsx)("div",{style:{overflowX:"auto"},children:Object(c.jsx)("div",{style:{width:"100%"},children:Object(c.jsx)(pe.a,{data:N,valueRenderer:function(e){return e.value},onContextMenu:function(e,a,t,c){return a.readOnly?e.preventDefault():null},onCellsChanged:function(e){e.forEach((function(e,a){e.cell;var t,c,n=e.row,i=e.col,l=e.value;N[n][i]=Object(S.a)(Object(S.a)({},N[n][i]),{},{value:l});var r=parseFloat(null!==(t=N[n][3].value)&&void 0!==t?t:0)*parseFloat(null!==(c=N[n][4].value)&&void 0!==c?c:0);N[n][5]=Object(S.a)(Object(S.a)({},N[n][5]),{},{value:null!==r&&void 0!==r?r:0})})),w(Object(je.a)(N))}})})}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,marginRight:7,width:220},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","plus-square"]}),onClick:function(){var e=[{readOnly:!0,value:N.length},{value:""},{value:"",dataEditor:Ce},{value:""},{value:""},{value:"",readOnly:!0},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],a=[].concat(Object(je.a)(N),[e]);w(a)},children:"Qo'shish"}),Object(c.jsx)(F.a,{size:"large",style:{marginTop:20,width:220},danger:!0,type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:7},icon:["far","trash-alt"]}),onClick:function(){var e;N.length>1&&(e=N.length-1,N.splice(e,1),w(Object(je.a)(N)))},children:"Oxirgi qatorni o'chirish"})]}),Object(c.jsx)("div",{className:"factura-data-sheet-container",children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{loading:O,primary:!0,htmlType:"submit",className:"factra-action-btns save-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"\u0421\u0430\u049b\u043b\u0430\u0431 \u049b\u043e\u043b\u0438\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"signature",className:"factura-action-btn-icons"}),children:"\u0418\u043c\u0437\u043e\u043b\u0430\u0448"})}),Object(c.jsx)(h.a,{children:Object(c.jsx)(F.a,{icon:Object(c.jsx)(P.a,{icon:"ban",className:"factura-action-btn-icons"}),danger:!0,className:"factra-action-btns",size:"large",children:"\u0411\u0435\u043a\u043e\u0440 \u049b\u0438\u043b\u0438\u0448"})})]})})]})})})),Za=Object(O.b)({user:p}),et=Object(m.b)(Za)((function(e){var a=e.match,t=e.user,n=a.params.ttyId;return Object(c.jsx)("div",{style:{margin:15,padding:20},children:Object(c.jsx)("embed",{width:"100%",height:"600px",src:"".concat(ya,"/api/v1/ttys/get-pdf/").concat(n,"/").concat(t.auth_key,"/").concat(t.tin),type:"application/pdf"})})})),at=function(e){var a=e.match;return Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),render:function(){return Object(c.jsx)(se,{doc:"tty"})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/create"),component:$a}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/edit/:ttyId"),component:$a}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/view/:ttyId"),component:et})]})},tt=(t(600),t(626)),ct=function(){var e=Object(n.useState)([]),a=Object(k.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(!1),r=Object(k.a)(l,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){o(!0),M()({url:"api/v1/notifications",method:"GET"}).then((function(e){i(e.data),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]),Object(c.jsxs)("div",{className:"factura-data-sheet-container",style:{margin:15},children:[Object(c.jsx)("h3",{children:"Notifications"}),Object(c.jsx)(tt.b,{loading:s,dataSource:t,pagination:!0,renderItem:function(e){return Object(c.jsx)(tt.b.Item,{children:Object(c.jsxs)("div",{style:{marginBottom:30},children:[Object(c.jsx)("h3",{children:e.title_uz}),Object(c.jsxs)("div",{children:[Object(c.jsx)(fa.a,{style:{marginRight:10},color:Na[e.importance].color,children:Na[e.importance].text}),U()(e.updated_at).format("MMMM Do YYYY, H:mm:ss")]}),Object(c.jsx)("div",{children:e.body_uz})]})})}})]})},nt=t(221),it=oe.a.Option,lt=Object(O.b)({user:p}),rt=Object(m.b)(lt,(function(e){return{setUserOnly:function(a){return e(Ge(a))}}}))((function(e){var a,t=e.user,i=(e.setUserOnly,Object(re.a)().t),l=de.a.useForm(),r=Object(k.a)(l,1)[0],s=Object(n.useState)(!1),o=Object(k.a)(s,2),d=o[0],u=o[1];return Object(c.jsx)(de.a,{initialValues:t,onFinish:function(e){console.log(JSON.stringify(e)),u(!0),M()({method:"post",data:e,url:"company/update?id=".concat(t.id)}).then((function(e){u(!1),T.b.success("Succesfully updated!")})).catch((function(e){u(!1),console.log(e)}))},form:r,children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{initialValue:null!==(a=t.tin)&&void 0!==a?a:t.username,name:"tin",children:Object(c.jsx)(C.a,{rules:[{required:!0}],size:"large",disabled:!0})},"dyna-form-facutura-no-old-tin"),Object(c.jsx)("span",{className:"custom-input-label-1",children:i("STIR")})]})}),[{name:"name",label:"Nomi"},{name:"address",label:"Manzil"},{name:"oked",label:"OKED"},{name:"director_fio",label:"Direktor"},{name:"accountant",label:"Hisobchi"},{name:"bank_account",label:"Hisob raqam"},{name:"mfo",label:"MFO"}].map((function(e){return Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:e.name,children:Object(c.jsx)(C.a,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-".concat(e.name)),Object(c.jsx)("span",{className:"custom-input-label-1",children:e.label})]})})})),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"ns10_code",children:Object(c.jsxs)(oe.a,{rules:[{required:!0}],size:"large",bordered:!1,children:[Object(c.jsx)(it,{value:1,children:"Tashkent"}),Object(c.jsx)(it,{value:2,children:"Andijon"}),Object(c.jsx)(it,{value:3,children:"Tashkent"}),Object(c.jsx)(it,{value:14,children:"Namangan"})]})},"dyna-form-facutura-no-old-tin-vil"),Object(c.jsx)("span",{className:"custom-input-label-1",children:i("Viloyat")})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(F.a,{htmlType:"submit",loading:d,className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})),st=t(195),ot=oe.a.Option,dt=Object(O.b)({user:p}),ut=Object(m.b)(dt)((function(e){var a=e.user,t=(Object(re.a)().t,Object(st.useState)()),n=Object(k.a)(t,2),i=n[0],l=n[1],r=Object(st.useState)([]),s=Object(k.a)(r,2),o=s[0],d=s[1],u=Object(st.useState)(!1),j=Object(k.a)(u,2),b=j[0],h=j[1],m=o.map((function(e){return Object(c.jsx)(ot,{value:e.classCode,children:e.className},e.classCode)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)(oe.a,{mode:"multiple",value:i,showSearch:!0,showArrow:!1,defaultActiveFirstOption:!1,filterOption:!1,onSearch:function(e){h(!0),M()({url:"classifications/search?key=".concat(e),method:"get"}).then((function(e){console.log(e.data.data),d(Array.isArray(e.data.data)?e.data.data:[]),h(!1)})).catch((function(e){console.log(e),h(!1)}))},onChange:l,style:{width:"100%"},loading:b,notFoundContent:null,children:m}),Object(c.jsx)(F.a,{type:"primary",style:{marginTop:10},onClick:function(){var e;console.log(i),M()({url:"classifications/add-products",method:"post",data:{tin:null!==(e=a.tin)&&void 0!==e?e:a.username,class_codes:i}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Ozingizga yuklash"})]})})),jt=(oe.a.Option,Object(O.b)({user:p})),bt=Object(m.b)(jt)((function(e){var a,t=e.user,i=Object(re.a)().t,l=Object(n.useState)(!1),r=Object(k.a)(l,2),s=r[0],o=r[1];return Object(c.jsx)("div",{children:Object(c.jsxs)(ja.a,{spinning:s,children:[Object(c.jsx)(ut,{}),Object(c.jsx)(se,{hideTabs:!0,customButton:Object(c.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var e;o(!0),M()({url:"classifications/reload?tin=".concat(null!==(e=t.tin)&&void 0!==e?e:t.username),method:"GET"}).then((function(e){o(!1)})).catch((function(e){o(!1)}))},children:Object(c.jsxs)("span",{children:[Object(c.jsx)(P.a,{icon:"sync-alt"})," ",i("Synxronizatsiya")]})}),doc:"user-products",addParams:[{name:"tin",value:null!==(a=t.tin)&&void 0!==a?a:t.username}]})]})})})),ht=Object(O.b)({loadedKey:g}),mt=Object(m.b)(ht)((function(e){var a=e.loadedKey,t=Object(re.a)().t,i=Object(n.useState)(!1),l=Object(k.a)(i,2),r=l[0],s=l[1];return Object(c.jsx)("div",{children:Object(c.jsx)(de.a,{onFinish:function(e){s(!0),la.createPkcs7(a.id,e.password,null,(function(a){M()({url:"user/set-password",method:"post",data:{pkcs7:a,password:e.password,phone:e.phone}})}),(function(e,a){T.b.error(a),console.log("r",a,"e",e)}))},children:Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"password",children:Object(c.jsx)(C.a.Password,{rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tin"),Object(c.jsx)("span",{className:"custom-input-label-1",children:t("Yangi parol")})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"phone",children:Object(c.jsx)(C.a,{placeholder:"+998 xx xxx xx xx",rules:[{required:!0}],size:"large"})},"dyna-form-facutura-no-old-tphone"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Telefon raqam"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(c.jsx)(C.a.Password,{rules:[{required:!0}],size:"large"})}),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Prolni tasdiqlang"})]})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(F.a,{htmlType:"submit",loading:r,className:"factra-action-btns sing-btn",size:"large",icon:Object(c.jsx)(P.a,{icon:"save",className:"factura-action-btn-icons"}),children:"Saqlash"})})]})})})})),Ot=nt.a.TabPane,xt=function(){var e=Object(re.a)().t;return Object(c.jsx)("div",{className:"factura-data-sheet-container",style:{margin:15},children:Object(c.jsxs)(nt.a,{onChange:function(e){console.log(e)},type:"card",children:[Object(c.jsx)(Ot,{tab:e("Kompaniya ma'lumotlari"),children:Object(c.jsx)(rt,{})},"1"),Object(c.jsx)(Ot,{tab:e("Parol o'zgartirish"),children:Object(c.jsx)(mt,{})},"2"),Object(c.jsx)(Ot,{tab:e("Maxsulotlarim"),children:Object(c.jsx)(bt,{})},"3")]})})},pt=Object(s.g)((function(e){var a=e.match;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{md:5,lg:4,children:Object(c.jsx)(Ea,{})}),Object(c.jsxs)(h.a,{md:19,lg:20,children:[Object(c.jsx)(s.b,{exact:!0,path:a.path,component:qa}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/factura"),component:xa}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/empowerment"),component:Va}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/act"),component:Ua}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/contract"),component:Ja}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/tty"),component:at}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/notifications"),component:ct}),Object(c.jsx)(s.b,{path:"".concat(a.path,"/profile"),component:xt})]})]})})})),vt=(t(601),t(602),t(316)),ft=t(623),gt=(t(603),t(122)),yt=t(191),It=function(e){e.locale,e.changeLocale;var a=Object(re.a)().i18n,t=Object(n.useState)(ae.a.language),i=Object(k.a)(t,2),l=i[0],r=i[1];Object(n.useEffect)((function(){r(ae.a.language)}),[ae.a.language]);var s=Object(c.jsxs)(gt.a,{children:[Object(c.jsxs)(gt.a.Item,{onClick:function(){a.changeLanguage("uz")},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/uz.png"})," O'zb"]}),Object(c.jsxs)(gt.a.Item,{onClick:function(){a.changeLanguage("uz-Cyrl")},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/uz.png"})," \u040e\u0437\u0431"]}),Object(c.jsxs)(gt.a.Item,{onClick:function(){a.changeLanguage("ru")},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/ru.png"})," Pyc"]}),Object(c.jsxs)(gt.a.Item,{onClick:function(){a.changeLanguage("en")},children:[Object(c.jsx)("img",{style:{width:25,borderRadius:"50%"},alt:"languange",src:"/images/en.png"})," Eng"]})]});return Object(c.jsx)("span",{className:"trigger text-float-right",children:Object(c.jsx)(yt.a,{overlay:s,children:Object(c.jsx)("img",{style:{width:25,borderRadius:"50%",marginRight:30},alt:"languange",src:"/images/".concat("uz-Cyrl"===l?"uz":l,".png")})})})},Nt=(t(604),function(e){var a=e.active;return Object(c.jsx)("div",{className:"side-bar-icons-main-container ".concat(a?"inactive":"active"),children:Object(c.jsxs)("div",{className:"sidebar-iconsconyainer",children:[Object(c.jsx)("div",{children:Object(c.jsx)(E.a,{placement:"left",color:"#0075ff",title:"Bosh sahifa",children:Object(c.jsx)(R.b,{to:"/home",children:Object(c.jsx)(P.a,{icon:"home"})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(E.a,{placement:"left",color:"#0075ff",title:"Notifications",children:Object(c.jsx)(R.b,{to:"/cabinet/notifications",children:Object(c.jsx)(P.a,{icon:["far","bell"]})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(E.a,{title:"Kabinet",color:"#0075ff",placement:"left",children:Object(c.jsx)(R.b,{to:"/cabinet/profile",children:Object(c.jsx)(P.a,{icon:"user-cog"})})})}),Object(c.jsx)("div",{children:Object(c.jsx)(R.b,{to:"/home/faq",children:Object(c.jsx)(P.a,{icon:"question-circle"})})})]})})}),St=Object(O.b)({user:p}),kt=Object(m.b)(St,(function(e){return{logOut:function(){return e(We())}}}))(Object(s.g)((function(e){var a,t=e.user,i=e.logOut,l=(e.location,Object(re.a)().t);window.onscroll=function(){return d(!1)};var r=Object(n.useState)(!1),s=Object(k.a)(r,2),o=s[0],d=s[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"header-main-component-container-main",children:[Object(c.jsxs)("div",{style:{textAlign:"right",padding:"5px 40px",backgroundColor:"rgba(0,0,0,0.1)"},children:[l("Call center"),": ",Object(c.jsx)("a",{href:"tel:+998712001122",children:"+998 71 200 11 22"})," "]}),Object(c.jsx)("div",{className:"header-main-component-container",children:Object(c.jsxs)("div",{className:"header-main-conatainer",children:[Object(c.jsx)("span",{children:Object(c.jsxs)(R.b,{to:"/",children:[Object(c.jsx)("img",{className:"logo-on-doc-img",src:"/assests/logo.png",alt:"logo On Doc"})," ",Object(c.jsxs)("span",{style:{fontSize:27,color:"black",fontWeight:"bold"},children:["Online",Object(c.jsx)("span",{style:{color:"rgb(0,174,255)"},children:"Factura"})]})]})}),Object(c.jsxs)("div",{className:"heasder-actions-con",children:[t?Object(c.jsxs)("div",{className:"header-action",style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)(P.a,{className:"header-action-icon",icon:"wallet"}),"  ",Object(c.jsx)("strong",{style:{marginLeft:10},children:" 40500.00"})]}):null,Object(c.jsx)(It,{}),t?Object(c.jsxs)("div",{className:"header-action",children:[Object(c.jsxs)("strong",{children:[l("STIR"),":"]}),"  ",null!==(a=t.tin)&&void 0!==a?a:t.username]}):null,t?Object(c.jsx)("div",{className:"header-action",children:Object(c.jsx)(E.a,{title:l("Tizimdan chiqish"),children:Object(c.jsx)("div",{style:{cursor:"pointer"},onClick:i,children:Object(c.jsx)(P.a,{icon:"sign-in-alt",className:"header-action-icon"})})})}):Object(c.jsx)("div",{className:"header-action",children:Object(c.jsx)(E.a,{title:l("Tizimga kirish"),children:Object(c.jsx)(R.b,{to:"/home/login",children:Object(c.jsx)(P.a,{icon:"sign-in-alt",className:"header-action-icon"})})})}),Object(c.jsx)(ft.a,{className:"burger-main",toggled:o,toggle:d})]})]})})]}),Object(c.jsx)(Nt,{active:o})]})}))),wt=function(e){return Object(vt.a)(e),Object(c.jsx)("div",{children:Object(c.jsx)("div",{})})},Tt=(t(605),oe.a.Option,Object(m.b)(null,(function(e){return{setCurrentUser:function(a){return e(function(e){return{type:He.SUCCESS_LOGIN,payload:e}}(a))},setEspUser:function(a){return e(function(e){return{type:He.SET_KEY_USER,payload:e}}(a))},setKeyId:function(a){return e(Je(a))}}}))(Object(s.g)((function(e){var a=e.setCurrentUser,t=e.history,i=e.setEspUser,l=e.setKeyId,r=Object(re.a)().t,s=Object(n.useState)([]),o=Object(k.a)(s,2),d=o[0],u=o[1],j=Object(n.useState)(0),m=Object(k.a)(j,2),O=m[0],x=m[1];Object(n.useEffect)((function(){la.listAllUserKeys((function(e,a){return"itm-"+e.serialNumber+"-"+a}),(function(e,a){d.push({value:e,text:a}),u(Object(je.a)(d))}),(function(e,a){}),(function(e,a){console.log(a),T.b.error(r("E-Imzo xatosi. Sizda E-Imzo programmasi yoki E-Imzo browseri mavjud emas!"))}))}),[]);var p=Object(n.useState)(!1),v=Object(k.a)(p,2),f=v[0],g=v[1],y=Object(n.useState)(!1),I=Object(k.a)(y,2),N=I[0],S=(I[1],{required:"Bu maydon majburiy!"});return Object(c.jsx)("div",{className:"login-main-container",children:Object(c.jsx)(b.a,{justify:"space-around",children:Object(c.jsx)(h.a,{md:10,children:0===O?Object(c.jsxs)("div",{className:"login-form-containrer",children:[Object(c.jsxs)(de.a,{name:"e-key",onFinish:function(e){var c=function(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=t.length,n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*c));return a}(24);console.log(e),la.loadKey(e.key.text,(function(e){l({id:e,time:Date.now()}),la.createPkcs7(e,c,null,(function(n){M()({url:"site/auth",method:"post",data:{keyId:e,guid:c,pkcs7:n}}).then((function(e){e.data.success?(a(e.data),i(e.data.data),T.b.success(r("Muaffaqiyatli kirish!")),t.push("/home/choosecompany")):T.b.error(r("Kabinetga kirishda xatolik!"))})).catch((function(e){console.log(e)}))}),(function(e,a){console.log("e:",e),console.log("r:",a),T.b.error(a)}),(function(e,a){console.log("e:",e),console.log("r:",a),T.b.error(a)}))}),(function(e,a){console.log("Load key e:",e),console.log("Load key r:",a)}))},scrollToFirstError:!0,validateMessages:S,children:[Object(c.jsx)("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #999",borderRadius:11,marginBottom:10,padding:10},children:Object(c.jsx)(de.a.Item,{name:"key",children:Object(c.jsx)(Wa.a.Group,{size:"large",children:d.map((function(e){return Object(c.jsx)(Wa.a,{value:e,children:Object(c.jsxs)("div",{className:"client-availbale-key",children:[Object(c.jsxs)("div",{children:[r("FIO"),": ",e.text.CN," "]}),Object(c.jsxs)("div",{children:[r("STIR"),": ",e.text.TIN]}),Object(c.jsxs)("div",{children:[r("Tashkilot"),": ",e.text.O]}),Object(c.jsxs)("div",{children:[r("Amal qilish muddati"),":",U()(e.text.validTo).format("MMMM Do YYYY, H:mm:ss")]})]})},e.value)}))})})}),Object(c.jsx)(de.a.Item,{children:Object(c.jsx)(F.a,{loading:N,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(c.jsx)(P.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:r("Kirish")})})]}),Object(c.jsx)("div",{onClick:function(){return x(1)},style:{textAlign:"center",cursor:"pointer"},children:r("STIR va parol bilan kirish")})]}):Object(c.jsxs)("div",{className:"login-form-containrer",children:[Object(c.jsx)("h3",{children:r("STIR va parol bilan kirish")}),Object(c.jsxs)(de.a,{name:"tin-pass",onFinish:function(e){g(!0),console.log(e),M()({url:"/api/v1/login-with-password",data:e,method:"POST"}).then((function(e){a(e.data),g(!1),t.push("/home/choosecompany")})).catch((function(e){console.log(e),g(!1),T.b.error(r("Kabinetga kirishda xatolik!"))}))},scrollToFirstError:!0,validateMessages:S,children:[Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"tin",rules:[{required:!0}],children:Object(c.jsx)(C.a,{size:"large",placeholder:r("STIR")})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("STIR")})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{name:"password",rules:[{required:!0}],children:Object(c.jsx)(C.a.Password,{size:"large",placeholder:r("Parol")})},"dyna-form-facutura-no-old"),Object(c.jsx)("span",{className:"custom-input-label-1",children:r("Parol")})]}),Object(c.jsx)(de.a.Item,{children:Object(c.jsx)(F.a,{loading:f,style:{display:"block",width:"100%"},className:"factra-action-btns sing-btn",size:"large",htmlType:"submit",icon:Object(c.jsx)(P.a,{icon:"sign-in-alt",className:"factura-action-btn-icons"}),children:r("Kirish")})})]}),Object(c.jsx)("div",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){return x(0)},children:r("E-imzo bilan kirish")})]})})})})})))),Ct=t(134),_t=t.n(Ct),Ft=t(317),Et=(t(606),Object(O.b)({user:I,companies:y})),zt=Object(m.b)(Et,(function(e){return{setUserComps:function(a){return e(function(e){return{type:He.SET_USER_COMPANIES,payload:e}}(a))},setCurrentUser:function(a){return e(Ge(a))}}}))(Object(s.g)((function(e){var a=e.setCurrentUser,t=e.history,i=e.user,l=e.setUserComps,r=e.companies,s=Object(n.useState)(!1),o=Object(k.a)(s,2),d=o[0],u=o[1],j=function(){var e=Object(Ft.a)(_t.a.mark((function e(c){var n,i=arguments;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,M()({url:"user/get-company-data?tin=".concat(c),method:"get"}).then((function(e){u(!1),a(e.data.company),n&&t.push("/cabinet")})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),b=Object(re.a)().t,h=Object(n.useState)(null),m=Object(k.a)(h,2),O=m[0],x=m[1];return Object(n.useEffect)((function(){O&&j(O)}),[O]),Object(n.useEffect)((function(){u(!0),M()({url:"info/director-company/?tin=".concat(i.username),method:"get"}).then((function(e){var a,t;(console.log(e),e.data.success)?(l(e.data.data),u(!1),1==(null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length)&&j(e.data.data[0].company_tin)):(T.b.error("Serverda xatolik!"),u(!1))})).catch((function(e){console.log(e),T.b.error("Serverda xatolik!"),u(!1)}))}),[]),Object(c.jsx)("div",{className:"choose-company-main-container",children:Object(c.jsxs)("div",{className:"choose-company-sub-container",children:[Object(c.jsx)(F.a,{onClick:function(){t.goBack()},type:"primary",icon:Object(c.jsx)(P.a,{style:{marginRight:10},icon:"arrow-circle-left"}),children:b("Back")}),Object(c.jsx)("h2",{style:{textAlign:"center"},children:b("Korxona tanlang")}),Object(c.jsx)("div",{className:"company-card-con",children:Object(c.jsx)(tt.b,{grid:{gutter:8,xs:1,md:2,lg:3},loading:d,dataSource:r,renderItem:function(e){return Object(c.jsxs)("div",{onClick:function(){return x(e.company_tin)},className:"company-card",children:[Object(c.jsx)("div",{className:"company-name",children:e.company_name}),Object(c.jsxs)("div",{className:"company-text",children:[Object(c.jsx)("span",{className:"company-tin",style:{margin:0,padding:0},children:e.company_tin}),Object(c.jsx)("div",{children:b("STIR")})]})]})}})})]})})}))),Dt=Object(O.b)({user:p}),At=Object(m.b)(Dt)((function(e){var a=e.match,t=e.user;return console.log(t),Object(c.jsxs)("div",{children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path),component:wt}),Object(c.jsx)(s.b,{exact:"choosecompany",path:"".concat(a.path,"/choosecompany"),component:zt}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/login"),component:Tt})]})})),qt=oe.a.Option,Rt=function(e){var a=e.match,t=de.a.useForm(),i=Object(k.a)(t,1)[0],l=Object(n.useState)(!1),r=Object(k.a)(l,2),s=r[0],o=r[1],d=a.params.notificationId;Object(n.useEffect)((function(){d&&M()({url:"api/v1/notifications/"+d,method:"get"}).then((function(e){i.setFieldsValue(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(c.jsx)("div",{style:{marginTop:20},children:Object(c.jsx)(de.a,{form:i,onFinish:function(e){o(!0),M()({method:d?"patch":"post",data:e,url:d?"/api/v1/notifications/"+d:"/api/v1/notifications"}).then((function(e){e.data.ok?T.b.success("Notification saqlandi!"):T.b.error("Notification saqlashda xatolik!"),o(!1)})).catch((function(e){console.log(e),T.b.error("Notification saqalashda xatolik!"),o(!1)}))},scrollToFirstError:!0,children:Object(c.jsxs)("div",{className:"factura-data-sheet-container",children:[Object(c.jsx)("h3",{children:"Notification yaratish"}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsxs)(h.a,{md:11,children:[Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_uz",children:Object(c.jsx)(C.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (uz)"})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_ru",children:Object(c.jsx)(C.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (ru)"})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"title_en",children:Object(c.jsx)(C.a,{size:"large"})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification sarlavhasi (en)"})]}),Object(c.jsxs)(de.a.Item,{children:[Object(c.jsx)(de.a.Item,{rules:[{required:!0}],name:"importance",children:Object(c.jsxs)(oe.a,{bordered:!1,size:"large",name:"importance",defaultActiveFirstOption:!0,children:[Object(c.jsx)(qt,{value:1,children:"1 - Uncha muxim emas"}),Object(c.jsx)(qt,{value:2,children:"2 - Muxim emas"}),Object(c.jsx)(qt,{value:3,children:"3 - Muxim"}),Object(c.jsx)(qt,{value:4,children:"4 - Muximroq"}),Object(c.jsx)(qt,{value:5,children:"5 - O'ta muxim"})]})},"dyna-form-facutura-no"),Object(c.jsx)("span",{className:"custom-input-label-1",children:"Notification muximligi"})]}),Object(c.jsxs)(b.a,{justify:"space-between",children:[Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(de.a.Item,{label:"Holati",name:"isActive",valuePropName:"checked",rules:[{required:!0}],children:Object(c.jsx)(be.a,{})})}),Object(c.jsx)(h.a,{md:11,children:Object(c.jsx)(de.a.Item,{children:Object(c.jsx)(F.a,{loading:s,style:{width:"100%"},size:"large",htmlType:"submit",className:"factra-action-btns save-btn",children:"Saqlash"})})})]})]}),Object(c.jsxs)(h.a,{md:12,children:[Object(c.jsx)(de.a.Item,{name:"body_uz",rules:[{required:!0}],children:Object(c.jsx)(Ue.a,{placeholder:"Body uz",rows:4,size:"large"})}),Object(c.jsx)(de.a.Item,{name:"body_ru",rules:[{required:!0}],children:Object(c.jsx)(Ue.a,{rows:4,placeholder:"Body ru",size:"large"})}),Object(c.jsx)(de.a.Item,{name:"body_en",rules:[{required:!0}],children:Object(c.jsx)(Ue.a,{placeholder:"Body en",rows:4,size:"large"})})]})]})]})})})},Pt=Object(s.g)((function(e){var a=e.match;return Object(c.jsx)("div",{children:Object(c.jsxs)(b.a,{justify:"space-around",children:[Object(c.jsx)(h.a,{md:5,lg:4,children:Object(c.jsx)(Ea,{admin:!0})}),Object(c.jsxs)(h.a,{md:19,lg:20,children:[Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification"),render:function(){return Object(c.jsx)(se,{doc:"notification",hideTabs:!0})}}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/create"),component:Rt}),Object(c.jsx)(s.b,{exact:!0,path:"".concat(a.path,"/notification/edit/:notificationId"),component:Rt})]})]})})})),Vt=Object(O.b)({user:p,token:v,loadedKey:g}),Mt=Object(m.b)(Vt,(function(e){return{signOut:function(){return e(We())}}}))((function(e){var a=e.user,t=e.token,i=e.loadedKey,l=e.signOut;U.a.locale("uz-latn"),U.a.defaultFormat="MMMM Do YYYY";var r=Object(re.a)().t;return M.a.defaults.baseURL=ya,M.a.defaults.headers.common.Authorization="Bearer "+t,Object(n.useEffect)((function(){(null===i||void 0===i?void 0:i.time)+18e5<Date.now()&&(console.log("Hi"),l(),T.b.warn(r("Sessiyangiz tugadi!")))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(kt,{}),Object(c.jsxs)(s.d,{children:[Object(c.jsx)(s.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(s.a,{to:"/home"})}}),Object(c.jsx)(s.b,{path:"/home",component:At}),Object(c.jsx)(s.b,{path:"/cabinet",render:function(){return a?Object(c.jsx)(pt,{}):Object(c.jsx)(s.a,{to:"/home/login"})}}),Object(c.jsx)(s.b,{path:"/admin",render:function(){return 1===a.role_id?Object(c.jsx)(Pt,{}):Object(c.jsx)(s.a,{to:"/home"})}})]})]})})),Bt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,637)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,i=a.getLCP,l=a.getTTFB;t(e),c(e),n(e),i(e),l(e)}))},Ut=t(74),Kt=t(318),Lt=t.n(Kt),Yt=t(186),Xt=t(319),Qt={currentUser:null,token:null,cabinetData:null,userCompanies:[],selectedEsign:null,loadedKeyId:null,keyUser:null,isAferta:!1,isRouming:!1,products:[]},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case He.SET_USER_PRODUCTS:return Object(S.a)(Object(S.a)({},e),{},{products:Array.isArray(a.payload)?a.payload:[]});case He.SET_IS_AFERTA:return Object(S.a)(Object(S.a)({},e),{},{isAferta:a.payload});case He.SET_IS_ROUMING:return Object(S.a)(Object(S.a)({},e),{},{isRouming:a.payload});case He.SET_KEY_USER:return Object(S.a)(Object(S.a)({},e),{},{keyUser:a.payload});case He.SET_LOADED_KEY_ID:return Object(S.a)(Object(S.a)({},e),{},{loadedKeyId:a.payload});case He.SET_USER_COMPANIES:return Object(S.a)(Object(S.a)({},e),{},{userCompanies:a.payload});case He.SET_CABINET_DATA:return Object(S.a)(Object(S.a)({},e),{},{cabinetData:a.payload});case He.SET_USER_ONLY:return Object(S.a)(Object(S.a)({},e),{},{currentUser:a.payload});case He.SUCCESS_LOGIN:return Object(S.a)(Object(S.a)({},e),{},{currentUser:a.payload.data,token:a.payload.token});case He.LOG_OUT:return Object(S.a)(Object(S.a)({},e),{},{currentUser:null,token:null,loadedKeyId:null,keyUser:null,userCompanies:[],products:[]});default:return e}},Jt={key:"root",storage:t.n(Xt).a,whitelist:["user"]},Wt=Object(Ut.c)({user:Ht}),Gt=Object(Yt.a)(Jt,Wt),$t=t(326),Zt=t(327),ec=_t.a.mark(ac);function ac(){return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Zt.a)([]);case 2:case"end":return e.stop()}}),ec)}var tc=Object($t.a)(),cc=[tc];cc.push(Lt.a);var nc=Object(Ut.e)(Gt,Ut.a.apply(void 0,cc));tc.run(ac);var ic=Object(Yt.b)(nc),lc=t(320);r.a.render(Object(c.jsx)(m.a,{store:nc,children:Object(c.jsx)(R.a,{children:Object(c.jsx)(lc.a,{persistor:ic,children:Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(n.Suspense,{fallback:Object(c.jsx)(ja.a,{}),children:Object(c.jsx)(Mt,{})})})})})}),document.getElementById("root")),Bt()}},[[609,1,2]]]);
//# sourceMappingURL=main.835f465a.chunk.js.map